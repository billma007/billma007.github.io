{"meta":{"title":"Bill Ma's Blog","subtitle":"Welcome!","description":"Welcome to Bill Ma's blog!","author":"Bill Ma","url":"https://billma.top","root":"/"},"pages":[{"title":"","date":"2022-02-06T07:41:51.644Z","updated":"2022-02-06T07:40:10.358Z","comments":true,"path":"404.html","permalink":"https://billma.top/404.html","excerpt":"","text":"404 很抱歉，您访问的页面不存在 可能是输入地址有误或该地址已被删除"},{"title":"","date":"2022-02-04T03:43:57.588Z","updated":"2021-08-21T03:44:28.000Z","comments":true,"path":"baidu_verify_code-ymIFKBAamH.html","permalink":"https://billma.top/baidu_verify_code-ymIFKBAamH.html","excerpt":"","text":"eecdbb800b42eb7ff563bd2fb258bc14"},{"title":"about","date":"2021-08-07T08:34:23.000Z","updated":"2021-10-30T13:42:10.000Z","comments":true,"path":"about/index.html","permalink":"https://billma.top/about/index.html","excerpt":"","text":"关于作者江苏省四星级高中学生，热衷于计算机，会C++，Python语言，略懂Basic语言。 爱好爱好广泛（但都不精通），在各个领域都能看到我的身影。 音乐小提琴10级，自学中提琴，口琴，非洲鼓，民谣吉他。但是由于学业繁忙，已经好久没碰过小提琴了。 喜欢听粤语歌曲，主要是Beyond，陈奕迅的歌曲。 国语歌曲喜欢听周传雄，小虎队，周杰伦等歌曲。 外语喜欢听Michael Jackson。 还喜欢听两步逃离地狱，Epic的史诗音乐，比如History 和Last Reunion等等。 游戏最近在玩的音游是《Phigros》，非常好的一款国产音游（TapTap鸽游开发）。此外，外游我玩堡垒之夜（很可惜苹果版被封杀了），Steam的游戏也有时玩玩。 此外，还喜欢玩一些沙雕的游戏，比如SimCity(International)等等。 编程不喜欢前端！ 喜欢自己玩一些很沙雕的代码，做一些沙雕和反人类的程序。 精通C++，参加过信息学奥林匹克竞赛（名落西山），也会Python语言（自学的），也懂一点点（真的就一点点）html开发。 本人也喜欢使用hexo。目前使用过的主题有：Stellar,Volantis等。 联系方式12345678910def contact: QQ:36937975 Wechat:billma6688 email:maboning237103015@163.com Twitter:@billma007cool Instagram/facebook:billma007 private:billma.top CDSN:billma007 luogu:billma007 再次欢迎您的到来"},{"title":"Calall产品发布页","date":"2021-08-10T08:33:29.000Z","updated":"2021-08-09T21:07:40.000Z","comments":true,"path":"calall/1_0_db2.html","permalink":"https://billma.top/calall/1_0_db2.html","excerpt":"","text":"Calall是一款多功能计算器，可以精确计算指数函数，对数函数，7种三角函数，阶乘，以及发送邮件，定时关机/重启电脑，4种经典单机游戏等多功能。该版本为Callall3内测版第二版本，上线时间为2020/7/20。 软件声明如何使用下载链接更新内容及仍然存在的bugbug反馈方式/联系作者更多 1.软件声明 Calall多功能计算器 ©2020-2021 Billma 2.如何使用？ 一.首先，打开该软件，进入密码界面，输入密码6283； （注：Developer Beta版本有期限，过期则无法使用） 二.进入功能选择界面。选择要选择功能的序号，按下回车键。 1.log function：对数函数，点开后输入base number（底数）等参数，既可输出答案。注意，如果输出nan，则表明函数无效。2.factorial function：阶乘3.trigononetric function：计算三角函数。该功能具体用法在下面会讲到。4.pow function：指数函数。71.计算BMI。请按照软件提供的单位输入。62.给作者发邮件。在该版本不可用。64.作者精选美女高清大图。目前该功能仅提供三张测试照片。65.4种经典小游戏：贪吃蛇，打飞机，扫雷，小恐龙（部分机型体验较差，不建议使用）【注意：游戏一定要将输入法切换至英文再使用】100.Universal Calculator：普通计算器。在该版本不可用。97.Clear：清屏。该功能在2.3.0之后就没有使用的必要了。98.change color：改变背景颜色，目前内测版仅支持3种配色。99.close this software：关闭软件。在Linux系统中必须手动关闭。9901.Unistall this software：卸载该软件。输入错误：I don&#8217;t know what you&#8217;re entering，按任意键重新输入。 三角函数功能具体用法（该部分bug已经修复） 1-6.计算各种函数类型。选择后直接输入你要计算的数字（不能含有π）7.计算含有π的数字时，请选择7，然后输入要选择的模式，随后输入该数字（不需要输入π，系统已经自动乘上了）8.打印0-π/2之间所有数字的sin值并保存到软件所在目录下面的一个txt文件中。该程序根据必修一数学书的介绍编写，但是随后发现计算非常不准，不建议参考使用。注：以上所有计算均为弧度制，精确到小数点后4位，若出现nan则为定义域错误，若出现XXXe+XXX则为科学记数法，意思是a*10^b 飞机大战玩法 进入游戏，切换至控制位置，英文输入法，使用w和s按钮选择难度，按k开始游戏。 进入游戏后，用wasd控制飞机位置，用k开炮。 未解决的bug：飞机大战结束后ruoxu 3.如何下载 点击此处前往下载 4.bug见上。 目前仅支持Windows2000，Vista，XP，Windows7,8,10。系统需要64位。 仅支持Intel 酷睿I5/I7/I9/M1处理器，内存容量需要512MB，建议大于2048MB 暂不支持Windows2000以前的系统，WIndows11，Linux系统，MacOS所有系统 如果不会使用or有bug？ QQ：36937975 Wechat：billma6688 Email：maboning237103015@163.com Twitter：@billma007cool Facebook：billma007"},{"title":"关于本站","date":"2021-08-07T08:34:23.000Z","updated":"2022-02-17T06:35:59.023Z","comments":true,"path":"about/station.html","permalink":"https://billma.top/about/station.html","excerpt":"","text":"1.RightMenu(右键菜单)本站右键菜单启用JS，如果需要调取系统菜单请按住Ctrl后再右击。 2.live2d本文已启用live2d模型，live2d模型作者cneyhn 如需关闭，请按F12（部分浏览器Ctrl+U）删除元素。 3.评论系统本博客采用Beaudar评论系统。该评论系统依赖github issues运行，所以需要注册一个github来进行评论 注意，评论系统只支持github登录，只支持Markdown格式编写。不懂什么是Markdown格式的自己百度。 20220217更新：现在Beaudar评论系统已经停止维护，且需要GItHub登录，操作较为不便，所以现在已换成Valine评论系统。该系统为纯匿名，请文明发言。 4.主题本站使用Hexo制作。主题使用Volantis . 5.search(搜索功能)该功能暂不可用。 20200216更新：创建了./search.xml文件，支持站内搜索。 6.BiliBili本站外链的哔哩哔哩视频暂不适配电脑观看，手机端可以完美适配。注意，电脑端可以点击视屏下方的链接直接观看。 7.CSS订阅本站移动端支持CSS订阅。安卓或鸿蒙系统手机请复制以下网站到相应的CSS订阅器： 1https://billma.top/atom.xml 苹果手机在Safari中可以直接点击这里进行订阅 20220101更新：iOS15.1和iPadOS15.1取消了对Safari直连CSS的支持。请手动添加。 8.CDN加速本站使用CDN加速。但即便如此，本站的托管网站github的访问速度还是很下饭的。（没办法，没钱租服务器，穷X的痛苦） 999.Others还有问题可以在下面回复哦！"},{"title":"Calall产品发布页","date":"2021-08-10T08:33:29.000Z","updated":"2021-08-09T21:07:40.000Z","comments":true,"path":"calall/1_0_db3.html","permalink":"https://billma.top/calall/1_0_db3.html","excerpt":"","text":"Calall是一款多功能计算器，可以精确计算指数函数，对数函数，7种三角函数，阶乘，以及发送邮件，定时关机/重启电脑，4种经典单机游戏等多功能。该版本为Callall3内测版第二版本，上线时间为2020/7/20。 软件声明如何使用下载链接更新内容及仍然存在的bugbug反馈方式/联系作者更多 1.软件声明 Calall多功能计算器 ©2020-2021 Billma 2.如何使用？ 一.首先，打开该软件，进入密码界面，输入密码6283； （注：Developer Beta版本有期限，过期则无法使用） 二.进入功能选择界面。选择要选择功能的序号，按下回车键。 1.log function：对数函数，点开后输入base number（底数）等参数，既可输出答案。注意，如果输出nan，则表明函数无效。2.factorial function：阶乘3.trigononetric function：计算三角函数。该功能具体用法在下面会讲到。4.pow function：指数函数。71.计算BMI。请按照软件提供的单位输入。62.给作者发邮件。在该版本不可用。64.作者精选美女高清大图。目前该功能仅提供三张测试照片。65.4种经典小游戏：贪吃蛇，打飞机，扫雷，小恐龙（部分机型体验较差，不建议使用）【注意：游戏一定要将输入法切换至英文再使用】100.Universal Calculator：普通计算器。在该版本不可用。97.Clear：清屏。该功能在2.3.0之后就没有使用的必要了。98.change color：改变背景颜色，目前内测版仅支持3种配色。99.close this software：关闭软件。在Linux系统中必须手动关闭。9901.Unistall this software：卸载该软件。输入错误：I don&#8217;t know what you&#8217;re entering，按任意键重新输入。 三角函数功能具体用法（该部分bug已经修复） 1-6.计算各种函数类型。选择后直接输入你要计算的数字（不能含有π）7.计算含有π的数字时，请选择7，然后输入要选择的模式，随后输入该数字（不需要输入π，系统已经自动乘上了）8.打印0-π/2之间所有数字的sin值并保存到软件所在目录下面的一个txt文件中。该程序根据必修一数学书的介绍编写，但是随后发现计算非常不准，不建议参考使用。注：以上所有计算均为弧度制，精确到小数点后4位，若出现nan则为定义域错误，若出现XXXe+XXX则为科学记数法，意思是a*10^b 飞机大战玩法 进入游戏，切换至控制位置，英文输入法，使用w和s按钮选择难度，按k开始游戏。 进入游戏后，用wasd控制飞机位置，用k开炮。 未解决的bug：飞机大战结束后ruoxu 3.如何下载 点击此处前往下载 4.bug见上。 目前仅支持Windows2000，Vista，XP，Windows7,8,10。系统需要64位。 仅支持Intel 酷睿I5/I7/I9/M1处理器，内存容量需要512MB，建议大于2048MB 暂不支持Windows2000以前的系统，WIndows11，Linux系统，MacOS所有系统 如果不会使用or有bug？ QQ：36937975 Wechat：billma6688 Email：maboning237103015@163.com Twitter：@billma007cool Facebook：billma007"},{"title":"Calall产品发布页","date":"2021-08-10T08:33:29.000Z","updated":"2021-08-24T23:38:10.000Z","comments":true,"path":"calall/index.html","permalink":"https://billma.top/calall/index.html","excerpt":"","text":"Calall是一款多功能计算器，可以精确计算指数函数，对数函数，7种三角函数，阶乘，以及发送邮件，定时关机/重启电脑，4种经典单机游戏等多功能。该版本为Callall3内测版第二版本，上线时间为2020/7/20。 软件声明如何使用下载链接更新内容及仍然存在的bugbug反馈方式/联系作者更多 1.软件声明 Calall多功能计算器 ©2020-2021 Billma 2.如何使用？ 一.首先，打开该软件，进入密码界面，输入密码6283； （注：Developer Beta版本有期限，过期则无法使用） 二.进入功能选择界面。选择要选择功能的序号，按下回车键。 1.log function：对数函数，点开后输入base number（底数）等参数，既可输出答案。注意，如果输出nan，则表明函数无效。2.factorial function：阶乘3.trigononetric function：计算三角函数。该功能具体用法在下面会讲到。4.pow function：指数函数。71.计算BMI。请按照软件提供的单位输入。62.给作者发邮件。在该版本不可用。64.作者精选美女高清大图。目前该功能仅提供三张测试照片。65.4种经典小游戏：贪吃蛇，打飞机，扫雷，小恐龙（部分机型体验较差，不建议使用）【注意：游戏一定要将输入法切换至英文再使用】100.Universal Calculator：普通计算器。在该版本不可用。97.Clear：清屏。该功能在2.3.0之后就没有使用的必要了。98.change color：改变背景颜色，目前内测版仅支持3种配色。99.close this software：关闭软件。在Linux系统中必须手动关闭。9901.Unistall this software：卸载该软件。输入错误：I don&#8217;t know what you&#8217;re entering，按任意键重新输入。 三角函数功能具体用法（该部分bug已经修复） 1-6.计算各种函数类型。选择后直接输入你要计算的数字（不能含有π）7.计算含有π的数字时，请选择7，然后输入要选择的模式，随后输入该数字（不需要输入π，系统已经自动乘上了）8.打印0-π/2之间所有数字的sin值并保存到软件所在目录下面的一个txt文件中。该程序根据必修一数学书的介绍编写，但是随后发现计算非常不准，不建议参考使用。注：以上所有计算均为弧度制，精确到小数点后4位，若出现nan则为定义域错误，若出现XXXe+XXX则为科学记数法，意思是a*10^b 飞机大战玩法 进入游戏，切换至控制位置，英文输入法，使用w和s按钮选择难度，按k开始游戏。 进入游戏后，用wasd控制飞机位置，用k开炮。 未解决的bug：飞机大战结束后ruoxu 3.如何下载 点击此处前往下载 4.bug见上。 目前仅支持Windows2000，Vista，XP，Windows7,8,10。系统需要64位。 仅支持Intel 酷睿I5/I7/I9/M1处理器，内存容量需要512MB，建议大于2048MB 暂不支持Windows2000以前的系统，WIndows11，Linux系统，MacOS所有系统 如果不会使用or有bug？ QQ：36937975 Wechat：billma6688 Email：maboning237103015@163.com Twitter：@billma007cool Facebook：billma007"},{"title":"游戏大全","date":"2022-02-19T13:57:28.913Z","updated":"2022-02-19T13:57:28.913Z","comments":true,"path":"game/index.html","permalink":"https://billma.top/game/index.html","excerpt":"","text":"该界面正在逐步被迁移到如下界面，欢迎： BillMa'playground"},{"title":"thoughts492813","date":"2022-02-16T04:46:14.000Z","updated":"2022-02-16T05:31:57.247Z","comments":true,"path":"shuoshuo/index.html","permalink":"https://billma.top/shuoshuo/index.html","excerpt":"","text":"new Artitalk({ appId: 'g9ATuA3siesDJaQN9pOJKkLb-MdYXbMMI', // Your LeanCloud appId appKey: 'lYIakgTMgstykUlwxYNXBeDG' // Your LeanCloud appKey })"},{"title":"便笺","date":"2021-11-11T09:01:24.000Z","updated":"2021-11-27T13:46:12.000Z","comments":true,"path":"notes/index.html","permalink":"https://billma.top/notes/index.html","excerpt":"","text":"1.一堆奇奇怪怪的OJ系统"},{"title":"分类","date":"2022-02-22T06:46:56.929Z","updated":"2022-02-22T06:46:56.929Z","comments":true,"path":"categories/index.html","permalink":"https://billma.top/categories/index.html","excerpt":"","text":"南航苏州附中校园活动/categories/%E5%8D%97%E8%88%AA%E8%8B%8F%E5%B7%9E%E9%99%84%E4%B8%AD%E6%A0%A1%E5%9B%AD%E6%B4%BB%E5%8A%A8/ 日常经验/categories/%E6%97%A5%E5%B8%B8%E7%BB%8F%E9%AA%8C/ 竞赛解法/categories/%E7%AB%9E%E8%B5%9B%E8%A7%A3%E6%B3%95/ 编程算法/categories/%E7%BC%96%E7%A8%8B%E7%AE%97%E6%B3%95/"},{"title":"个人想法","date":"2022-02-04T03:44:03.274Z","updated":"2022-01-21T13:57:02.000Z","comments":true,"path":"thoughts/index.html","permalink":"https://billma.top/thoughts/index.html","excerpt":"","text":"在这里，我会分享一些我的看法，看到的好句子或者最近更新的签名。 2021/1/22 人间有味是清欢 2021/1/17 无论什么，熬过了，便是海阔天空 2021/1/1 对过去一年的总结是给下一年最好的礼物 2020/12/22 众里寻他千百度，蓦然回首，那人却在，灯火阑珊处。 2020/12/1 政者，正也。"},{"title":"南京航空航天大学苏州附属中学星湖高二建党百年诗歌朗诵活动","date":"2021-09-11T09:01:24.000Z","updated":"2021-09-12T06:50:06.000Z","comments":true,"path":"videopoem/index.html","permalink":"https://billma.top/videopoem/index.html","excerpt":"","text":"1.十人集体诗歌朗诵感谢以下参与人员参与录制： 汤骏懿 姚远 顾天欣 崔可欣 曹艺舟 祝中翔 杨海佳 沈思遥 王韬越 张翌晨 导演：马泊宁 姚远 拍摄+后期剪辑：马泊宁 陈星宇 特别感谢后勤小组：何昊 金弈 蒯翔 顾俊贤 陈星宇 视频播放 三连地址点击这里给作者给予支持：点击这里 2.陈星宇讲故事主讲：陈星宇 导演：马泊宁 拍摄+后期剪辑：马泊宁 陈星宇 特别感谢后勤小组： 张祉珺 视频播放 三连地址点击这里给作者给予支持：点击这里 3.张祉珺讲故事主讲：张祉珺 导演：马泊宁 拍摄+后期剪辑：马泊宁 陈星宇 特别感谢后勤小组： 陈星宇 视频播放 三连地址点击这里给作者给予支持：点击这里 4.幕后花絮 点击这里给作者给予支持：点击这里 感谢观看！"},{"title":"1.0.1Developer Beta版本：如何使用？","date":"2022-02-04T03:44:01.355Z","updated":"2021-08-26T12:25:56.000Z","comments":true,"path":"wiki/calall-light/how_to_use.html","permalink":"https://billma.top/wiki/calall-light/how_to_use.html","excerpt":"","text":"1.下载地址:点击这里跳转2.启动时：输入密码点此获得密码 然后使用记事本打开即可获取。打开main.exe，在软件的最上面右击，选择编辑-粘贴然后回车即可。暂不支持Ctrl+V。一次输入密码无需再次输入。 3.直接输入算式支持以下算式： ```C+++-* /sin();cos()tan();sinh();cosh();tanh();!//阶乘；支持像科学计算器那样嵌套暂不支持π"},{"title":"calall项目主页","date":"2022-02-04T03:44:01.355Z","updated":"2021-09-27T14:49:16.000Z","comments":true,"path":"wiki/calall-light/index.html","permalink":"https://billma.top/wiki/calall-light/index.html","excerpt":"","text":"Calall简约版现已上线你是否觉得Calall太花里胡哨？你是否觉得Calall不会用？现在，Calall正式上线了！ 下载地址： 1.0.0.0Developer Beta 1：敬请期待 1.0.0.0Developer Beta 2：敬请期待 1.0.0.2Public Beta 1:敬请期待"},{"title":"faq","date":"2022-02-17T06:04:35.000Z","updated":"2022-02-17T06:04:35.553Z","comments":true,"path":"faq/index.html","permalink":"https://billma.top/faq/index.html","excerpt":"","text":""},{"title":"资源","date":"2022-02-19T13:58:35.000Z","updated":"2022-02-20T07:45:34.588Z","comments":true,"path":"resources/index.html","permalink":"https://billma.top/resources/index.html","excerpt":"","text":"1.凤凰新学案高中数学人教A版选择性必修第二册答案第五章 导数-html版（转码丢失严重，不建议使用） 5.1 5.1.1 5.1.2 5.2 5.2.1 5.2.2 5.2.3 5.3 5.3.1 5.3.2 5.3.3 5.3.4 5.3.5 习题课 5.4.1 5.4.2 5.4.3 5.4.4 章末复习 第五章 导数-..pdf版本（电脑可在线观看，不可以修改） 5.1 5.1.1 5.1.2 5.2 5.2.1 5.2.2 5.2.3 5.3 5.3.1 5.3.2 5.3.3 5.3.4 5.3.5 习题课 5.4.1 5.4.2 5.4.3 5.4.4 章末复习 第五章 导数-doc文档版本（需要下载，可以修改） 5.1 5.1.1 5.1.2 5.2 5.2.1 5.2.2 5.2.3 5.3 5.3.1 5.3.2 5.3.3 5.3.4 5.3.5 习题课 5.4.1 5.4.2 5.4.3 5.4.4 章末复习"},{"title":"中短篇小说精选","date":"2022-02-20T02:16:32.000Z","updated":"2022-02-20T02:28:13.051Z","comments":true,"path":"sto/index.html","permalink":"https://billma.top/sto/index.html","excerpt":"","text":"摩擦取火 敬请期待"},{"title":"提问的智慧","date":"2022-02-20T01:28:42.000Z","updated":"2022-02-24T05:29:33.215Z","comments":true,"path":"how-to-ask-q/index.html","permalink":"https://billma.top/how-to-ask-q/index.html","excerpt":"","text":"How To Ask Questions The Smart Way Copyright © 2001,2006,2014 Eric S. Raymond, Rick Moen 本指南英文版版权为 Eric S. Raymond, Rick Moen 所有。 原文网址：http://www.catb.org/~esr/faqs/smart-questions.html Copyleft 2001 by D.H.Grand(nOBODY/Ginux), 2010 by Gasolin, 2015 by Ryan Wu 本中文指南是基于原文 3.10 版以及 2010 年由 Gasolin 所翻译版本的最新翻译； 协助指出翻译问题，请发 issue，或直接发 pull request 给我。 本文另有繁體中文版。 目录 目录 声明 简介 在提问之前 当你提问时 慎选提问的论坛 Stack Overflow 网站和 IRC 论坛 第二步，使用项目邮件列表 使用有意义且描述明确的标题 使问题容易回复 使用清晰、正确、精准且合乎语法的语句 使用易于读取且标准的文件格式发送问题 精确地描述问题并言之有物 话不在多而在精 别动辄声称找到 Bug 低声下气不能代替你的功课 描述问题症状而非你的猜测 按发生时间先后列出问题症状 描述目标而不是过程 别要求使用私人电邮回复 清楚明确的表达你的问题以及需求 询问有关代码的问题时 别把自己家庭作业的问题贴上来 去掉无意义的提问句 即使你很急也不要在标题写紧急 礼多人不怪，而且有时还很有帮助 问题解决后，加个简短的补充说明 如何解读答案 RTFM 和 STFW：如何知道你已完全搞砸了 如果还是搞不懂 处理无礼的回应 如何避免扮演失败者 不该问的问题 好问题与蠢问题 如果得不到回答 如何更好地回答问题 相关资源 鸣谢 声明许多项目在他们的使用协助/说明网页中链接了本指南，这么做很好，我们也鼓励大家都这么做。但如果你是负责管理这个项目网页的人，请在超链接附近的显著位置上注明： 本指南不提供此项目的实际支持服务！ 我们已经深刻领教到少了上述声明所带来的痛苦。因为少了这点声明，我们不停地被一些白痴纠缠。这些白痴认为既然我们发布了这本指南，那么我们就有责任解决世上所有的技术问题。 如果你因寻求某些帮助而阅读本指南，并在离开时还觉得可以从本文作者这里得到直接帮助，那你就是我们之前说的那些白痴之一。别问我们问题，我们只会忽略你。我们在这本指南中想教你如何从那些真正懂得你所遇到的软件或硬件问题的人处取得协助，而 99% 的情况下那不会是我们。除非你确定本指南的作者之一刚好是你所遇到的问题领域的专家，否则请不要打扰我们，这样大家都会开心一点。 简介在黑客的世界里，当你拋出一个技术问题时，最终是否能得到有用的回答，往往取决于你所提问和追问的方式。本指南将教你如何正确的提问以获得你满意的答案。 现在开源（Open Source）软件已经相当盛行，您通常可以从其他更有经验的用户那里获得与黑客一样好的答案，这是件好事；和黑客相比，用户们往往对那些新手常遇到的问题更宽容一些。尽管如此，以我们在此推荐的方式对待这些有经验的用户通常也是从他们那里获得有用答案的最有效方式。 首先你应该明白，黑客们喜爱有挑战性的问题，或者能激发他们思维的好问题。如果我们并非如此，那我们也不会成为你想询问的对象。如果你给了我们一个值得反复咀嚼玩味的好问题，我们自会对你感激不尽。好问题是激励，是厚礼。好问题可以提高我们的理解力，而且通常会暴露我们以前从没意识到或者思考过的问题。对黑客而言，“好问题！”是诚挚的大力称赞。 尽管如此，黑客们有着蔑视或傲慢面对简单问题的坏名声，这有时让我们看起来对新手、无知者似乎较有敌意，但其实不是那样的。 我们不讳言我们对那些不愿思考、或者在发问前不做他们该做的事的人的蔑视。那些人是时间杀手 —— 他们只想索取，从不付出，消耗我们可用在更有趣的问题或更值得回答的人身上的时间。我们称这样的人为 失败者（撸瑟） （由于历史原因，我们有时把它拼作 lusers）。 我们意识到许多人只是想使用我们写的软件，他们对学习技术细节没有兴趣。对大多数人而言，电脑只是种工具，是种达到目的的手段而已。他们有自己的生活并且有更要紧的事要做。我们了解这点，也从不指望每个人都对这些让我们着迷的技术问题感兴趣。尽管如此，我们回答问题的风格是指向那些真正对此有兴趣并愿意主动参与解决问题的人，这一点不会变，也不该变。如果连这都变了，我们就是在降低做自己最擅长的事情上的效率。 我们（在很大程度上）是自愿的，从繁忙的生活中抽出时间来解答疑惑，而且时常被提问淹没。所以我们无情地滤掉一些话题，特别是拋弃那些看起来像失败者的家伙，以便更高效地利用时间来回答赢家（winner）的问题。 如果你厌恶我们的态度，高高在上，或过于傲慢，不妨也设身处地想想。我们并没有要求你向我们屈服 —— 事实上，我们大多数人非常乐意与你平等地交流，只要你付出小小努力来满足基本要求，我们就会欢迎你加入我们的文化。但让我们帮助那些不愿意帮助自己的人是没有效率的。无知没有关系，但装白痴就是不行。 所以，你不必在技术上很在行才能吸引我们的注意，但你必须表现出能引导你变得在行的特质 —— 机敏、有想法、善于观察、乐于主动参与解决问题。如果你做不到这些使你与众不同的事情，我们建议你花点钱找家商业公司签个技术支持服务合同，而不是要求黑客个人无偿地帮助你。 如果你决定向我们求助，当然你也不希望被视为失败者，更不愿成为失败者中的一员。能立刻得到快速并有效答案的最好方法，就是像赢家那样提问 —— 聪明、自信、有解决问题的思路，只是偶尔在特定的问题上需要获得一点帮助。 （欢迎对本指南提出改进意见。你可以 email 你的建议至 esr@thyrsus.com 或 respond-auto@linuxmafia.com。然而请注意，本文并非网络礼节的通用指南，而我们通常会拒绝无助于在技术论坛得到有用答案的建议）。 在提问之前在你准备要通过电子邮件、新闻群组或者聊天室提出技术问题前，请先做到以下事情： 尝试在你准备提问的论坛的旧文章中搜索答案。 尝试上网搜索以找到答案。 尝试阅读手册以找到答案。 尝试阅读常见问题文件（FAQ）以找到答案。 尝试自己检查或试验以找到答案。 向你身边的强者朋友打听以找到答案。 如果你是程序开发者，请尝试阅读源代码以找到答案。 当你提出问题的时候，请先表明你已经做了上述的努力；这将有助于树立你并不是一个不劳而获且浪费别人的时间的提问者。如果你能一并表达在做了上述努力的过程中所学到的东西会更好，因为我们更乐于回答那些表现出能从答案中学习的人的问题。 运用某些策略，比如先用 Google 搜索你所遇到的各种错误信息（搜索 Google 论坛和网页），这样很可能直接就找到了能解决问题的文件或邮件列表线索。即使没有结果，在邮件列表或新闻组寻求帮助时加上一句 我在 Google 中搜过下列句子但没有找到什么有用的东西 也是件好事，即使它只是表明了搜索引擎不能提供哪些帮助。这么做（加上搜索过的字串）也让遇到相似问题的其他人能被搜索引擎引导到你的提问来。 别着急，不要指望几秒钟的 Google 搜索就能解决一个复杂的问题。在向专家求助之前，再阅读一下常见问题文件（FAQ）、放轻松、坐舒服一些，再花点时间思考一下这个问题。相信我们，他们能从你的提问看出你做了多少阅读与思考，如果你是有备而来，将更有可能得到解答。不要将所有问题一股脑拋出，只因你的第一次搜索没有找到答案（或者找到太多答案）。 准备好你的问题，再将问题仔细的思考过一遍，因为草率的发问只能得到草率的回答，或者根本得不到任何答案。越是能表现出在寻求帮助前你为解决问题所付出的努力，你越有可能得到实质性的帮助。 小心别问错了问题。如果你的问题基于错误的假设，某个普通黑客（J. Random Hacker）多半会一边在心里想着蠢问题…，一边用无意义的字面解释来答复你，希望着你会从问题的回答（而非你想得到的答案）中汲取教训。 绝不要自以为够格得到答案，你没有；你并没有。毕竟你没有为这种服务支付任何报酬。你将会是自己去挣到一个答案，靠提出有内涵的、有趣的、有思维激励作用的问题 —— 一个有潜力能贡献社区经验的问题，而不仅仅是被动的从他人处索取知识。 另一方面，表明你愿意在找答案的过程中做点什么是一个非常好的开端。谁能给点提示？、我的这个例子里缺了什么？以及我应该检查什么地方比请把我需要的确切的过程贴出来更容易得到答复。因为你表现出只要有人能指个正确方向，你就有完成它的能力和决心。 当你提问时慎选提问的论坛小心选择你要提问的场合。如果你做了下述的事情，你很可能被忽略掉或者被看作失败者： 在与主题不合的论坛上贴出你的问题。 在探讨进阶技术问题的论坛张贴非常初级的问题；反之亦然。 在太多的不同新闻群组上重复转贴同样的问题（cross-post）。 向既非熟人也没有义务解决你问题的人发送私人电邮。 黑客会剔除掉那些搞错场合的问题，以保护他们沟通的渠道不被无关的东西淹没。你不会想让这种事发生在自己身上的。 因此，第一步是找到对的论坛。再说一次，Google 和其它搜索引擎还是你的朋友，用它们来找到与你遭遇到困难的软硬件问题最相关的网站。通常那儿都有常见问题（FAQ）、邮件列表及相关说明文件的链接。如果你的努力（包括阅读 FAQ）都没有结果，网站上也许还有报告 Bug（Bug-reporting）的流程或链接，如果是这样，链过去看看。 向陌生的人或论坛发送邮件最可能是风险最大的事情。举例来说，别假设一个提供丰富内容的网页的作者会想充当你的免费顾问。不要对你的问题是否会受到欢迎做太乐观的估计 —— 如果你不确定，那就向别处发送，或者压根别发。 在选择论坛、新闻群组或邮件列表时，别太相信名字，先看看 FAQ 或者许可书以弄清楚你的问题是否切题。发文前先翻翻已有的话题，这样可以让你感受一下那里的文化。事实上，事先在新闻组或邮件列表的历史记录中搜索与你问题相关的关键词是个极好的主意，也许这样就找到答案了。即使没有，也能帮助你归纳出更好的问题。 别像机关枪似的一次“扫射”所有的帮助渠道，这就像大喊大叫一样会使人不快。要一个一个地来。 搞清楚你的主题！最典型的错误之一是在某种致力于跨平台可移植的语言、套件或工具的论坛中提关于 Unix 或 Windows 操作系统程序界面的问题。如果你不明白为什么这是大错，最好在搞清楚这之间差异之前什么也别问。 一般来说，在仔细挑选的公共论坛中提问，会比在私有论坛中提同样的问题更容易得到有用的回答。有几个理由可以支持这点，一是看潜在的回复者有多少，二是看观众有多少。黑客较愿意回答那些能帮助到许多人的问题。 可以理解的是，老练的黑客和一些热门软件的作者正在接受过多的错发信息。就像那根最后压垮骆驼背的稻草一样，你的加入也有可能使情况走向极端 —— 已经好几次了，一些热门软件的作者由于涌入其私人邮箱的大量不堪忍受的无用邮件而不再提供支持。 Stack Overflow搜索，然后在 Stack Exchange 问。 近年来，Stack Exchange 社区已经成为回答技术及其他问题的主要渠道，尤其是那些开放源码的项目。 因为 Google 索引是即时的，在看 Stack Exchange 之前先在 Google 搜索。有很高的几率某人已经问了一个类似的问题，而且 Stack Exchange 网站们往往会是搜索结果中最前面几个。如果你在 Google 上没有找到任何答案，你再到特定相关主题的网站去找。用标签（Tag）搜索能让你更缩小你的搜索结果。 Stack Exchange 已经成长到超过一百个网站，以下是最常用的几个站： Super User 是问一些通用的电脑问题，如果你的问题跟代码或是写程序无关，只是一些网络连线之类的，请到这里。 Stack Overflow 是问写程序有关的问题。 Server Fault 是问服务器和网管相关的问题。 网站和 IRC 论坛本地的用户群组（user group），或者你所用的 Linux 发行版本也许正在宣传他们的网页论坛或 IRC 频道，并提供新手帮助（在一些非英语国家，新手论坛很可能还是邮件列表），这些都是开始提问的好地方，特别是当你觉得遇到的也许只是相对简单或者很普通的问题时。有广告赞助的 IRC 频道是公开欢迎提问的地方，通常可以即时得到回应。 事实上，如果程序出的问题只发生在特定 Linux 发行版提供的版本（这很常见），最好先去该发行版的论坛或邮件列表中提问，再到程序本身的论坛或邮件列表提问。（否则）该项目的黑客可能仅仅回复“使用我们的版本”。 在任何论坛发文以前，先确认一下有没有搜索功能。如果有，就试着搜索一下问题的几个关键词，也许这会有帮助。如果在此之前你已做过通用的网页搜索（你也该这样做），还是再搜索一下论坛，搜索引擎有可能没来得及索引此论坛的全部内容。 通过论坛或 IRC 频道来提供用户支持服务有增长的趋势，电子邮件则大多为项目开发者间的交流而保留。所以最好先在论坛或 IRC 中寻求与该项目相关的协助。 在使用 IRC 的时候，首先最好不要发布很长的问题描述，有些人称之为频道洪水。最好通过一句话的问题描述来开始聊天。 第二步，使用项目邮件列表当某个项目提供开发者邮件列表时，要向列表而不是其中的个别成员提问，即使你确信他能最好地回答你的问题。查一查项目的文件和首页，找到项目的邮件列表并使用它。有几个很好的理由支持我们采用这种办法： 任何好到需要向个别开发者提出的问题，也将对整个项目群组有益。反之，如果你认为自己的问题对整个项目群组来说太愚蠢，那这也不能成为骚扰个别开发者的理由。 向列表提问可以分散开发者的负担，个别开发者（尤其是项目领导人）也许太忙以至于没法回答你的问题。 大多数邮件列表都会被存档，那些被存档的内容将被搜索引擎索引。如果你向列表提问并得到解答，将来其他人可以通过网页搜索找到你的问题和答案，也就不用再次发问了。 如果某些问题经常被问到，开发者可以利用此信息来改进说明文件或软件本身，以使其更清楚。如果只是私下提问，就没有人能看到最常见问题的完整场景。 如果一个项目既有“用户”也有“开发者”（或“黑客”）邮件列表或论坛，而你又不会动到那些源代码，那么就向“用户”列表或论坛提问。不要假设自己会在开发者列表中受到欢迎，那些人多半会将你的提问视为干扰他们开发的噪音。 然而，如果你确信你的问题很特别，而且在“用户”列表或论坛中几天都没有回复，可以试试前往“开发者”列表或论坛发问。建议你在张贴前最好先暗地里观察几天以了解那里的行事方式（事实上这是参与任何私有或半私有列表的好主意） 如果你找不到一个项目的邮件列表，而只能查到项目维护者的电子邮件地址，尽管向他发信。即使是在这种情况下，也别假设（项目）邮件列表不存在。在你的电子邮件中，请陈述你已经试过但没有找到合适的邮件列表，也提及你不反对将自己的邮件转发给他人（许多人认为，即使没什么秘密，私人电子邮件也不应该被公开。通过允许将你的电子邮件转发他人，你给了相应人员处置你邮件的选择）。 使用有意义且描述明确的标题在邮件列表、新闻群组或论坛中，大约 50 字以内的标题是抓住资深专家注意力的好机会。别用喋喋不休的帮帮忙、跪求、急（更别说救命啊！！！！这样让人反感的话，用这种标题会被条件反射式地忽略）来浪费这个机会。不要妄想用你的痛苦程度来打动我们，而应该是在这点空间中使用极简单扼要的描述方式来提出问题。 一个好标题范例是目标 —— 差异式的描述，许多技术支持组织就是这样做的。在目标部分指出是哪一个或哪一组东西有问题，在差异部分则描述与期望的行为不一致的地方。 蠢问题：救命啊！我的笔记本电脑不能正常显示了！聪明问题：X.org 6.8.1 的鼠标光标会变形，某牌显卡 MV1005 芯片组。更聪明问题：X.org 6.8.1 的鼠标光标，在某牌显卡 MV1005 芯片组环境下 - 会变形。编写目标 —— 差异 式描述的过程有助于你组织对问题的细致思考。是什么被影响了？ 仅仅是鼠标光标或者还有其它图形？只在 X.org 的 X 版中出现？或只是出现在 6.8.1 版中？ 是针对某牌显卡芯片组？或者只是其中的 MV1005 型号？ 一个黑客只需瞄一眼就能够立即明白你的环境和你遇到的问题。 总而言之，请想像一下你正在一个只显示标题的存档讨论串（Thread）索引中查寻。让你的标题更好地反映问题，可使下一个搜索类似问题的人能够关注这个讨论串，而不用再次提问相同的问题。 如果你想在回复中提出问题，记得要修改内容标题，以表明你是在问一个问题， 一个看起来像 Re: 测试 或者 Re: 新 bug 的标题很难引起足够重视。另外，在不影响连贯性之下，适当引用并删减前文的内容，能给新来的读者留下线索。 对于讨论串，不要直接点击回复来开始一个全新的讨论串，这将限制你的观众。因为有些邮件阅读程序，比如 mutt ，允许用户按讨论串排序并通过折叠讨论串来隐藏消息，这样做的人永远看不到你发的消息。 仅仅改变标题还不够。mutt 和其它一些邮件阅读程序还会检查邮件标题以外的其它信息，以便为其指定讨论串。所以宁可发一个全新的邮件。 在网页论坛上，好的提问方式稍有不同，因为讨论串与特定的信息紧密结合，并且通常在讨论串外就看不到里面的内容，故通过回复提问，而非改变标题是可接受的。不是所有论坛都允许在回复中出现分离的标题，而且这样做了基本上没有人会去看。不过，通过回复提问，这本身就是暧昧的做法，因为它们只会被正在查看该标题的人读到。所以，除非你只想在该讨论串当前活跃的人群中提问，不然还是另起炉灶比较好。 使问题容易回复以请将你的回复发送到……来结束你的问题多半会使你得不到回答。如果你觉得花几秒钟在邮件客户端设置一下回复地址都麻烦，我们也觉得花几秒钟思考你的问题更麻烦。如果你的邮件程序不支持这样做，换个好点的；如果是操作系统不支持这种邮件程序，也换个好点的。 在论坛，要求通过电子邮件回复是非常无礼的，除非你认为回复的信息可能比较敏感（有人会为了某些未知的原因，只让你而不是整个论坛知道答案）。如果你只是想在有人回复讨论串时得到电子邮件提醒，可以要求网页论坛发送给你。几乎所有论坛都支持诸如追踪此讨论串、有回复时发送邮件提醒等功能。 使用清晰、正确、精准且合乎语法的语句我们从经验中发现，粗心的提问者通常也会粗心地写程序与思考（我敢打包票）。回答粗心大意者的问题很不值得，我们宁愿把时间耗在别处。 正确的拼写、标点符号和大小写是很重要的。一般来说，如果你觉得这样做很麻烦，不想在乎这些，那我们也觉得麻烦，不想在乎你的提问。花点额外的精力斟酌一下字句，用不着太僵硬与正式 —— 事实上，黑客文化很看重能准确地使用非正式、俚语和幽默的语句。但它必须很准确，而且有迹象表明你是在思考和关注问题。 正确地拼写、使用标点和大小写，不要将its混淆为it&#39;s，loose搞成lose或者将discrete弄成discreet。不要全部用大写，这会被视为无礼的大声嚷嚷（全部小写也好不到哪去，因为不易阅读。Alan Cox 也许可以这样做，但你不行）。 更白话的说，如果你写得像是个半文盲[译注：小白]，那多半得不到理睬。也不要使用即时通信中的简写或火星文，如将的简化为d会使你看起来像一个为了少打几个键而省字的小白。更糟的是，如果像个小孩似地鬼画符那绝对是在找死，可以肯定没人会理你（或者最多是给你一大堆指责与挖苦）。 如果在使用非母语的论坛提问，你可以犯点拼写和语法上的小错，但决不能在思考上马虎（没错，我们通常能弄清两者的分别）。同时，除非你知道回复者使用的语言，否则请使用英语书写。繁忙的黑客一般会直接删除用他们看不懂的语言写的消息。在网络上英语是通用语言，用英语书写可以将你的问题在尚未被阅读就被直接删除的可能性降到最低。 如果英文是你的外语（Second language），提示潜在回复者你有潜在的语言困难是很好的：[译注：以下附上原文以供使用] English is not my native language; please excuse typing errors. 英文不是我的母语，请原谅我的错字或语法。 If you speak $LANGUAGE, please email/PM me;I may need assistance translating my question. 如果你说某语言，请向我发电邮/私信； 我需要有人协助我翻译我的问题。 I am familiar with the technical terms,but some slang expressions and idioms are difficult for me. 我对技术名词很熟悉，但对于俗语或是特别用法不甚了解。 I’ve posted my question in $LANGUAGE and English.I’ll be glad to translate responses, if you only use one or the other. 我把我的问题用某语言和英文写出来。 如果你只用其中的一种语言回答，我会乐意将回复翻译成为你使用的语言。 使用易于读取且标准的文件格式发送问题如果你人为地将问题搞得难以阅读，它多半会被忽略，人们更愿读易懂的问题，所以： 使用纯文字而不是 HTML (关闭 HTML 并不难）。 使用 MIME 附件通常是可以的，前提是真正有内容（譬如附带的源代码或 patch），而不仅仅是邮件程序生成的模板（譬如只是信件内容的拷贝）。 不要发送一段文字只是一行句子但自动换行后会变成多行的邮件（这使得回复部分内容非常困难）。设想你的读者是在 80 个字符宽的终端机上阅读邮件，最好设置你的换行分割点小于 80 字。 但是，对一些特殊的文件不要设置固定宽度（譬如日志文件拷贝或会话记录）。数据应该原样包含，让回复者有信心他们看到的是和你看到的一样的东西。 在英语论坛中，不要使用Quoted-Printable MIME 编码发送消息。这种编码对于张贴非 ASCII 语言可能是必须的，但很多邮件程序并不支持这种编码。当它们处理换行时，那些文本中四处散布的=20符号既难看也分散注意力，甚至有可能破坏内容的语意。 绝对，永远不要指望黑客们阅读使用封闭格式编写的文档，像微软公司的 Word 或 Excel 文件等。大多数黑客对此的反应就像有人将还在冒热气的猪粪倒在你家门口时你的反应一样。即便他们能够处理，他们也很厌恶这么做。 如果你从使用 Windows 的电脑发送电子邮件，关闭微软愚蠢的智能引号功能 （从[选项] &gt; [校订] &gt; [自动校正选项]，勾选掉智能引号单选框），以免在你的邮件中到处散布垃圾字符。 在论坛，勿滥用表情符号和HTML功能（当它们提供时）。一两个表情符号通常没有问题，但花哨的彩色文本倾向于使人认为你是个无能之辈。过滥地使用表情符号、色彩和字体会使你看来像个傻笑的小姑娘。这通常不是个好主意，除非你只是对性而不是对答案感兴趣。 如果你使用图形用户界面的邮件程序（如微软公司的 Outlook 或者其它类似的），注意它们的默认设置不一定满足这些要求。大多数这类程序有基于选单的查看源代码命令，用它来检查发送文件夹中的邮件，以确保发送的是纯文本文件同时没有一些奇怪的字符。 精确地描述问题并言之有物 仔细、清楚地描述你的问题或 Bug 的症状。 描述问题发生的环境（机器配置、操作系统、应用程序、以及相关的信息），提供经销商的发行版和版本号（如：Fedora Core 4、Slackware 9.1等）。 描述在提问前你是怎样去研究和理解这个问题的。 描述在提问前为确定问题而采取的诊断步骤。 描述最近做过什么可能相关的硬件或软件变更。 尽可能地提供一个可以重现这个问题的可控环境的方法。 尽量去揣测一个黑客会怎样反问你，在你提问之前预先将黑客们可能提出的问题回答一遍。 以上几点中，当你报告的是你认为可能在代码中的问题时，给黑客一个可以重现你的问题的环境尤其重要。当你这么做时，你得到有效的回答的机会和速度都会大大的提升。 Simon Tatham 写过一篇名为《如何有效的报告 Bug》的出色文章。强力推荐你也读一读。 话不在多而在精你需要提供精确有内容的信息。这并不是要求你简单的把成堆的出错代码或者资料完全转录到你的提问中。如果你有庞大而复杂的测试样例能重现程序挂掉的情境，尽量将它剪裁得越小越好。 这样做的用处至少有三点。第一，表现出你为简化问题付出了努力，这可以使你得到回答的机会增加；第二，简化问题使你更有可能得到有用的答案；第三，在精炼你的 bug 报告的过程中，你很可能就自己找到了解决方法或权宜之计。 别动辄声称找到 Bug当你在使用软件中遇到问题，除非你非常、非常的有根据，不要动辄声称找到了 Bug。提示：除非你能提供解决问题的源代码补丁，或者提供回归测试来表明前一版本中行为不正确，否则你都多半不够完全确信。这同样适用在网页和文件，如果你（声称）发现了文件的Bug，你应该能提供相应位置的修正或替代文件。 请记得，还有其他许多用户没遇到你发现的问题，否则你在阅读文件或搜索网页时就应该发现了（你在抱怨前已经做了这些，是吧？）。这也意味着很有可能是你弄错了而不是软件本身有问题。 编写软件的人总是非常辛苦地使它尽可能完美。如果你声称找到了 Bug，也就是在质疑他们的能力，即使你是对的，也有可能会冒犯到其中某部分人。当你在标题中嚷嚷着有Bug时，这尤其严重。 提问时，即使你私下非常确信已经发现一个真正的 Bug，最好写得像是你做错了什么。如果真的有 Bug，你会在回复中看到这点。这样做的话，如果真有 Bug，维护者就会向你道歉，这总比你惹恼别人然后欠别人一个道歉要好一点。 低声下气不能代替你的功课有些人明白他们不该粗鲁或傲慢的提问并要求得到答复，但他们选择另一个极端 —— 低声下气：我知道我只是个可悲的新手，一个撸瑟，但...。这既使人困扰，也没有用，尤其是伴随着与实际问题含糊不清的描述时更令人反感。 别用原始灵长类动物的把戏来浪费你我的时间。取而代之的是，尽可能清楚地描述背景条件和你的问题情况。这比低声下气更好地定位了你的位置。 有时网页论坛会设有专为新手提问的版面，如果你真的认为遇到了初学者的问题，到那去就是了，但一样别那么低声下气。 描述问题症状而非你的猜测告诉黑客们你认为问题是怎样造成的并没什么帮助。（如果你的推断如此有效，还用向别人求助吗？），因此要确信你原原本本告诉了他们问题的症状，而不是你的解释和理论；让黑客们来推测和诊断。如果你认为陈述自己的猜测很重要，清楚地说明这只是你的猜测，并描述为什么它们不起作用。 蠢问题 我在编译内核时接连遇到 SIG11 错误，我怀疑某条飞线搭在主板的走线上了，这种情况应该怎样检查最好？聪明问题我的组装电脑是 FIC-PA2007 主机板搭载 AMD K6/233 CPU（威盛 Apollo VP2 芯片组），256MB Corsair PC133 SDRAM 内存，在编译内核时，从开机 20 分钟以后就频频产生 SIG11 错误，但是在头 20 分钟内从没发生过相同的问题。重新启动也没有用，但是关机一晚上就又能工作 20 分钟。所有内存都换过了，没有效果。相关部分的标准编译记录如下…。由于以上这点似乎让许多人觉得难以配合，这里有句话可以提醒你：所有的诊断专家都来自密苏里州。 美国国务院的官方座右铭则是：让我看看（出自国会议员 Willard D. Vandiver 在 1899 年时的讲话：我来自一个出产玉米，棉花，牛蒡和民主党人的国家，滔滔雄辩既不能说服我，也不会让我满意。我来自密苏里州，你必须让我看看。） 针对诊断者而言，这并不是一种怀疑，而只是一种真实而有用的需求，以便让他们看到的是与你看到的原始证据尽可能一致的东西，而不是你的猜测与归纳的结论。所以，大方的展示给我们看吧！ 按发生时间先后列出问题症状问题发生前的一系列操作，往往就是对找出问题最有帮助的线索。因此，你的说明里应该包含你的操作步骤，以及机器和软件的反应，直到问题发生。在命令行处理的情况下，提供一段操作记录（例如运行脚本工具所生成的），并引用相关的若干行（如 20 行）记录会非常有帮助。 如果挂掉的程序有诊断选项（如 -v 的详述开关），试着选择这些能在记录中增加调试信息的选项。记住，多不等于好。试着选取适当的调试级别以便提供有用的信息而不是让读者淹没在垃圾中。 如果你的说明很长（如超过四个段落），在开头简述问题，接下来再按时间顺序详述会有所帮助。这样黑客们在读你的记录时就知道该注意哪些内容了。 描述目标而不是过程如果你想弄清楚如何做某事（而不是报告一个 Bug），在开头就描述你的目标，然后才陈述重现你所卡住的特定步骤。 经常寻求技术帮助的人在心中有个更高层次的目标，而他们在自以为能达到目标的特定道路上被卡住了，然后跑来问该怎么走，但没有意识到这条路本身就有问题。结果要费很大的劲才能搞定。 蠢问题 我怎样才能从某绘图程序的颜色选择器中取得十六进制的 RGB 值？聪明问题我正试着用替换一幅图片的色码（color table）成自己选定的色码，我现在知道的唯一方法是编辑每个色码区块（table slot），但却无法从某绘图程序的颜色选择器取得十六进制的 RGB 值。第二种提问法比较聪明，你可能得到像是建议采用另一个更合适的工具的回复。 别要求使用私人电邮回复黑客们认为问题的解决过程应该公开、透明，此过程中如果更有经验的人注意到不完整或者不当之处，最初的回复才能够、也应该被纠正。同时，作为提供帮助者可以得到一些奖励，奖励就是他的能力和学识被其他同行看到。 当你要求私下回复时，这个过程和奖励都被中止。别这样做，让回复者来决定是否私下回答 —— 如果他真这么做了，通常是因为他认为问题编写太差或者太肤浅，以至于不可能使其他人产生兴趣。 这条规则存在一条有限的例外，如果你确信提问可能会引来大量雷同的回复时，那么这个神奇的提问句会是向我发电邮，我将为论坛归纳这些回复。试着将邮件列表或新闻群组从洪水般的雷同回复中解救出来是非常有礼貌的 —— 但你必须信守诺言。 清楚明确的表达你的问题以及需求漫无边际的提问是近乎无休无止的时间黑洞。最有可能给你有用答案的人通常也正是最忙的人（他们忙是因为要亲自完成大部分工作）。这样的人对无节制的时间黑洞相当厌恶，所以他们也倾向于厌恶那些漫无边际的提问。 如果你明确表述需要回答者做什么（如提供指点、发送一段代码、检查你的补丁、或是其他等等），就最有可能得到有用的答案。因为这会定出一个时间和精力的上限，便于回答者能集中精力来帮你。这么做很棒。 要理解专家们所处的世界，请把专业技能想像为充裕的资源，而回复的时间则是稀缺的资源。你要求他们奉献的时间越少，你越有可能从真正专业而且很忙的专家那里得到解答。 所以，界定一下你的问题，使专家花在辨识你的问题和回答所需要付出的时间减到最少，这技巧对你有用答案相当有帮助 —— 但这技巧通常和简化问题有所区别。因此，问我想更好地理解 X，可否指点一下哪有好一点说明？通常比问你能解释一下 X 吗？更好。如果你的代码不能运作，通常请别人看看哪里有问题，比要求别人替你改正要明智得多。 询问有关代码的问题时别要求他人帮你调试有问题的代码，不提示一下应该从何入手。张贴几百行的代码，然后说一声：它不能工作会让你完全被忽略。只贴几十行代码，然后说一句：在第七行以后，我期待它显示 &lt;x&gt;，但实际出现的是 &lt;y&gt;比较有可能让你得到回应。 最有效描述程序问题的方法是提供最精简的 Bug 展示测试用例（bug-demonstrating test case）。什么是最精简的测试用例？那是问题的缩影；一小个程序片段能刚好展示出程序的异常行为，而不包含其他令人分散注意力的内容。怎么制作最精简的测试用例？如果你知道哪一行或哪一段代码会造成异常的行为，复制下来并加入足够重现这个状况的代码（例如，足以让这段代码能被编译/直译/被应用程序处理）。如果你无法将问题缩减到一个特定区块，就复制一份代码并移除不影响产生问题行为的部分。总之，测试用例越小越好（查看话不在多而在精一节）。 一般而言，要得到一段相当精简的测试用例并不太容易，但永远先尝试这样做的是种好习惯。这种方式可以帮助你了解如何自行解决这个问题 —— 而且即使你的尝试不成功，黑客们也会看到你在尝试取得答案的过程中付出了努力，这可以让他们更愿意与你合作。 如果你只是想让别人帮忙审查（Review）一下代码，在信的开头就要说出来，并且一定要提到你认为哪一部分特别需要关注以及为什么。 别把自己家庭作业的问题贴上来黑客们很擅长分辨哪些问题是家庭作业式的问题；因为我们中的大多数都曾自己解决这类问题。同样，这些问题得由你来搞定，你会从中学到东西。你可以要求给点提示，但别要求得到完整的解决方案。 如果你怀疑自己碰到了一个家庭作业式的问题，但仍然无法解决，试试在用户群组，论坛或（最后一招）在项目的用户邮件列表或论坛中提问。尽管黑客们会看出来，但一些有经验的用户也许仍会给你一些提示。 去掉无意义的提问句避免用无意义的话结束提问，例如有人能帮我吗？或者这有答案吗？。 首先：如果你对问题的描述不是很好，这样问更是画蛇添足。 其次：由于这样问是画蛇添足，黑客们会很厌烦你 —— 而且通常会用逻辑上正确，但毫无意义的回答来表示他们的蔑视， 例如：没错，有人能帮你或者不，没答案。 一般来说，避免用 是或否、对或错、有或没有类型的问句，除非你想得到是或否类型的回答。 即使你很急也不要在标题写紧急这是你的问题，不是我们的。宣称紧急极有可能事与愿违：大多数黑客会直接删除无礼和自私地企图即时引起关注的问题。更严重的是，紧急这个字（或是其他企图引起关注的标题）通常会被垃圾信过滤器过滤掉 —— 你希望能看到你问题的人可能永远也看不到。 有半个例外的情况是，如果你是在一些很高调，会使黑客们兴奋的地方，也许值得这样去做。在这种情况下，如果你有时间压力，也很有礼貌地提到这点，人们也许会有兴趣回答快一点。 当然，这风险很大，因为黑客们兴奋的点多半与你的不同。譬如从 NASA 国际空间站（International Space Station）发这样的标题没有问题，但用自我感觉良好的慈善行为或政治原因发肯定不行。事实上，张贴诸如紧急：帮我救救这个毛茸茸的小海豹！肯定让你被黑客忽略或惹恼他们，即使他们认为毛茸茸的小海豹很重要。 如果你觉得这点很不可思议，最好再把这份指南剩下的内容多读几遍，直到你弄懂了再发文。 礼多人不怪，而且有时还很有帮助彬彬有礼，多用请和谢谢您的关注，或谢谢你的关照。让大家都知道你对他们花时间免费提供帮助心存感激。 坦白说，这一点并没有比使用清晰、正确、精准且合乎语法和避免使用专用格式重要（也不能取而代之）。黑客们一般宁可读有点唐突但技术上鲜明的 Bug 报告，而不是那种有礼但含糊的报告。（如果这点让你不解，记住我们是按问题能教给我们什么来评价问题的价值的） 然而，如果你有一串的问题待解决，客气一点肯定会增加你得到有用回应的机会。 （我们注意到，自从本指南发布后，从资深黑客那里得到的唯一严重缺陷反馈，就是对预先道谢这一条。一些黑客觉得先谢了意味着事后就不用再感谢任何人的暗示。我们的建议是要么先说先谢了，然后事后再对回复者表示感谢，或者换种方式表达感激，譬如用谢谢你的关注或谢谢你的关照。） 问题解决后，加个简短的补充说明问题解决后，向所有帮助过你的人发个说明，让他们知道问题是怎样解决的，并再一次向他们表示感谢。如果问题在新闻组或者邮件列表中引起了广泛关注，应该在那里贴一个说明比较恰当。 最理想的方式是向最初提问的话题回复此消息，并在标题中包含已修正，已解决或其它同等含义的明显标记。在人来人往的邮件列表里，一个看见讨论串问题 X和问题 X - 已解决的潜在回复者就明白不用再浪费时间了（除非他个人觉得问题 X的有趣），因此可以利用此时间去解决其它问题。 补充说明不必很长或是很深入；简单的一句你好，原来是网线出了问题！谢谢大家 – Bill比什么也不说要来的好。事实上，除非结论真的很有技术含量，否则简短可爱的小结比长篇大论更好。说明问题是怎样解决的，但大可不必将解决问题的过程复述一遍。 对于有深度的问题，张贴调试记录的摘要是有帮助的。描述问题的最终状态，说明是什么解决了问题，在此之后才指明可以避免的盲点。避免盲点的部分应放在正确的解决方案和其它总结材料之后，而不要将此信息搞成侦探推理小说。列出那些帮助过你的名字，会让你交到更多朋友。 除了有礼貌和有内涵以外，这种类型的补充也有助于他人在邮件列表/新闻群组/论坛中搜索到真正解决你问题的方案，让他们也从中受益。 至少，这种补充有助于让每位参与协助的人因问题的解决而从中得到满足感。如果你自己不是技术专家或者黑客，那就相信我们，这种感觉对于那些你向他们求助的大师或者专家而言，是非常重要的。问题悬而未决会让人灰心；黑客们渴望看到问题被解决。好人有好报，满足他们的渴望，你会在下次提问时尝到甜头。 思考一下怎样才能避免他人将来也遇到类似的问题，自问写一份文件或加个常见问题（FAQ）会不会有帮助。如果是的话就将它们发给维护者。 在黑客中，这种良好的后继行动实际上比传统的礼节更为重要，也是你如何透过善待他人而赢得声誉的方式，这是非常有价值的资产。 如何解读答案 RTFM 和 STFW：如何知道你已完全搞砸了有一个古老而神圣的传统：如果你收到RTFM（Read The Fucking Manual）的回应，回答者认为你应该去读他妈的手册。当然，基本上他是对的，你应该去读一读。 RTFM 有一个年轻的亲戚。如果你收到STFW（Search The Fucking Web）的回应，回答者认为你应该到他妈的网上搜索。那人多半也是对的，去搜索一下吧。（更温和一点的说法是 **Google 是你的朋友**！） 在论坛，你也可能被要求去爬爬论坛的旧文。事实上，有人甚至可能热心地为你提供以前解决此问题的讨论串。但不要依赖这种关照，提问前应该先搜索一下旧文。 通常，用这两句之一回答你的人会给你一份包含你需要内容的手册或者一个网址，而且他们打这些字的时候也正在读着。这些答复意味着回答者认为 你需要的信息非常容易获得； 你自己去搜索这些信息比灌给你，能让你学到更多。 你不应该因此不爽；依照黑客的标准，他已经表示了对你一定程度的关注，而没有对你的要求视而不见。你应该对他祖母般的慈祥表示感谢。 如果还是搞不懂如果你看不懂回应，别立刻要求对方解释。像你以前试着自己解决问题时那样（利用手册，FAQ，网络，身边的高手），先试着去搞懂他的回应。如果你真的需要对方解释，记得表现出你已经从中学到了点什么。 比方说，如果我回答你：看来似乎是 zentry 卡住了；你应该先清除它。，然后，这是一个很糟的后续问题回应：zentry 是什么？ 好的问法应该是这样：哦~~~我看过说明了但是只有 -z 和 -p 两个参数中提到了 zentries，而且还都没有清楚的解释如何清除它。你是指这两个中的哪一个吗？还是我看漏了什么？ 处理无礼的回应很多黑客圈子中看似无礼的行为并不是存心冒犯。相反，它是直截了当，一针见血式的交流风格，这种风格更注重解决问题，而不是使人感觉舒服而却模模糊糊。 如果你觉得被冒犯了，试着平静地反应。如果有人真的做了出格的事，邮件列表、新闻群组或论坛中的前辈多半会招呼他。如果这没有发生而你却发火了，那么你发火对象的言语可能在黑客社区中看起来是正常的，而你将被视为有错的一方，这将伤害到你获取信息或帮助的机会。 另一方面，你偶尔真的会碰到无礼和无聊的言行。与上述相反，对真正的冒犯者狠狠地打击，用犀利的语言将其驳得体无完肤都是可以接受的。然而，在行事之前一定要非常非常的有根据。纠正无礼的言论与开始一场毫无意义的口水战仅一线之隔，黑客们自己莽撞地越线的情况并不鲜见。如果你是新手或外人，避开这种莽撞的机会并不高。如果你想得到的是信息而不是消磨时光，这时最好不要把手放在键盘上以免冒险。 （有些人断言很多黑客都有轻度的自闭症或亚斯伯格综合症，缺少用于润滑人类社会正常交往所需的神经。这既可能是真也可能是假的。如果你自己不是黑客，兴许你认为我们脑袋有问题还能帮助你应付我们的古怪行为。只管这么干好了，我们不在乎。我们喜欢我们现在这个样子，并且通常对病患标记都有站得住脚的怀疑。） Jeff Bigler 的观察总结和这个相关也值得一读 (tact filters)。 在下一节，我们会谈到另一个问题，当你行为不当时所会受到的冒犯。 如何避免扮演失败者在黑客社区的论坛中，你以本指南所描述的或类似的方式，可能会有那么几次搞砸了。而你会在公开场合中被告知你是如何搞砸的，也许攻击的言语中还会带点夹七夹八的颜色。 这种事发生以后，你能做的最糟糕的事莫过于哀嚎你的遭遇、宣称被口头攻击、要求道歉、高声尖叫、憋闷气、威胁诉诸法律、向其雇主报怨、不去关马桶盖等等。相反地，你该这么做： 熬过去，这很正常。事实上，它是有益健康且合理的。 社区的标准不会自行维持，它们是通过参与者积极而公开地执行来维持的。不要哭嚎所有的批评都应该通过私下的邮件传送，它不是这样运作的。当有人评论你的一个说法有误或者提出不同看法时，坚持声称受到个人攻击也毫无益处，这些都是失败者的态度。 也有其它的黑客论坛，受过高礼节要求的误导，禁止参与者张贴任何对别人帖子挑毛病的消息，并声称如果你不想帮助用户就闭嘴。 结果造成有想法的参与者纷纷离开，这么做只会使它们沦为毫无意义的唠叨与无用的技术论坛。 夸张的讲法是：你要的是“友善”（以上述方式）还是有用？两个里面挑一个。 记着：当黑客说你搞砸了，并且（无论多么刺耳）告诉你别再这样做时，他正在为关心你和他的社区而行动。对他而言，不理你并将你从他的生活中滤掉更简单。如果你无法做到感谢，至少要表现得有点尊严，别大声哀嚎，也别因为自己是个有戏剧性超级敏感的灵魂和自以为有资格的新来者，就指望别人像对待脆弱的洋娃娃那样对你。 有时候，即使你没有搞砸（或者只是在他的想像中你搞砸了），有些人也会无缘无故地攻击你本人。在这种情况下，抱怨倒是真的会把问题搞砸。 这些来找麻烦的人要么是毫无办法但自以为是专家的不中用家伙，要么就是测试你是否真会搞砸的心理专家。其它读者要么不理睬，要么用自己的方式对付他们。这些来找麻烦的人在给他们自己找麻烦，这点你不用操心。 也别让自己卷入口水战，最好不要理睬大多数的口水战 —— 当然，这是在你检验它们只是口水战，并且未指出你有搞砸的地方，同时也没有巧妙地将问题真正的答案藏于其后（这也是有可能的）。 不该问的问题以下是几个经典蠢问题，以及黑客没回答时心中所想的： 问题：我能在哪找到 X 程序或 X 资源？ 问题：我怎样用 X 做 Y？ 问题：如何设定我的 shell 提示？ 问题：我可以用 Bass-o-matic 文件转换工具将 AcmeCorp 文件转换为 TeX 格式吗？ 问题：我的程序/设定/SQL 语句没有用 问题：我的 Windows 电脑有问题，你能帮我吗？ 问题：我的程序不会动了，我认为系统工具 X 有问题 问题：我在安装 Linux（或者 X ）时有问题，你能帮我吗？ 问题：我怎么才能破解 root 帐号/窃取 OP 特权/读别人的邮件呢？ 问题：我能在哪找到 X 程序或 X 资源？回答：就在我找到它的地方啊，白痴 —— 搜索引擎的那一头。天哪！难道还有人不会用 Google 吗？ 问题：我怎样用 X 做 Y？回答：如果你想解决的是 Y ，提问时别给出可能并不恰当的方法。这种问题说明提问者不但对 X 完全无知，也对 Y 要解决的问题糊涂，还被特定形势禁锢了思维。最好忽略这种人，等他们把问题搞清楚了再说。 问题：如何设定我的 shell 提示？？回答：如果你有足够的智慧提这个问题，你也该有足够的智慧去 RTFM，然后自己去找出来。 问题：我可以用 Bass-o-matic 文件转换工具将 AcmeCorp 文件转换为 TeX 格式吗？回答：试试看就知道了。如果你试过，你就知道了答案，就不用浪费我的时间了。 问题：我的{程序/设定/SQL 语句}没有用回答：这不算是问题吧，我对要我问你二十个问题才找得出你真正问题的问题没兴趣 —— 我有更有意思的事要做呢。在看到这类问题的时候，我的反应通常不外如下三种 你还有什么要补充的吗？ 真糟糕，希望你能搞定。 这关我屁事？ 问题：我的 Windows 电脑有问题，你能帮我吗？回答：能啊，扔掉微软的垃圾，换个像 Linux 或 BSD 的开源操作系统吧。 注意：如果程序有官方版 Windows 或者与 Windows 有互动（如 Samba），你可以问与 Windows 相关的问题，只是别对问题是由 Windows 操作系统而不是程序本身造成的回复感到惊讶， 因为 Windows 一般来说实在太烂，这种说法通常都是对的。 问题：我的程序不会动了，我认为系统工具 X 有问题回答：你完全有可能是第一个注意到被成千上万用户反复使用的系统调用与函数库文件有明显缺陷的人，更有可能的是你完全没有根据。不同凡响的说法需要不同凡响的证据，当你这样声称时，你必须有清楚而详尽的缺陷说明文件作后盾。 问题：我在安装 Linux（或者 X ）时有问题，你能帮我吗？回答：不能，我只有亲自在你的电脑上动手才能找到毛病。还是去找你当地的 Linux 使用群组者寻求实际的指导吧（你能在这儿找到用户群组的清单）。 注意：如果安装问题与某 Linux 的发行版有关，在它的邮件列表、论坛或本地用户群组中提问也许是恰当的。此时，应描述问题的准确细节。在此之前，先用 Linux 和所有被怀疑的硬件作关键词仔细搜索。 问题：我怎么才能破解 root 帐号/窃取 OP 特权/读别人的邮件呢？回答：想要这样做，说明了你是个卑鄙小人；想找个黑客帮你，说明你是个白痴！ 好问题与蠢问题最后，我将透过举一些例子，来说明怎样聪明的提问；同一个问题的两种问法被放在一起，一种是愚蠢的，另一种才是明智的。 蠢问题： 我可以在哪儿找到关于 Foonly Flurbamatic 的资料？这种问法无非想得到 STFW 这样的回答。 聪明问题： 我用 Google 搜索过 “Foonly Flurbamatic 2600”，但是没找到有用的结果。谁知道上哪儿去找对这种设备编程的资料？这个问题已经 STFW 过了，看起来他真的遇到了麻烦。 蠢问题： 我从 foo 项目找来的源码没法编译。它怎么这么烂？他觉得都是别人的错，这个傲慢自大的提问者。 聪明问题： foo 项目代码在 Nulix 6.2 版下无法编译通过。我读过了 FAQ，但里面没有提到跟 Nulix 有关的问题。这是我编译过程的记录，我有什么做的不对的地方吗？提问者已经指明了环境，也读过了 FAQ，还列出了错误，并且他没有把问题的责任推到别人头上，他的问题值得被关注。 蠢问题： 我的主机板有问题了，谁来帮我？某黑客对这类问题的回答通常是：好的，还要帮你拍拍背和换尿布吗？，然后按下删除键。 聪明问题： 我在 S2464 主机板上试过了 X 、 Y 和 Z ，但没什么作用，我又试了 A 、 B 和 C 。请注意当我尝试 C 时的奇怪现象。显然 florbish 正在 grommicking，但结果出人意料。通常在 Athlon MP 主机板上引起 grommicking 的原因是什么？有谁知道接下来我该做些什么测试才能找出问题？这个家伙，从另一个角度来看，值得去回答他。他表现出了解决问题的能力，而不是坐等天上掉答案。 在最后一个问题中，注意告诉我答案和给我启示，指出我还应该做什么诊断工作之间微妙而又重要的区别。 事实上，后一个问题源自于 2001 年 8 月在 Linux 内核邮件列表（lkml）上的一个真实的提问。我（Eric）就是那个提出问题的人。我在 Tyan S2464 主板上观察到了这种无法解释的锁定现象，列表成员们提供了解决这一问题的重要信息。 通过我的提问方法，我给了别人可以咀嚼玩味的东西；我设法让人们很容易参与并且被吸引进来。我显示了自己具备和他们同等的能力，并邀请他们与我共同探讨。通过告诉他们我所走过的弯路，以避免他们再浪费时间，我也表明了对他们宝贵时间的尊重。 事后，当我向每个人表示感谢，并且赞赏这次良好的讨论经历的时候，一个 Linux 内核邮件列表的成员表示，他觉得我的问题得到解决并非由于我是这个列表中的名人，而是因为我用了正确的方式来提问。 黑客从某种角度来说是拥有丰富知识但缺乏人情味的家伙；我相信他是对的，如果我像个乞讨者那样提问，不论我是谁，一定会惹恼某些人或者被他们忽视。他建议我记下这件事，这直接导致了本指南的出现。 如果得不到回答如果仍得不到回答，请不要以为我们觉得无法帮助你。有时只是看到你问题的人不知道答案罢了。没有回应不代表你被忽视，虽然不可否认这种差别很难区分。 总的来说，简单的重复张贴问题是个很糟的点子。这将被视为无意义的喧闹。有点耐心，知道你问题答案的人可能生活在不同的时区，可能正在睡觉，也有可能你的问题一开始就没有组织好。 你可以通过其他渠道获得帮助，这些渠道通常更适合初学者的需要。 有许多网上的以及本地的用户群组，由热情的软件爱好者（即使他们可能从没亲自写过任何软件）组成。通常人们组建这样的团体来互相帮助并帮助新手。 另外，你可以向很多商业公司寻求帮助，不论公司大还是小。别为要付费才能获得帮助而感到沮丧！毕竟，假使你的汽车发动机汽缸密封圈爆掉了 —— 完全可能如此 —— 你还得把它送到修车铺，并且为维修付费。就算软件没花费你一分钱，你也不能强求技术支持总是免费的。 对像是 Linux 这种大众化的软件，每个开发者至少会对应到上万名用户。根本不可能由一个人来处理来自上万名用户的求助电话。要知道，即使你要为这些协助付费，和你所购买的同类软件相比，你所付出的也是微不足道的（通常封闭源代码软件的技术支持费用比开源软件的要高得多，且内容也没那么丰富）。 如何更好地回答问题态度和善一点。 问题带来的压力常使人显得无礼或愚蠢，其实并不是这样。 对初犯者私下回复。 对那些坦诚犯错之人没有必要当众羞辱，一个真正的新手也许连怎么搜索或在哪找常见问题都不知道。 如果你不确定，一定要说出来！ 一个听起来权威的错误回复比没有还要糟，别因为听起来像个专家很好玩，就给别人乱指路。要谦虚和诚实，给提问者与同行都树个好榜样。 如果帮不了忙，也别妨碍他。 不要在实际步骤上开玩笑，那样也许会毁了提问者的设置 —— 有些可怜的呆瓜会把它当成真的指令。 试探性的反问以引出更多的细节。 如果你做得好，提问者可以学到点东西 —— 你也可以。试试将蠢问题转变成好问题，别忘了我们都曾是新手。 尽管对那些懒虫抱怨一声 RTFM 是正当的，但能给出文档的链接（即使只是建议个 Google 搜索关键词）会更好。 如果你决定回答，就请给出好的答案。 当别人正在用错误的工具或方法时别建议笨拙的权宜之计（workaround），应推荐更好的工具，重新界定问题。 正面地回答问题！ 如果这个提问者已经很深入的研究而且也表明已经试过 X 、 Y 、 Z 、 A 、 B 、 C 但没得到结果，回答 试试看 A 或是 B 或者 试试 X 、 Y 、 Z 、 A 、 B 、 C 并附上一个链接一点用都没有。 帮助你的社区从问题中学习。 当回复一个好问题时，问问自己如何修改相关文件或常见问题文件以免再次解答同样的问题？，接着再向文件维护者发一份补丁。 如果你在研究一番后才作出了回答，展现你的技巧而不是直接端出结果。毕竟授人以鱼不如授人以渔。 相关资源如果你需要个人电脑、Unix 系统和网络如何运作的基础知识，参阅 Unix 系统和网络基本原理。 当你发布软件或补丁时，试着按软件发布实践操作。 鸣谢Evelyn Mitchel 贡献了一些愚蠢问题例子并启发了编写如何更好地回答问题这一节， Mikhail Ramendik 贡献了一些特别有价值的建议和改进。"},{"title":"提问的智慧","date":"2022-02-20T01:28:42.000Z","updated":"2022-02-24T05:30:22.277Z","comments":true,"path":"how-to-ask-q/ft.html","permalink":"https://billma.top/how-to-ask-q/ft.html","excerpt":"","text":"How To Ask Questions The Smart Way Copyright © 2001, 2006, 2014 Eric S. Raymond, Rick Moen 本指南英文版版權為 Eric S. Raymond, Rick Moen 所有。 原文網址 (Translated from)：http://www.catb.org/~esr/faqs/smart-questions.html Copyleft 2001 by D.H.Grand(nOBODY/Ginux), 2010 by Gasolin, 2015-present by Ryan Wu 本中文指南是基於原文 3.10 版以及 2010 年由 Gasolin 所翻譯版本的最新翻譯； 協助指出翻譯問題，請發 issue，或直接發 pull pequest 給我。 本文另有：简体中文版 目錄 目錄 聲明 簡介 在提問之前 當你提問時 慎選提問的論壇 Stack Overflow 網站和IRC論壇 第二步，使用專案郵件列表 使用有意義且描述明確的標題 使問題容易回覆 用清晰、正確、精準並合法文法的語句 使用易於讀取且標準的文件格式發送問題 精確的描述問題並言之有物 話不在多而在精 別動輒聲稱找到Bug 別用低聲下氣取代你真正該做的事 描述問題症狀而非猜測 按發生時間先後列出問題症狀 描述目標而不是過程 別要求使用私人電郵回覆 清楚明確的表達你的問題以及需求 詢問有關程式碼的問題時 別把自己家庭作業的問題貼上來 去掉無意義的提問句 即使你很急也不要在標題寫緊急 禮多人不怪，而且有時還很有幫助 問題解決後，加個簡短的補充說明 如何解讀答案 RTFM和STFW：如何知道你已完全搞砸了 如果還是搞不懂 處理無禮的回應 如何避免扮演失敗者 不該問的問題 好問題與蠢問題 如果得不到回答 如何更好地回答問題 相關資源 鳴謝 Contributors ✨ 聲明許多專案在他們的使用協助/說明網頁中連結了本指南，這麼做很好，我們也鼓勵大家都這麼做。但如果你是負責管理這個專案網頁的人，請在超連結附近的顯著位置上註明： 本指南不提供此專案的實際支援服務！ 我們已經深刻領教到少了上述聲明所帶來的痛苦。因為少了這點聲明，我們不停地被一些白痴糾纏。這些白痴認為既然我們發布了這本指南，那麼我們就有責任解決世上所有的技術問題。 如果你是因為需要某些協助而正在閱讀這本指南，並且最後離開是因為發現從本指南作者們身上得不到直接的協助，那麼你就是我們所說的那些白痴之一。別問我們問題，我們只會忽略你。我們在這本指南中是教你如何從那些真正懂得你所遇到軟體或硬體問題的人取得協助，而99%的情況下那不會是我們。除非你確定本指南的作者之一剛好是你所遇到的問題領域的專家，否則請不要打擾我們，這樣大家都會開心一點。 簡介在黑客的世界裡，當你拋出一個技術問題時，最終是否能得到有用的回答，往往取決於你所提問和追問的方式。本指南將教你如何正確的提問以獲得你滿意的答案。 現在開源（Open Source）軟體已經相當盛行，您通常可以從其他更有經驗的用戶那裡獲得與黑客一樣好的答案，這是件好事；和黑客相比，用戶們往往對那些新手常遇到的問題更寬容一些。儘管如此，以我們在此推薦的方式對待這些有經驗的用戶通常也是從他們那裡獲得有用答案的最有效方式。 首先你應該明白，黑客們喜愛有挑戰性的問題，或者能激發他們思維的好問題。如果我們並非如此，那我們也不會成為你想詢問的對象。如果你給了我們一個值得反覆咀嚼玩味的好問題，我們自會對你感激不盡。好問題是激勵，是厚禮。好問題可以提高我們的理解力，而且通常會暴露我們以前從沒意識到或者思考過的問題。對黑客而言，”好問題！”是誠摯的大力稱讚。 儘管如此，黑客們有著蔑視或傲慢面對簡單問題的壞名聲，這有時讓我們看起來對新手、無知者似乎較有敵意，但其實不是那樣的。 我們不諱言我們對那些不願思考、或者在發問前不做他們該做的事的人的蔑視。那些人是時間殺手──他們只想索取，從不付出，消耗我們可用在更有趣的問題或更值得回答的人身上的時間。我們稱這樣的人為 失敗者（魯蛇） （由於歷史原因，我們有時把它拼作 lusers）。 我們意識到許多人只是想使用我們寫的軟體，他們對學習技術細節沒有興趣。對大多數人而言，電腦只是種工具，是種達到目的的手段而已。他們有自己的生活並且有更要緊的事要做。我們了解這點，也從不指望每個人都對這些讓我們著迷的技術問題感興趣。儘管如此，我們回答問題的風格是指向那些真正對此有興趣並願意主動參與解決問題的人，這一點不會變，也不該變。如果連這都變了，我們就是在降低做自己最擅長的事情上的效率。 我們（在很大程度上）是自願的，從繁忙的生活中抽出時間來解答疑惑，而且時常被提問淹沒。所以我們無情的濾掉一些話題，特別是拋棄那些看起來像失敗者的傢伙，以便更高效的利用時間來回答贏家（溫拿）的問題。 如果你厭惡我們的態度，高高在上，或過於傲慢，不妨也設身處地想想。我們並沒有要求你向我們屈服──事實上，我們大多數人非常樂意與你平等地交流，只要你付出小小努力來滿足基本要求，我們就會歡迎你加入我們的文化。但讓我們幫助那些不願意幫助自己的人是沒有效率的。無知沒有關係，但裝白痴就是不行。 所以，你不必在技術上很在行才能吸引我們的注意，但你必須表現出能引導你變得在行的特質──機敏、有想法、善於觀察、樂於主動參與解決問題。如果你做不到這些使你與眾不同的事情，我們建議你花點錢找家商業公司簽個技術支援服務契約，而不是要求黑客個人無償地幫助你。 如果你決定向我們求助，當然你也不希望被視為失敗者，更不願成為失敗者中的一員。能立刻得到快速並有效答案的最好方法，就是像贏家那樣提問──聰明、自信、有解決問題的思路，只是偶爾在特定的問題上需要獲得一點幫助。 （歡迎對本指南提出改進意見。你可以 email 你的建議至 esr@thyrsus.com 或 respond-auto@linuxmafia.com。然而請注意，本文並非網路禮節的通用指南，而我們通常會拒絕無助於在技術論壇得到有用答案的建議。） 在提問之前在你準備要通過電子郵件、新聞群組或者聊天室提出技術問題前，請先做到以下事情： 嘗試在你準備提問的論壇的舊文章中搜尋答案。 嘗試上網搜尋來找到答案。 嘗試閱讀手冊來找到答案。 嘗試閱讀常見問題文件（FAQ）來找到答案。 嘗試自己檢查或試驗來找到答案 向你身邊的強者朋友打聽來找到答案。 如果你是程式開發者，請嘗試閱讀原始碼來找到答案 當你提出問題的時候，請先表明你已經做了上述的努力；這將有助於樹立你並不是一個不勞而獲且浪費別人的時間的提問者。如果你能一併表達在做了上述努力的過程中所學到的東西會更好，因為我們更樂於回答那些表現出能從答案中學習的人的問題。 運用某些策略，比如先用 Google 搜尋你所遇到的各種錯誤訊息（既搜尋 Google論壇，也搜尋網頁），這樣很可能直接就找到了能解決問題的文件或郵件列表線索。即使沒有結果，在郵件列表或新聞組尋求幫助時加上一句 我在 Google 中搜過下列句子但沒有找到什麼有用的東西 也是件好事，即使它只是表明了搜尋引擎不能提供哪些幫助。這麼做（加上搜尋過的字串）也讓遇到相似問題的其他人能被搜尋引擎引導到你的提問來。 別著急，不要指望幾秒鐘的 Google 搜尋就能解決一個複雜的問題。在向專家求助之前，再閱讀一下常見問題文件（FAQ）、放輕鬆、坐舒服一些，再花點時間思考一下這個問題。相信我們，他們能從你的提問看出你做了多少閱讀與思考，如果你是有備而來，將更有可能得到解答。不要將所有問題一股腦拋出，只因你的第一次搜尋沒有找到答案（或者找到太多答案）。 準備好你的問題，再將問題仔細的思考過一遍，因為草率的發問只能得到草率的回答，或者根本得不到任何答案。越是能表現出在尋求幫助前你為解決問題所付出的努力，你越有可能得到實質性的幫助。 小心別問錯了問題。如果你的問題基於錯誤的假設，某個普通黑客（J. Random Hacker）多半會一邊在心裏想著蠢問題…， 一邊用無意義的字面解釋來答覆你，希望著你會從問題的回答（而非你想得到的答案）中汲取教訓。 絕不要自以為夠格得到答案，你沒有；你並沒有。畢竟你沒有為這種服務支付任何報酬。你將會是自己去掙到一個答案，靠提出有內涵的、有趣的、有思維激勵作用的問題──一個有潛力能貢獻社群經驗的問題，而不僅僅是被動的從他人處索取知識。 另一方面，表明你願意在找答案的過程中做點什麼是一個非常好的開始。誰能給點提示？、我的這個例子裏缺了什麼？以及我應該檢查什麼地方比請把我需要的確切的過程貼出來更容易得到答覆。因為你表現出只要有人能指出一個正確方向，你就有完成它的能力和決心。 當你提問時慎選提問的論壇小心選擇你要提問的場合。如果你做了下述的事情，你很可能被忽略掉或者被看作失敗者： 在與主題不合的論壇上貼出你的問題 在探討進階技術問題的論壇張貼非常初級的問題；反之亦然 在太多的不同新聞群組上重複轉貼同樣的問題（cross-post） 向既非熟人也沒有義務解決你問題的人發送私人電郵 黑客會剔除掉那些搞錯場合的問題，以保護他們溝通的管道不被無關的東西淹沒。你不會想讓這種事發生在自己身上的。 因此，第一步是找到對的論壇。再說一次，Google 和其它搜尋引擎還是你最好的朋友，用它們來找到與你遭遇到困難的軟硬體問題最相關的網站。通常在那裡都有常見問題（FAQ）、郵件列表及相關說明文件的連結。如果你的努力（包括閱讀 FAQ）都沒有結果，網站上也許還有回報臭蟲（Bug-reporting）的流程或連結，如果是這樣，連過去看看。 向陌生的人或論壇發送郵件最可能是風險最大的事情。舉例來說，別假設一個提供豐富內容的網頁的作者會想充當你的免費顧問。不要對你的問題是否會受到歡迎做太樂觀的估計──如果你不確定，那就向別處發送，或者根本別發。 在選擇論壇、新聞群組或郵件列表時，別太相信名字，先看看 FAQ 或者許可書以弄清楚你的問題是否切題。發文前先翻翻已有的話題，這樣可以讓你感受一下那裡的文化。事實上，事先在新聞組或郵件列表的歷史記錄中搜尋與你問題相關的關鍵詞是個極好的主意，也許這樣就找到答案了。即使沒有，也能幫助你歸納出更好的問題。 別像機關槍似的一次”掃射”所有的幫助管道，這就像大喊大叫一樣會使人不愉快。要一個一個地來。 搞清楚你的主題！最典型的錯誤之一是在某種致力於跨平台可移植的語言、套件或工具的論壇中提關於 Unix 或 Windows 作業系統程序介面的問題。如果你不明白為什麼這是大錯，最好在搞清楚這之間差異之前什麼也別問。 一般來說，在仔細挑選的公共論壇中提問，會比在私有論壇中提同樣的問題更容易得到有用的回答。有幾個理由可以支持這點，一是看潛在的回覆者有多少，二是看觀眾有多少。黑客較願意回答那些能幫助到許多人的問題。 可以理解的是，老練的黑客和一些熱門軟體的作者正在接受過多的錯發訊息。就像那根最後壓垮駱駝背的稻草一樣，你的加入也有可能使情況走向極端──已經好幾次了，一些熱門軟體的作者從自己軟體的支援中抽身出來，因為伴隨而來湧入其私人信箱的無用郵件變得無法忍受。 Stack Overflow搜尋，然後 才在 Stack Exchange 發問。 近年來，Stack Exchange community 社群已經成為回答技術及其他問題的主要管道，尤其是那些開放源碼的專案。 因為 Google 索引是即時的，在看 Stack Exchange 之前先在 Google 搜尋。有很高的機率某人已經問了一個類似的問題，而且 Stack Exchange 網站們往往會是搜尋結果中最前面幾個。如果你在 Google 上沒有找到任何答案，你再到特定相關主題的網站去找。用標籤（Tag）搜尋能讓你更縮小你的搜尋結果。 Stack Exchange 已經成長到超過一百個網站，以下是最常用的幾個站： Super User 是問一些通用的電腦問題，如果你的問題跟程式碼或是寫程式無關，只是一些網路連線之類的，請到這裡。 Stack Overflow 是問寫程式有關的問題。 Server Fault 是問伺服器和網管相關的問題。 網站和IRC論壇在地的使用者群組（user group），或者你所用的 Linux 發行版本也許正在宣傳他們的網頁論壇或 IRC 頻道，並提供新手幫助（在一些非英語國家，新手論壇很可能還是郵件列表）， 這些地方是開始提問的好首選，特別是當你覺得遇到的也許只是相對簡單或者很普通的問題時。有廣告贊助的 IRC 頻道是公開歡迎提問的地方，通常可以即時得到回應。 事實上，如果程式出的問題只發生在特定 Linux 發行版提供的版本（這很常見），最好先去該發行版的論壇或郵件列表中提問，再到程式本身的論壇或郵件列表提問。（否則）該項目的黑客可能僅僅回覆 “用我們的版本”。 在任何論壇發文以前，先確認一下有沒有搜尋功能。如果有，就試著搜尋一下問題的幾個關鍵詞，也許這會有幫助。如果在此之前你已做過通用的網頁搜尋（你也該這樣做），還是再搜尋一下論壇，搜尋引擎有可能沒來得及索引此論壇的全部內容。 通過論壇或 IRC 頻道來提供使用者支援服務有增長的趨勢，電子郵件則大多為專案開發者間的交流而保留。所以最好先在論壇或 IRC 中尋求與該專案相關的協助。 第二步，使用專案郵件列表當某個專案提供開發者郵件列表時，要向列表而不是其中的個別成員提問，即使你確信他能最好地回答你的問題。查一查專案的文件和首頁，找到專案的郵件列表並使用它。有幾個很好的理由支持我們採用這種辦法： 任何好到需要向個別開發者提出的問題，也將對整個專案群組有益。反之，如果你認為自己的問題對整個專案群組來說太愚蠢，也不能成為騷擾個別開發者的理由。 向列表提問可以分散開發者的負擔，個別開發者（尤其是專案領導人）也許太忙以至於沒法回答你的問題。 大多數郵件列表都會被封存，那些被封存的內容將被搜尋引擎索引。如果你向列表提問並得到解答，將來其它人可以通過網頁搜尋找到你的問題和答案，也就不用再次發問了。 如果某些問題經常被問到，開發者可以利用此資訊來改進說明文件或軟體本身，以使其更清楚。如果只是私下提問，就沒有人能看到最常見問題的完整場景。 如果一個項目既有”使用者” 也有”開發者”（或”黑客”）郵件列表或論壇，而你又不會動到那些原始碼，那麼就向”使用者”列表或論壇提問。不要假設自己會在開發者列表中受到歡迎，那些人多半會將你的提問視為干擾他們開發的噪音。 然而，如果你確信你的問題很特別，而且在”使用者” 列表或論壇中幾天都沒有回覆，可以試試前往”開發者”列表或論壇發問。建議你在張貼前最好先暗地裡觀察幾天以了解那裡的行事方式（事實上這是參與任何私有或半私有列表的好主意） 如果你找不到一個專案的郵件列表，而只能查到專案維護者的電子信箱地址，儘管向他發信。即使是在這種情況下，也別假設（專案）郵件列表不存在。在你的電子郵件中，請陳述你已經試過但沒有找到合適的郵件列表，也提及你不反對將自己的郵件轉發給他人（許多人認為，即使沒什麼秘密，私人電子郵件也不應該被公開。通過允許將你的電子郵件轉發他人，你給了相應人員處置你郵件的選擇）。 使用有意義且描述明確的標題在郵件列表、新聞群組或論壇中，大約50字以內的標題是抓住資深專家注意力的好機會。別用喋喋不休的幫幫忙、跪求、急（更別說救命啊！！！！這樣讓人反感的話，用這種標題會被條件反射式地忽略）來浪費這個機會。不要妄想用你的痛苦程度來打動我們，而是在這點空間中使用極簡單扼要的描述方式來提出問題。 一個好標題範例是目標 -- 差異式的描述，許多技術支援組織就是這樣做的。在目標部分指出是哪一個或哪一組東西有問題，在差異部分則描述與期望的行為不一致的地方。 蠢問題：救命啊！我的筆電不能正常顯示了！聰明問題：X.org 6.8.1的滑鼠游標會變形，某牌顯示卡 MV1005 晶片組。更聰明問題：X.org 6.8.1的滑鼠游標，在某牌顯示卡 MV1005 晶片組環境下 - 會變形。編寫目標 -- 差異 式描述的過程有助於你組織對問題的細緻思考。是什麼被影響了？ 僅僅是滑鼠游標或者還有其它圖形？只在 X.org 的 X 版中出現？或只是出現在6.8.1版中？ 是針對某牌顯示卡晶片組？或者只是其中的 MV1005 型號？ 一個黑客只需瞄一眼就能夠立即明白你的環境和你遇到的問題。 總而言之，請想像一下你正在一個只顯示標題的封存討論串（Thread）索引中查尋。讓你的標題更好地反映問題，可使下一個搜尋類似問題的人能夠關注這個討論串，而不用再次提問相同的問題。 如果你想在回覆中提出問題，記得要修改內容標題，以表明你是在問一個問題， 一個看起來像 Re: 測試 或者 Re: 新bug 的標題很難引起足夠重視。另外，在不影響連貫性之下，適當引用並刪減前文的內容，能給新來的讀者留下線索。 對於討論串，不要直接點擊回覆來開始一個全新的討論串，這將限縮你的觀眾。因為有些郵件閱讀程序，比如 mutt ，允許使用者按討論串排序並通過折疊討論串來隱藏消息，這樣做的人永遠看不到你發的消息。 僅僅改變標題還不夠。mutt 和其它一些郵件閱讀程式還會檢查郵件標題以外的其它訊息，以便為其指定討論串。所以寧可發一個全新的郵件。 在網頁論壇上，好的提問方式稍有不同，因為討論串與特定的訊息緊密結合，並且通常在討論串外就看不到裡面的內容，故通過回覆提問，而非改變標題是可接受的。不是所有論壇都允許在回覆中出現分離的標題，而且這樣做了基本上沒有人會去看。不過，通過回覆提問，這本身就是曖昧的做法，因為它們只會被正在查看該標題的人讀到。所以，除非你只想在該討論串當前活躍的人群中提問，不然還是另起爐灶比較好。 使問題容易回覆以請將你的回覆寄到……來結束你的問題多半會使你得不到回答。如果你覺得花幾秒鐘在電子信箱客戶端設置一下回覆地址都麻煩，我們也覺得花幾秒鐘思考你的問題更麻煩。如果你的電子信箱程式不支援這樣做，換個好點的；如果是作業系統不支援這種電子信箱程式，也換個好點的。 在論壇，要求通過電子郵件回覆是非常無禮的，除非你相信回覆的訊息可能比較敏感（而且有人會為了某些未知的原因，只讓你而不是整個論壇知道答案）。如果你只是想在有人回覆討論串時得到電子郵件提醒，可以要求網頁論壇發送給你。幾乎所有論壇都支援諸如追蹤此討論串、有回覆時發送郵件提醒等功能。 用清晰、正確、精準並合法文法的語句我們從經驗中發現，粗心的提問者通常也會粗心的寫程式與思考（我敢打包票）。回答粗心大意者的問題很不值得，我們寧願把時間耗在別處。 正確的拼字、標點符號和大小寫是很重要的。一般來說，如果你覺得這樣做很麻煩，不想在乎這些，那我們也覺得麻煩，不想在乎你的提問。花點額外的精力斟酌一下字句，用不著太僵硬與正式──事實上，黑客文化很看重能準確地使用非正式、俚語和幽默的語句。但它必須很準確，而且有跡象表明你是在思考和關注問題。 正確地拼寫、使用標點和大小寫，不要將its混淆為it&#39;s，loose搞成lose或者將discrete弄成discreet。不要全部用大寫，這會被視為無禮的大聲嚷嚷（全部小寫也好不到哪去，因為不易閱讀。Alan Cox也許可以這樣做，但你不行。） 更白話的說，如果你寫得像是個半文盲[譯註：小白]），那多半得不到理睬。也不要使用即時通訊中的簡寫或火星文，如將的簡化為ㄉ會使你看起來像一個為了少打幾個鍵而省字的小白。更糟的是，如果像個小孩似地鬼畫符那絕對是在找死，可以肯定沒人會理你（或者最多是給你一大堆指責與挖苦）。 如果在使用非母語的論壇提問，你可以犯點拼寫和語法上的小錯，但決不能在思考上馬虎（沒錯，我們通常能弄清兩者的分別）。同時，除非你知道回覆者使用的語言，否則請使用英語書寫。繁忙的黑客一般會直接刪除用他們看不懂語言寫的消息。在網路上英語是通用語言，用英語書寫可以將你的問題在尚未被閱讀就被直接刪除的可能性降到最低。 如果英文是你的第一外語（Second language），提示潛在回覆者你有潛在的語言困難是很好的：[譯註：以下附上原文以供使用] English is not my native language; please excuse typing errors. 英文不是我的母語，請原諒我的錯字或文法 If you speak $LANGUAGE, please email/PM me;I may need assistance translating my question. 如果你說某語言，請寄信/私訊給我；我需要有人協助我翻譯我的問題 I am familiar with the technical terms,but some slang expressions and idioms are difficult for me. 我對技術名詞很熟悉，但對於俗語或是特別用法比較不甚了解。 I’ve posted my question in $LANGUAGE and English.I’ll be glad to translate responses, if you only use one or the other. 我把我的問題用某語言和英文寫出來，如果你只用一種語言回答，我會樂意將其翻譯成另一種。 使用易於讀取且標準的文件格式發送問題如果你人為地將問題搞得難以閱讀，它多半會被忽略，人們更願讀易懂的問題，所以： 使用純文字而不是 HTML (關閉 HTML並不難） 使用 MIME 附件通常是可以的，前提是真正有內容（譬如附帶的原始碼或patch），而不僅僅是信箱程式生成的模板（譬如只是信件內容的拷貝）。 不要發送一段文字只是單行句子但多次斷行的郵件（這使得回覆部分內容非常困難）。設想你的讀者是在80個字符寬的終端機上閱讀郵件，最好設置你的斷行點小於80字。 但是，也不要用任何固定斷行資料（譬如日誌檔案拷貝或會話記錄）。檔案應該原樣包含，讓回覆者有信心他們看到的是和你看到的一樣的東西。 在英語論壇中，不要使用Quoted-Printable MIME編碼發送消息。這種編碼對於張貼非 ASCII 語言可能是必須的，但很多電子信箱程式並不支援這種編碼。當它們分斷時，那些文本中四處散佈的=20符號既難看也分散注意力，甚至有可能破壞內容的語意。 絕對，永遠不要指望黑客們閱讀使用封閉格式編寫的文檔，像是微軟公司的 Word 或 Excel 文件等。大多數黑客對此的反應就像有人將還在冒熱氣的豬糞倒在你門口階梯上時你的反應一樣。即便他們能夠處理，他們也很厭惡這麼做。 如果你從使用 Windows 的電腦發送電子郵件，關閉微軟愚蠢的智慧引號功能 （從[選項] &gt; [校訂] &gt; [自動校正選項], 按掉智慧引號核取方塊），以免在你的郵件中到處散佈垃圾字符。 在論壇，勿濫用表情符號和HTML功能（當它們提供時）。一兩個表情符號通常沒有問題，但花哨的彩色文本傾向於使人認為你是個無能之輩。過濫地使用表情符號、色彩和字體會使你看來像個傻笑的小姑娘。這通常不是個好主意，除非你只是對性而不是有用的回覆更有興趣。 如果你使用圖形用戶界面的電子信箱程式（如微軟公司的 Outlook 或者其它類似的），注意它們的預設配置不一定滿足這些要求。大多數這類程式有基於選單的查看原始碼命令，用它來檢查發送文件夾中的消息，以確保發送的是沒有多餘雜質的純文本文件。 精確的描述問題並言之有物 仔細、清楚地描述你的問題或臭蟲的症狀。 描述問題發生的環境（機器配置、作業系統、應用程式、以及相關的資訊），提供經銷商的發行版和版本號（如：Fedora Core 4、Slackware 9.1等）。 描述在提問前你是怎樣去研究和理解這個問題的。 描述在提問前為確定問題而採取的診斷步驟。 描述最近做過什麼可能相關的硬體或軟體變更。 盡可能的提供一個可以重製這個問題的既定環境的方法 儘量去揣測一個黑客會怎樣反問你，在他提問的時候預先給他答案。 以上幾點中，當你回報的是你認為可能在程式碼中的問題時，給黑客一個可以重製你的問題的環境尤其重要。當你這麼做時，你得到有效的回答的機會和速度都會大大的提升。 Simon Tatham 寫過一篇名為〈如何有效的回報Bug〉的出色文章。強力推薦你也讀一讀。 話不在多而在精你需要提供精確有內容的資訊。這並不是要求你簡單的把成堆的出錯程式碼或者資料完全轉錄到你的提問中。如果你有龐大而複雜的測試樣例能重現程式當掉的情境，儘量將它剪裁得越小越好。 這樣做的用處至少有三點。第一，表現出你為簡化問題付出了努力，這可以使你得到回答的機會增加；第二，簡化問題使你更有可能得到有用的答案；第三，在精鍊你的bug報告的過程中，你很可能就自己找到了解決方法或權宜之計。 別動輒聲稱找到Bug當你在使用軟體中遇到問題，除非你非常、非常的有根據，不要動輒聲稱找到了Bug。提示：除非你能提供解決問題的原始碼補丁，或者對前一版本的回歸測試表現出不正確的行為，否則你都多半不夠完全確信。這同樣適用在網頁和文件，如果你（聲稱）發現了文件的Bug，你應該能提供相應位置的修正或替代文件。 請記得，還有許多其它使用者沒遇到你發現的問題，否則你在閱讀文件或搜尋網頁時就應該發現了（你在抱怨前已經做了這些，是吧？）。這也意味著很有可能是你弄錯了而不是軟體本身有問題。 編寫軟體的人總是非常辛苦地使它盡可能完美。如果你聲稱找到了Bug，也就是在質疑他們的能力，即使你是對的，也有可能會冒犯到其中某部分人。這尤其嚴重當你在標題中嚷嚷著有Bug。 提問時，即使你私下非常確信已經發現一個真正的臭蟲，最好寫得像是你做錯了什麼。如果真的有臭蟲，你會在回覆中看到這點。這樣做的話，如果真有臭蟲，維護者就會向你道歉，這總比你惹惱別人然後欠別人一個道歉要好一點。 別用低聲下氣取代你真正該做的事有些人明白他們不該粗魯或傲慢的提問並要求得到答覆，但他們選擇另一個極端 – 低聲下氣：我知道我只是個可悲的新手，一個魯蛇，但...。這既使人困擾，也沒有用，尤其是伴隨著與實際問題含糊不清的描述時更令人反感。 別用原始靈長類動物的把戲來浪費你我的時間。取而代之的是，盡可能清楚地描述背景條件和你的問題情況。這比低聲下氣更好地定位了你的位置。 有時網頁論壇會設有專為新手提問的版面，如果你真的認為遇到了初學者的問題，到那去就是了，但一樣別那麼低聲下氣。 描述問題症狀而非猜測告訴黑客們你認為問題是怎樣造成的並沒什麼幫助。（如果你的推斷如此有效，還用向別人求助嗎？），因此要確信你原原本本告訴了他們問題的症狀，而不是你的解釋和理論；讓黑客們來推測和診斷。如果你認為陳述自己的猜測很重要，清楚地說明這只是你的猜測，並描述為什麼它們不起作用。 蠢問題 我在編譯內核時接連遇到 SIG11 錯誤，我懷疑某條飛線搭在主板的走線上了，這種情況應該怎樣檢查最好？聰明問題我的組裝電腦是 FIC-PA2007 主機板搭載 AMD K6/233 CPU（威盛 Apollo VP2晶片組），256MB Corsair PC133 SDRAM記憶體，在編譯內核時，從開機20分鐘以後就頻頻產生 SIG11 錯誤，但是在頭20分鐘內從沒發生過相同的問題。重新啟動也沒有用，但是關機一晚上就又能工作20分鐘。所有記憶體都換過了，沒有效果。相關部分的標準編譯記錄如下…。由於以上這點似乎讓許多人覺得難以配合，這裡有句話可以提醒你：所有的診斷專家都來自密蘇里州。 美國國務院的官方座右銘則是：讓我看看（出自國會議員 Willard D. Vandiver 在1899年時的講話：我來自一個出產玉米，棉花，牛蒡和民主黨人的國家，滔滔雄辯既不能說服我，也不會讓我滿意。我來自密蘇里州，你必須讓我看看。） 針對診斷者而言，這並不是一種懷疑，而只是一種真實而有用的需求，以便讓他們看到的是與你看到的原始證據盡可能一致的東西，而不是你的猜測與歸納的結論。所以，大方的展示給我們看吧！ 按發生時間先後列出問題症狀問題發生前的一系列操作，往往就是對找出問題最有幫助的線索。因此，你的說明裡應該包含你的操作步驟，以及機器和軟體的反應，直到問題發生。在命令列處理的情況下，提供一段操作記錄（例如運行腳本工具所生成的），並引用相關的若干行（如20行）記錄會非常有幫助。 如果當掉的程式有診斷選項（如 -v 的詳述開關），試著選擇這些能在記錄中增加除錯資訊的選項。記住，多不等於好。試著選取適當的除錯級別以便提供有用的訊息而不是讓讀者淹沒在垃圾中。 如果你的說明很長（如超過四個段落），在開頭簡述問題，接下來再按時間順序詳述會有所幫助。這樣黑客們在讀你的記錄時就知道該注意哪些內容了。 描述目標而不是過程如果你想弄清楚如何做某事（而不是報告一個Bug），在開頭就描述你的目標，然後才陳述重現你所卡住的特定步驟。 經常尋求技術幫助的人在心中有個更高層次的目標，而他們在自以為能達到目標的特定道路上被卡住了，然後跑來問該怎麼走，但沒有意識到這條路本身就有問題。結果要費很大的勁才能搞定。 蠢問題 我怎樣才能從某繪圖程式的顏色選擇器中取得十六進制的 RGB 值？ 聰明問題 我正試著把一幅圖片的色碼替換成自己選定的色碼，我現在知道的唯一方法是編輯每個色碼區塊，但卻無法從某繪圖程式的顏色選擇器取得十六進制的 RGB 值。 第二種提問法比較聰明，你可能得到像是建議採用另一個更適任的工具的回覆。 別要求使用私人電郵回覆黑客們認為問題的解決過程應該公開、透明，此過程中如果更有經驗的人注意到不完整或者不當之處，最初的回覆才能夠、也應該被糾正。同時，作為提供幫助者也能因為能力和學識被其它同行看到而得到某種獎勵。 當你要求私下回覆時，這個過程和獎勵都被中止。別這樣做，讓回覆者來決定是否私下回答 – 如果他真這麼做了，通常是因為他認為問題編寫太差或者太膚淺，以至於對其它人沒有興趣。 這條規則存在一條有但書的例外，如果你確信提問可能會引來大量雷同的回覆時，那麼這個神奇的提問句會是向我發電郵，我將為論壇歸納這些回覆。試著將郵件列表或新聞群組從洪水般的雷同回覆中解救出來是非常有禮貌的 – 但你必須信守諾言。 清楚明確的表達你的問題以及需求漫無邊際的提問近乎無休無止的時間黑洞。最有可能給你有用答案的人通常也正是最忙的人（他們忙是因為要親自完成大部分工作）。這樣的人對無節制的時間黑洞相當厭惡，所以他們也傾向於厭惡那些漫無邊際的提問。 如果你明確表述需要回答者做什麼（如提供指點、發送一段程式碼、檢查你的補丁、或是其他等等），就最有可能得到有用的答案。因為這會定出一個時間和精力的上限，便於回答者能集中精力來幫你。這麼做很棒。 要理解專家們所處的世界，請把專業技能想像為充裕的資源，而回覆的時間則是稀缺的資源。你要求他們奉獻的時間越少，你越有可能從真正專業而且很忙的專家那裡得到解答。 所以，界定一下你的問題，使專家花在辨識你的問題和回答所需要付出的時間減到最少，這技巧對你有用答案相當有幫助──但這技巧通常和簡化問題有所區別。因此，問我想更好的理解X，可否指點一下哪裡有好一點的說明？通常比問你能解釋一下X嗎？更好。如果你的程式碼不能運作，通常請別人看看哪裡有問題，比要求別人替你改正要明智得多。 詢問有關程式碼的問題時別要求他人幫你有問題的程式碼除錯而不提示一下應該從何入手。張貼幾百行的程式碼，然後說一聲：它不會動會讓你完全被忽略。只貼幾十行程式碼，然後說一句：在第七行以後，我期待它顯示 &lt;x&gt;，但實際出現的是 &lt;y&gt;比較有可能讓你得到回應。 最有效描述程式問題的方法是提供最精簡的臭蟲展示測試示例（bug-demonstrating test case）。什麼是最精簡的測試示例? 那是問題的縮影；一小個程式片段能剛好展示出程式的異常行為，而不包含其他令人分散注意力的內容。怎麼製作最精簡的測試示例？如果你知道哪一行或哪一段程式碼會造成異常的行為，複製下來並加入足夠重現這個狀況的程式碼（例如，足以讓這段程式碼能被編譯/直譯/被應用程式處理）。如果你無法將問題縮減到一個特定區塊，就複製一份程式碼並移除不影響產生問題行為的部分。總之，測試示例越小越好（查看話不在多而在精一節）。 一般而言，要得到一段相當精簡的測試示例並不太容易，但永遠先嘗試這樣做的是種好習慣。這種方式可以幫助你了解如何自行解決這個問題──而且即使你的嘗試不成功，黑客們也會看到你在嘗試取得答案的過程中付出了努力，這可以讓他們更願意與你合作。 如果你只是想讓別人幫忙審（Review）一下程式碼，在信的開頭就要說出來，並且一定要提到你認為哪一部分特別需要關注以及為什麼。 別把自己家庭作業的問題貼上來黑客們很擅長分辨哪些問題是家庭作業式的問題；因為我們中的大多數都曾自己解決這類問題。同樣，這些問題得由你來搞定，你會從中學到東西。你可以要求給點提示，但別要求得到完整的解決方案。 如果你懷疑自己碰到了一個家庭作業式的問題，但仍然無法解決，試試在使用者群組，論壇或（最後一招）在專案的使用者郵件列表或論壇中提問。儘管黑客們會看出來，但一些有經驗的使用者也許仍會給你一些提示。 去掉無意義的提問句避免用無意義的話結束提問，例如有人能幫我嗎？或者這有答案嗎？。 首先：如果你對問題的描述不是很好，這樣問更是畫蛇添足。 其次：由於這樣問是畫蛇添足，黑客們會很厭煩你──而且通常會用邏輯上正確，但毫無意義的回答來表示他們的蔑視， 例如：沒錯，有人能幫你或者不，沒答案。 一般來說，避免用 是或否、對或錯、有或沒有類型的問句，除非你想得到是或否類型的回答。 即使你很急也不要在標題寫緊急這是你的問題，不是我們的。宣稱緊急極有可能事與願違：大多數黑客會直接刪除無禮和自私地企圖即時引起關注的問題。更嚴重的是，緊急這個字（或是其他企圖引起關注的標題）通常會被垃圾信過濾器過濾掉 – 你的問題可能永遠將無法得到解答。 有半個例外的情況是，如果你是在一些很高調，會使黑客們興奮的地方，也許值得這樣去做。在這種情況下，如果你有時間壓力，也很有禮貌地提到這點，人們也許會有興趣回答快一點。 當然，這風險很大，因為黑客們興奮的點多半與你的不同。譬如從 NASA 國際空間站（International Space Station）發這樣的標題沒有問題，但用自我感覺良好的慈善行為或政治原因發肯定不行。事實上，張貼諸如緊急：幫我救救這個毛絨絨的小海豹！肯定讓你被黑客忽略或惹惱他們，即使他們認為毛絨絨的小海豹很重要。 如果你覺得這點很不可思議，最好再把這份指南剩下的內容多讀幾遍，直到你弄懂了再發文。 禮多人不怪，而且有時還很有幫助彬彬有禮，多用請和謝謝您的關注，或謝謝你的關照。讓大家都知道你對他們花時間免費提供幫助心存感激。 坦白說，這一點並沒有比清晰、正確、精準並合法文法和避免使用專用格式重要（也不能取而代之）。黑客們一般寧可讀有點唐突但技術上鮮明的臭蟲報告，而不是那種有禮但含糊的報告。（如果這點讓你不解，記住我們是按問題能教我們什麼來評價問題的價值的） 然而，如果你有一串的問題待解決，客氣一點肯定會增加你得到有用回應的機會。 （我們注意到，自從本指南發佈後，從資深黑客那裡得到的唯一嚴重缺陷反饋，就是對預先道謝這一條。一些黑客覺得先謝了意味著事後就不用再感謝任何人的暗示。我們的建議是要麼先說先謝了，然後事後再對回覆者表示感謝，或者換種方式表達感激，譬如用謝謝你的關注或謝謝你的關照。） 問題解決後，加個簡短的補充說明問題解決後，向所有幫助過你的人發個說明，讓他們知道問題是怎樣解決的，並再一次向他們表示感謝。如果問題在新聞組或者郵件列表中引起了廣泛關注，應該在那裡貼一個說明比較恰當。 最理想的方式是向最初提問的話題回覆此消息，並在標題中包含已修正，已解決或其它同等含義的明顯標記。在人來人往的郵件列表裡，一個看見討論串問題 X和問題的X - 已解決的潛在回覆者就明白不用再浪費時間了（除非他個人覺得問題 X的有趣），因此可以利用此時間去解決其它問題。 補充說明不必很長或是很深入；簡單的一句你好，原來是網路線出了問題！謝謝大家 – Bill比什麼也不說要來的好。事實上，除非結論真的很有技術含量，否則簡短可愛的小結比長篇大論更好。說明問題是怎樣解決的，但大可不必將解決問題的過程複述一遍。 對於有深度的問題，張貼除錯記錄的摘要是有幫助的。描述問題的最終狀態，說明是什麼解決了問題，在此之後才指明可以避免的盲點。避免盲點的部分應放在正確的解決方案和其它總結材料之後，而不要將此訊息搞成偵探推理小說。列出那些幫助過你的名字，會讓你交到更多朋友。 除了有禮貌和有內涵以外，這種類型的補充也有助於他人在郵件列表/新聞群組/論壇中搜尋到真正解決你問題的方案，讓他們也從中受益。 至少，這種補充有助於讓每位參與協助的人因問題的解決而從中得到滿足感。如果你自己不是技術專家或者黑客，那就相信我們，這種感覺對於那些你向他們求助的大師或者專家而言，是非常重要的。問題懸而未決會讓人灰心；黑客們渴望看到問題被解決。好人有好報，滿足他們的渴望，你會在下次提問時嘗到甜頭。 思考一下怎樣才能避免他人將來也遇到類似的問題，自問寫一份文件或加個常見問題（FAQ）會不會有幫助。如果是的話就將它們發給維護者。 在黑客中，這種良好的後繼行動實際上比傳統的禮節更為重要，也是你如何透過善待他人而贏得聲譽的方式，這是非常有價值的資產。 如何解讀答案 RTFM和STFW：如何知道你已完全搞砸了有一個古老而神聖的傳統：如果你收到RTFM （Read The Fucking Manual）的回應，回答者認為你應該去讀那該死的手冊。當然，基本上他是對的，你應該去讀一讀。 RTFM 有一個年輕的親戚。如果你收到STFW（Search The Fucking Web）的回應，回答者認為你應該到該死的網路上搜索過了。那人多半也是對的，去搜尋一下吧。（更溫和一點的說法是 **Google是你的朋友**！） 在論壇，你也可能被要求去爬爬論壇的舊文。事實上，有人甚至可能熱心地為你提供以前解決此問題的討論串。但不要依賴這種關照，提問前應該先搜索一下舊文。 通常，用這兩句之一回答你的人會給你一份包含你需要內容的手冊或者一個網址，而且他們打這些字的時候也正在讀著。這些答覆意味著回答者認為 你需要的資訊非常容易獲得； 你自己去搜尋這些資訊比灌給你能讓你學到更多。 你不應該因此不爽；依照黑客的標準，他已經表示了對你一定程度的關注，而沒有對你的要求視而不見。你應該對他祖母般的慈祥表示感謝。 如果還是搞不懂如果你看不懂回應，別立刻要求對方解釋。像你以前試著自己解決問題時那樣（利用手冊，FAQ，網路，身邊的高手），先試著去搞懂他的回應。如果你真的需要對方解釋，記得表現出你已經從中學到了點什麼。 比方說，如果我回答你：看來似乎是 zentry 卡住了；你應該先清除它。，然後，這是一個很糟的後續問題回應：zentry是什麼？ 好的問法應該是這樣：哦~~~我看過說明了但是只有 -z 和 -p 兩個參數中提到了 zentries，而且還都沒有清楚的解釋如何清除它。你是指這兩個中的哪一個嗎？還是我看漏了什麼？ 處理無禮的回應很多黑客圈子中看似無禮的行為並不是存心冒犯。相反，它是直接了當，一針見血式的交流風格，這種風格更注重解決問題，而不是使人感覺舒服而卻模模糊糊。 如果你覺得被冒犯了，試著平靜地反應。如果有人真的做了出格的事，郵件列表、新聞群組或論壇中的前輩多半會招呼他。如果這沒有發生而你卻發火了，那麼你發火對象的言語可能在黑客社區中看起來是正常的，而你將被視為有錯的一方，這將傷害到你獲取訊息或幫助的機會。 另一方面，你偶而真的會碰到無禮和無聊的言行。與上述相反，對真正的冒犯者狠狠地打擊，用犀利的語言將其駁得體無完膚都是可以接受的。然而，在行事之前一定要非常非常的有根據。糾正無禮的言論與開始一場毫無意義的口水戰僅一線之隔，黑客們自己莽撞地越線的情況並不鮮見。如果你是新手或外人，避開這種莽撞的機會並不高。如果你想得到的是訊息而不是消磨時光，這時最好不要把手放在鍵盤上以免冒險。 （有些人斷言很多黑客都有輕度的自閉症或亞斯伯格綜合症，缺少用於潤滑人類社會正常交往所需的神經。這既可能是真也可能是假的。如果你自己不是黑客，興許你認為我們腦袋有問題還能幫助你應付我們的古怪行為。只管這麼幹好了，我們不在乎。我們喜歡我們現在這個樣子，並且通常對病患標記都有站得住腳的懷疑。） 在下一節，我們會談到另一個問題，當你行為不當時所會受到的冒犯。 如何避免扮演失敗者在黑客社區的論壇中有那麼幾次你可能會搞砸──以本指南所描述到的或類似的方式。而你會在公開場合中被告知你是如何搞砸的，也許攻擊的言語中還會帶點雜七雜八的顏色。 這種事發生以後，你能做的最糟糕的事莫過於哀嚎你的遭遇、宣稱被口頭攻擊、要求道歉、高聲尖叫、憋悶氣、威脅訴諸法律、向其雇主報怨、忘了關馬桶蓋等等。相反地，你該這麼做： 熬過去，這很正常。事實上，它是有益健康且合理的。 社區的標準不會自行維持，它們是通過參與者積極而公開地執行來維持的。不要哭嚎所有的批評都應該通過私下的郵件傳送，它不是這樣運作的。當有人評論你的一個說法有誤或者提出不同看法時，堅持聲稱受到個人攻擊也毫無益處，這些都是失敗者的態度。 也有其它的黑客論壇，受過高禮節要求的誤導，禁止參與者張貼任何對別人帖子挑毛病的消息，並聲稱如果你不想幫助用戶就閉嘴。 結果造成有想法的參與者紛紛離開，這麼做只會使它們淪為毫無意義的嘮叨與無用的技術論壇。 誇張的講法是：你要的是友善（以上述方式）還是有用？兩個裡面挑一個。 記著：當黑客說你搞砸了，並且（無論多麼刺耳）告訴你別再這樣做時，他正在為關心你和他的社群而行動。對他而言，不理你並將你從他的生活中濾掉更簡單。如果你無法做到感謝，至少要表現地有點尊嚴，別大聲哀嚎，也別因為自己是個有戲劇性超級敏感的靈魂和自以為有資格的新來者，就指望別人像對待脆弱的洋娃娃那樣對你。 有時候，即使你沒有搞砸（或者只是在他的想像中你搞砸了），有些人也會無緣無故地攻擊你本人。在這種情況下，抱怨倒是真的會把問題搞砸。 這些來找麻煩的人要麼是毫無辦法但自以為是專家的不中用傢伙，要麼就是測試你是否真會搞砸的心理專家。其它讀者要麼不理睬，要麼用自己的方式對付他們。這些來找麻煩的人在給他們自己找麻煩，這點你不用操心。 也別讓自己捲入口水戰，最好不要理睬大多數的口水戰 – 當然，是在你檢驗它們只是口水戰，而並未指出你有搞砸的地方，且也沒有巧妙地將問題真正的答案藏於其後（這也是有可能的）。 不該問的問題以下是幾個經典蠢問題，以及黑客沒回答時心中所想的： 問題：我能在哪找到 X 程式或 X 資源？ 問題：我怎樣用 X 做 Y？ 問題：如何設定我的 shell 提示？ 問題：我可以用 Bass-o-matic 文件轉換工具將 AcmeCorp 檔案轉換為 TeX 格式嗎？ 問題：我的程式/設定/SQL語句沒有用 問題：我的 Windows 電腦有問題，你能幫我嗎？ 問題：我的程式不會動了，我認為系統工具 X 有問題 問題：我在安裝 Linux（或者 X ）時有問題，你能幫我嗎？ 問題：我怎麼才能破解 root 帳號/竊取 OP 特權/讀別人的郵件呢？ 問題：我能在哪找到 X 程式或 X 資源？回答：就在我找到它的地方啊，白痴 – 搜尋引擎的那一頭。天哪！難道還有人不會用 Google 嗎？ 問題：我怎樣用 X 做 Y？回答：如果你想解決的是 Y ，提問時別給出可能並不恰當的方法。這種問題說明提問者不但對 X 完全無知，也對 Y 要解決的問題糊塗，還被特定形勢禁錮了思維。最好忽略這種人，等他們把問題搞清楚了再說。 問題：如何設定我的 shell 提示？？ 回答：如果你有足夠的智慧提這個問題，你也該有足夠的智慧去 RTFM，然後自己去找出來。 問題：我可以用 Bass-o-matic 文件轉換工具將 AcmeCorp 檔案轉換為 TeX 格式嗎？ 回答：試試看就知道了。如果你試過，你既知道了答案，就不用浪費我的時間了。 問題：我的程式/設定/SQL語句沒有用 回答：這不算是問題吧，我對要我問你二十個問題才找得出你真正問題的問題沒興趣 – 我有更有意思的事要做呢。在看到這類問題的時候，我的反應通常不外如下三種 你還有什麼要補充的嗎？ 真糟糕，希望你能搞定。 這關我屁事？ 問題：我的 Windows 電腦有問題，你能幫我嗎？回答：能啊，扔掉微軟的垃圾，換個像 Linux 或 BSD 的開放原始碼作業系統吧。 注意：如果程式有官方版 Windows 或者與 Windows 有互動（如Samba），你可以問與Windows相關的問題， 只是別對問題是由 Windows 作業系統而不是程式本身造成的回覆感到驚訝， 因為 Windows 一般來說實在太爛，這種說法通常都是對的。 問題：我的程式不會動了，我認為系統工具 X 有問題回答：你完全有可能是第一個注意到被成千上萬用戶反覆使用的系統呼叫與函式庫檔案有明顯缺陷的人，更有可能的是你完全沒有根據。不同凡響的說法需要不同凡響的證據，當你這樣聲稱時，你必須有清楚而詳盡的缺陷說明文件作後盾。 問題：我在安裝 Linux（或者 X ）時有問題，你能幫我嗎？回答：不能，我只有親自在你的電腦上動手才能找到毛病。還是去找你當地的 Linux 使用群組者尋求實際的指導吧（你能在這兒找到使用者群組的清單）。 注意：如果安裝問題與某 Linux 的發行版有關，在它的郵件列表、論壇或本地使用者群組中提問也許是恰當的。此時，應描述問題的準確細節。在此之前，先用 Linux 和所有被懷疑的硬體作關鍵詞仔細搜尋。 問題：我怎麼才能破解 root 帳號/竊取 OP 特權/讀別人的郵件呢？回答：想要這樣做，說明了你是個卑鄙小人；想找個黑客幫你，說明你是個白癡！ 好問題與蠢問題最後，我將透過舉一些例子，來說明怎樣聰明的提問；同一個問題的兩種問法被放在一起，一種是愚蠢的，另一種才是明智的。 蠢問題： 我可以在哪兒找到關於 Foonly Flurbamatic 的資料？這種問法無非想得到 STFW 這樣的回答。 聰明問題： 我用Google 搜尋過 “Foonly Flurbamatic 2600”，但是沒找到有用的結果。誰知道上哪兒去找對這種設備編寫程式的資料？這個問題已經 STFW 過了，看起來他真的遇到了麻煩。 蠢問題 我從 foo 項目找來的源碼沒法編譯。它怎麼這麼爛？他覺得都是別人的錯，這個傲慢自大的提問者 聰明問題 foo 專案程式碼在 Nulix 6.2 版下無法編譯通過。我讀過了 FAQ，但裏面沒有提到跟 Nulix 有關的問題。這是我編譯過程的記錄，我有什麼做的不對的地方嗎？提問者已經指明了環境，也讀過了FAQ，還列出了錯誤，並且他沒有把問題的責任推到別人頭上，他的問題值得被關注。 蠢問題 我的主機板有問題了，誰來幫我？某黑客對這類問題的回答通常是：好的，還要幫你拍拍背和換尿布嗎？，然後按下刪除鍵。 聰明問題 我在 S2464 主機板上試過了 X 、 Y 和 Z ，但沒什麼作用，我又試了 A 、 B 和 C 。請注意當我嘗試 C 時的奇怪現象。顯然 florbish 正在 grommicking，但結果出人意料。通常在 Athlon MP 主機板上引起 grommicking 的原因是什麼？有誰知道接下來我該做些什麼測試才能找出問題？這個傢伙，從另一個角度來看，值得去回答他。他表現出了解決問題的能力，而不是坐等天上掉答案。 在最後一個問題中，注意告訴我答案和給我啟示，指出我還應該做什麼診斷工作之間微妙而又重要的區別。 事實上，後一個問題源自於 2001 年 8 月在 Linux 內核郵件列表（lkml）上的一個真實的提問。我（Eric）就是那個提出問題的人。我在 Tyan S2464 主板上觀察到了這種無法解釋的鎖定現象，列表成員們提供了解決這一問題的重要資訊。 通過我的提問方法，我給了別人可以咀嚼玩味的東西；我設法讓人們很容易參與並且被吸引進來。我顯示了自己具備和他們同等的能力，並邀請他們與我共同探討。通過告訴他們我所走過的彎路，以避免他們再浪費時間，我也表明了對他們寶貴時間的尊重。 事後，當我向每個人表示感謝，並且讚賞這次良好的討論經歷的時候， 一個 Linux 內核郵件列表的成員表示，他覺得我的問題得到解決並非由於我是這個列表中的名人，而是因為我用了正確的方式來提問。 黑客從某種角度來說是擁有豐富知識但缺乏人情味的傢伙；我相信他是對的，如果我像個乞討者那樣提問，不論我是誰，一定會惹惱某些人或者被他們忽視。他建議我記下這件事，這直接導致了本指南的出現。 如果得不到回答如果仍得不到回答，請不要以為我們覺得無法幫助你。有時只是看到你問題的人不知道答案罷了。沒有回應不代表你被忽視，雖然不可否認這種差別很難區分。 總的來說，簡單的重複張貼問題是個很糟的點子。這將被視為無意義的喧鬧。有點耐心，知道你問題答案的人可能生活在不同的時區，可能正在睡覺，也有可能你的問題一開始就沒有組織好。 你可以通過其他管道獲得幫助，這些管道通常更適合初學者的需要。 有許多網上的以及本地的使用者群組，由熱情的軟體愛好者（即使他們可能從沒親自寫過任何軟體）組成。通常人們組建這樣的團體來互相幫助並幫助新手。 另外，你可以向很多商業公司尋求幫助，不論公司大還是小。別為要付費才能獲得幫助而感到沮喪！畢竟，假使你的汽車發動機汽缸密封圈爆掉了──完全可能如此──你還得把它送到修車鋪，並且為維修付費。就算軟體沒花費你一分錢，你也不能強求技術支援總是免費的。 對像是 Linux 這種大眾化的軟體，每個開發者至少會對應到上萬名使用者。根本不可能由一個人來處理來自上萬名使用者的求助電話。要知道，即使你要為這些協助付費，和你所購買的同類軟體相比，你所付出的也是微不足道的（通常封閉原始碼軟體的技術支援費用比開放原始碼軟體的要高得多，且內容也沒那麼豐富）。 如何更好地回答問題態度和善一點。問題帶來的壓力常使人顯得無禮或愚蠢，其實並不是這樣。 對初犯者私下回覆。對那些坦誠犯錯之人沒有必要當眾羞辱，一個真正的新手也許連怎麼搜尋或在哪找常見問題都不知道。 如果你不確定，一定要說出來！一個聽起來權威的錯誤回覆比沒有還要糟，別因為聽起來像個專家很好玩，就給別人亂指路。要謙虛和誠實，給提問者與同行都樹個好榜樣。 如果幫不了忙，也別妨礙他。不要在實際步驟上開玩笑，那樣也許會毀了使用者的配置 –有些可憐的呆瓜會把它當成真的指令。 試探性的反問以引出更多的細節。如果你做得好，提問者可以學到點東西 –你也可以。試試將蠢問題轉變成好問題，別忘了我們都曾是新手。 儘管對那些懶蟲抱怨一聲 RTFM 是正當的，能指出文件的位置（即使只是建議個 Google 搜尋關鍵詞）會更好。 如果你決定回答，就請給出好的答案。當別人正在用錯誤的工具或方法時別建議笨拙的權宜之計（workaround），應推薦更好的工具，重新界定問題。 正面的回答問題！如果這個提問者已經很深入的研究而且也表明已經試過 X 、 Y 、 Z 、 A 、 B 、 C 但沒得到結果，回答 試試看 A 或是 B 或者 試試X 、 Y 、 Z 、 A 、 B 、 C 並附上一個連結一點用都沒有。 幫助你的社群從問題中學習。當回覆一個好問題時，問問自己如何修改相關文件或常見問題文件以免再次解答同樣的問題？，接著再向文件維護者發一份補丁。 如果你是在研究一番後才做出的回答，展現你的技巧而不是直接端出結果。畢竟授人以魚不如授人以漁。 相關資源如果你需要個人電腦、Unix 系統和網路如何運作的基礎知識，參閱Unix系統和網路基本原理。 當你發布軟體或補丁時，試著按軟體發布實踐操作。 鳴謝Evelyn Mitchel 貢獻了一些愚蠢問題例子並啟發了編寫如何更好地回答問題這一節， Mikhail Ramendik 貢獻了一些特別有價值的建議和改進。 Contributors ✨Thanks goes to these wonderful people (emoji key): Fred🌍 xgdgsc🌍 Michael Lin🌍 Galin Wu🌍 lantianjialiang🌍 Xiaodong Xu🌍 Cliff Chao-kuan Lu🌍 Chaoyang Liu🌍 瑞君🌍 steven lyu🌍 Yan-Kuan Wu🌍 Alger🌍 HJ1AN🌍 Joshua🌍 HY Chang(splasky)🌍 qiuqiu🌍 dqwyy🌍 Tomaz Wang🌍 Anduin Xue🌍 Pancongwen🌍 Yishuai Li🌍 Franklin Yu🌍 D🌍 Chun-Hao Lien🌍 hms5232🌍 gricn🌍 zoomdong🌍 LadderOperator🌍 WuzgXY🌍 Ren Baoshuo🌍 Jalen🌍 BillLucky🌍 bingchuanjuzi🌍 Jack M🌍 tianheg🌍 This project follows the all-contributors specification. Contributions of any kind welcome!"},{"title":"摩擦取火 ——陈仓","date":"2022-02-20T02:16:32.000Z","updated":"2022-02-20T02:24:43.277Z","comments":true,"path":"sto/2018-010101.html","permalink":"https://billma.top/sto/2018-010101.html","excerpt":"","text":"1 凡事需要上天来证明的，那基本就是谎言。 2 整整五年了，这是陈元第一次迈出大铁门。 陈元出门后，听到身后“吱咛”一声再“哐当”一声，已经走出十米开外了，他摸了一下自己的光头猛一回头，目光碰到大铁门的时候，像碰到一块冰一样打了一个激灵。 在里边的五年时间，他无数次地想象过大铁门一开再一关的声音。他曾经想让提前出去的狱友告诉他那大铁门一开一关究竟是什么感觉。有一次，陈元跟第二天就要出去的大胡子说了自己的想法，谁料想，被大胡子给骂了个狗血喷头。大胡子把拳头顶到陈元的鼻梁上，说，你什么意思？陈元说，没什么意思啊。大胡子说，你是在咒我吗？陈元说，怎么会呢？我就是想知道大铁门一开一关的时候，会不会像刀子捅进去再拔出来的感觉。大胡子正好是因为动刀子而进来的，于是骂道，妈的，要不要我像当年一样再捅你一刀试试？这是监狱，又不是婊子房，你觉得我还会回来吗？陈元说，当然不会呀。大胡子说，我不回来，又怎么告诉你呢？陈元说，那还是别麻烦你了，我争取早点出去自己体会吧。 陈元发现这种声音并没有传说的那般刺耳。大铁门“吱咛”一声开了，而后又十分轻软地关上了。若真要他陈元打个比方的话，大铁门一开一关并不像白刀子进红刀子出那样的凶猛，倒像是一把手术刀在做一场手术，切开了经过麻醉的腹部，是缓慢而麻木的，甚至有点明亮的快慰。 陈元站在外边，打量着令他隐隐作痛的大铁门——大铁门漆黑漆黑的，虽然刚刚刷过了油漆，还是可以看出一点锈迹在努力地朝外透着。大铁门与大多数的门都是一样的，中间照样有一条缝，刀子一样的一条缝。陈元真想走近一点，从缝隙朝里看看，到底会看到什么。但是他一点儿也迈不开步子，因为里边的一切在他的脑海里已经扎根了，已经被放大了。比方说，院墙下边的一棵小草，在他的眼睛里，通过五年的时间，早已长成了一棵畸形的大树。 陈元是陕西丹凤人，来上海已经十年了，前五年是在外边度过的，后五年都是在里边度过的。在外边的时候，他刚刚过不惑之年，自己却迈进一扇大铁门，等他再迈出这扇大铁门的时候，没有想到他马上就知天命了。他在外边最后的身份是小学校长——上海市大沙镇菜场农民工子弟小学的校长，而在里边的时候，他的身份却是“那种人”。那两个字实在说不出口，他总觉得用那两个字定性的，不是他陈元而是他的孪生兄弟。 陈元想，妈的，我是那种人吗？在这个世上有谁知道我是那种人呢？又有多少人知道我不是那种人呢？恐怕绝大多数人，比如菜场小学的师生，大沙镇的居民，还有陕西老家的乡亲们，包括老婆屈爱琴、儿子陈改朝，都认定他就是“那种人”。 相对来说，明白他不是那种人的人，恐怕只有三个了。 一个是田老板，一个是仅有一面之交的不满十四岁的小丫头黄丽。第三个就是他陈元自己。自己明白自己，那相当于一百乘以零，结果还是等于零。 应该还有一个人明白他不是那种人，那就是苍天。 苍天明白自己，结果会不会也是等于零呢？ 陈元想到这里，抬头看了看，此时的天空很蓝很蓝，蓝得似乎动一指头就会破碎一般。冬天的天空本来就应该这么蓝，并不是因为自己终于出来了而蓝的。他又摸了一下自己的光头，先是嘿嘿地笑了两声，而后再也笑不出来了。他清楚，在这个世界上，到处都是人，有几十亿的人，能证明他不是那种人的，可怜得仅仅只有两个，或者是三个——陈元还无法确定，那个办案的民警邢小利，是不是明白自己不是那种人。 为什么连他自己与苍天，都无力证明他的清白呢？ 陈元从耳朵上取下一支烟，这是刚刚离开的时候，王管教送给他的临别礼物。王管教扔过来一支烟，对他说，不能再干那种傻事儿了啊，不仅丢人，而且蛮亏的，以后脱裤子之前，问一下人家有没有满十四周岁吧！我再给你普及一下法律吧，为了加大对未成年人的保护，最近国家对刑法进行了修订，如果未满十四周岁，如今像你这种“未遂”的，全部都是要重判的。 陈元没有正面回答王管教。在五年之中许多狱友像王管教一样，都拿那件事儿取笑过他，他开始还会说一句，我是清白的。人家就哈哈大笑地说，你未遂嘛，当然是清白的了。后来，他发现自己的辩解很无力，一是清白的人怎么会在里边呢？二是他写过的几封申诉信都石沉大海了。万般无奈，他干脆把那种人想象成了自己的孪生兄弟，予以漠视。 陈元笑了笑说，你也快了吧？王管教说，我和无期徒刑差不多，这辈子算是耗在里边了。听上去，王管教似乎不是管教，而是罪恶更加深重的人。陈元想，王管教除了领了一份薪水之外，与他陈元不一样的地方并不明显。 陈元把烟叼在嘴上，打量着四周。有位大妈清扫完了落叶，放下手中的大扫帚，靠在马路边上的一个角落里，掏出打火机先给自己点燃了一支烟，然后远远地问陈元，你想借火吗？ 陈元说，我有，不需要。 正好风刮了起来，她的打火机就熄灭了。 陈元走向了大妈。其实他走向的不是大妈，而是大妈靠着的一面墙壁。 陈元撕开棉衣的袖子。这身黑色的棉衣是新的，是出来前王管教送给他的。陈元像往常一样，从棉衣袖子里掏出一小撮棉花，放在手心搓成了一根棉花条子。他蹲下去，脱下一只鞋。这是一只布鞋，也是王管教送给他的。这么多年从来没有人给陈元送过东西，于是在出来之前，王管教就送了他一身衣服，还安慰了一句，等你回去了家里人就原谅你了。 陈元用那只布鞋，把那根棉花条子压在一面墙上，开始上上下下地摩擦着。那种动作有点像在磨刀，而且越磨越快。这是刚进去的时候，他发明的取火之法。刚进去的时候有烟，但是没有火。火保管在王管教的手中。王管教害怕他们生事，把火都给没收了。在外边的时候，陈元除了是校长之外，平时是一名物理老师，他懂得摩擦起火的原理，就是一个物体与另一个物体紧密接触、来回移动的时候会产生一种力，它的大小与物体表面的光滑程度和重量有关。在这种力的作用下，物体的内能不断增大，温度会越来越高，最后就达到了着火点。在进去的第七天晚上，他利用这种原理，从光秃秃的墙上帮大家取到了火，从而成为神一般的人物。从此，他们撕开自己的棉衣，用一只鞋压住棉花，在墙上猛烈地摩擦。夏天不穿棉衣，那就撕开被子。棉衣和被子总是被他们撕得越来越薄。尤其是四面墙，被他们摩擦得油光发亮，像打磨出来的一面镜子。 相比之下，外边的水泥墙粗糙多了。 陈元仅仅摩擦了几分钟，棉花条子就燃烧起来了。 他从棉花条子中间轻轻地吹出了火苗，把自己的烟点着了。 大妈并没有走开，吃惊地凑过来说，你这招在哪儿学的？陈元说，当然是在里边了。大妈说，你从里边出来的？还以为你是过路的呢。陈元回过头，再次看了看大铁门。门缝里边的世界像一把一指宽的刀子，被磨得闪闪发亮。里边很安静，大部分事物都隐没其中，似乎偌大一个地方什么也不存在。 陈元有些窒息。他是真真切切地进去过了，而且是真真切切的五年。 五年前自己是清白的，经过日日夜夜的洗刷自己仍然还是清白的吗？ 到底是谁夺走了他这五年的时光？这些时光到底都流到哪里去了？在邢小利那个民警那里，在姓田的那个超市老板那里，还是在十四岁不到的小丫头黄丽那里呢？ 陈元觉得，他有必要去找找他们，看看能不能找到他白白流走的含着屈辱的时光。 3 陈元蹲在大铁门前边吸完了一支烟。 他迷茫地问大妈，大沙镇怎么走呢？ 大妈说，不远，你坐地铁九号线吧，九号线全线都开通了。 陈元记得十分清楚，地铁九号线二期遗留段是自己进去的前一年开通的。开通那天陈元十分兴奋，因为在菜场小学的背后设有一个出入口。有老师问他，你高兴什么呢？上海不是你家的，地铁站也不是你家的。陈元说，它不是我家的，却是咱们菜场小学的，它是菜场小学给我这个校长配的专车！他本来是没有任何事儿的，但是那天，他对着所有的学生说，你们还没有去过徐家汇吧？走，坐我的专车，咱们去徐家汇拜一下徐光启，再逛一下清朝的那个藏书楼。于是，他把学生全部组织起来，排着队，举着小红旗，唱着《我们是共产主义接班人》，坐着地铁九号线来了一场体验之旅。 大铁门外边，是一条并不繁华的大路，大路上边建起了高架桥，显得有些凌乱和荒凉。两边的梧桐树叶子已经落光了，却还有一些没有消融的雪花。原来这座城市下雪了。自己在外边待过五年，都没有下过一次雪。在里边待过五年之后，一切就面目全非了，很少下雪的江南也开始下雪了。 前往地铁站的时候，路过一家理发店，陈元一下子钻了进去。当他坐在一面镜子前边的时候，突然发现自己不应该理发。自己的头发已经很短很短了，而且大面积地谢顶，和光头是没有什么差别的。有一个小丫头走过来说，大爷，你要剃光头吗？陈元说，我现在不是光头吗？小丫头说，你这不算光头，你还是剃光头吧，说得不好听一点儿，你这不清不白的，让人感觉很不舒服。 陈元一边退出门一边问，我怎么不清不白了？ 小丫头对着他的背影说，你这个头呀，头发吧又不长，剃吧又没有剃光，有点像犯人。 陈元回过头说，你从哪里看出来我像一个犯人？ 也许因为做不成生意，小丫头就恶狠狠地说，不仅是头发，还有感觉，彻头彻尾像个犯人。 小丫头似乎是一个未成年人，还带着稚嫩的腔调，让陈元忽然想起了小丫头黄丽。他在心里又骂了一声，妈的，我怎么就成犯人了呢？犯人是凭着感觉的吗？当年他们就是凭着感觉把我逮起来的吗？陈元毅然决然地离开了理发店。他希望自己的头发瞬间就长出来，长成他原来的一头披肩长发——没有进去前他留着一头长发，每次和人说话的时候都会朝后甩一下，那是多么潇洒啊。 在九号线的地下通道，陈元看到了一间小店，是卖假发的小店。他不管三七二十一，就挑了一个假发。他戴上假发，对着镜子凝视着。假发有原来那么长，也是又黑又亮，但是戴在自己头上，味道完全不一样了。或许是自己老了，脸上的皱纹多了；或许是假发就是假发，它永远不可能成为身体的一部分，像他身上曾经背负的所谓的“罪名”。 他还是愿意戴着假发。戴着假发起码给人的感觉不再像个犯人了。 不是他想逃避什么，是因为他根本就没有犯过什么。 陈元坐上地铁九号线，半个小时就到了大沙镇。从地铁大沙镇站二号口出来，前边就应该是菜场小学了。陈元顺着四周找了一圈，那所自己办起来的菜场小学已经不见了。院墙，几座平房，一个小操场，一根篮球架杆，一点痕迹都不见了。四周全部变成了高楼大厦，只有小操场的位置和原来一样空旷，确确实实地建起了一个菜市场。 陈元钻进了菜市场。已经过了采购的高峰期，菜市场人并不多，地面上污水横流，里边掺着血水、鱼鳞和菜叶。几个摊主懒洋洋的，有人问，大妈，你要萝卜青菜吗？冬天多吃萝卜青菜不容易感冒。有人说，大妈，割点肉回去吧，马上过元旦了，而且北方下大雪了，说不定要涨价了。 陈元扶了扶自己的假发。同样是披肩长发，年轻的时候从没有人把自己误会成女的，如今为什么人人见了他，都叫他大妈呢？ 陈元低头看了看，污水中的自己确实像个大妈。 陈元想辩解一下，张了张嘴还是作罢了，是大爷还是大妈对别人对自己有什么关系呢？ 陈元在一个大妈的摊位前，犹豫了一会儿站住了。他觉得这个大妈不太一样。不太一样的是大妈有点眼熟，似乎原来在大沙镇遇见过。让他眼熟的，其实也不是大妈的面孔，而是大妈眉心上的一颗黑痣。有豆子那么大的一颗黑痣。但是，他站了几分钟，大妈并没有任何反应。 大妈说，你是要西红柿吗？ 陈元说，嗯，来一斤吧。 大妈挑拣了几个西红柿，陈元执意要付钱的时候，大妈说，我不收你的钱。陈元说，为什么？你认识我吗？大妈说，我不认识你，但是我看你不像个买菜的，陈元真想问，自己怎么就不像买菜的了？他不明白什么样子的人才像买菜的，是指有家的人，还是指一日三餐有着落的人呢？ 陈元离开的时候，还是没有忍住，回头问大妈，这里原来好像不是菜市场吧？大妈说，你原来在这里住过？这里之前确实不是菜市场，最早是一个纸板厂，后来办了一所学校，农民工子弟学校，农民工子弟学校关掉后，有段时间成了屠宰厂，杀猪杀羊杀鸡，什么东西都杀，再后来发生禽流感，屠宰厂也被关掉了，在旁边盖了居民小区，居民闹腾了好长时间，说是没有地方买菜，就建成了这么个地方，这个菜市场刚开张不久。 陈元摸出一个西红柿在袖子上擦了擦，咬了一口。 陈元一边吃一边说，为什么关掉了呢？ 大妈说，你是指纸板厂还是小学？ 大妈拉了一条板凳，让陈元坐下聊。大妈说，当时大沙镇有很多工厂，有制衣厂，有五金厂，有建筑公司，外来打工的都住在这里。每年夏天有好多孩子，从全国各地赶到这里看望父母，假期结束的时候，孩子们个个都哭着闹着不愿意回去，有的抱着大树，有的抱着电线杆，想留在父母身边，但是根本没有地方念书，好多孩子干脆辍学了，留在大沙镇上打工，小小年纪，有的进了理发店，有的进了商场，有的拾垃圾。其中有个陕西来的小丫头为抢一个空瓶子，被另一个孩子推到小河浜里，活活地淹死了。 陈元两口下去，连柄也没有留下，就把一个西红柿给咔嚓掉了。 他的眼睛湿润了，在他模糊的眼睛里，那一幕幕再次浮了上来。 当时，他随着一家大型建筑公司来到了上海大沙镇。他是一个中专毕业生，在学校学的是工程监理，按说学历不高，在硕士博士成群的上海，是没有他立足之地的，但是他文笔不错，而且会写一手不错的毛笔字。他到建筑公司打工之后，除了负责监工之外，还兼公司的宣传与文案，比如写写“安全就是生产力”之类的标语。有一年，他的女儿来上海度暑假，眼看着假期就要结束了，但是女儿哭哭啼啼地央求他说，爸爸，让我留下来吧。陈元说，留下来干什么呢？女儿说，留下来念书啊，关键是我回去的话，别人欺负我怎么办？陈元说，不是有妈妈和哥哥吗？女儿说，哥哥和妈妈，一个是小麻秆儿，一个是小麻雀，保护不了我呀。陈元说，那你是什么呢？女儿说，我是一片小树叶子，也保护不了自己呀。陈元说，我也想让你留在爸爸身边，这样就有人给爸爸做饭了。 女儿十二岁，只比桌子高出半个头，但是已经会下厨做饭了。女儿说，我留下来的话，天天给爸爸做好吃的。陈元说，你能做什么好吃的？女儿说，多着呢，面条、锅盔、葱油饼，我还会蒸大米饭。最后一个晚上，陈元从工地回到宿舍的时候，发现桌子上已经摆好了饭菜。一盘西红柿炒鸡蛋，一盘醋熘土豆丝，一盘腊肉炒青椒，还有一盆西红柿鸡蛋汤，两只碗里盛上了大米饭。建筑公司有食堂，陈元基本是吃食堂的，但是公司里的兄弟们，来自天南地北，大家对饭菜的要求不一样，有的喜欢吃甜食，有的喜欢吃辣椒，有的喜欢吃又甜又咸的，所以总是那么不合口味。于是他空闲的时候，还是自己亲手烧饭。 女儿说，怎么样？陈元说，米饭特别香。女儿说，这是我的绝招。陈元明白，她的绝招是从她妈那里学的，淘好米之后，在锅里放一点盐，再放一点油，蒸出来的米饭不仅粒粒不粘，而且香喷喷的。女儿说，你没有发现问题吗？陈元说，没有啊，都是我喜欢吃的。女儿委屈地说，爸爸不老实，你没有发现西红柿炒鸡蛋与西红柿鸡蛋汤重样了吗？陈元说，不呀，一个是炒的，一个是汤，怎么会一样呢？女儿说，爸爸喜欢，我以后天天给你做，我有几个拿手菜还没有亮出来呢。 陈元低下头只顾着吃饭，真不知道再说什么好了。为了女儿，白天他去过附近的几所学校，也去过大沙镇教育部门，打听下来的结果是，像他这样没有上海户口，没有居住证，四处流动的建筑工人，子女根本不可能留在这里上学。陈元吃完了饭，女儿又忙着洗碗。陈元说，爸爸对不起你，马上要开学了，你明天还得回去。 那天晚上，父女两个坐在一片荒凉的工地上。这个工程是一个居民小区，地基已经打好了，墙已经砌出了两米高。他们两人坐在墙头上，静静地看着远处的灯火和天上的星光，一直坐到了凌晨四点。 陈元说，四点了。 女儿说，那走吧。 陈元与女儿回到宿舍，收拾了一些行李，准备送女儿去汽车站。大沙镇那时还没有通地铁，陕西丹凤也没有通火车。女儿必须坐大巴到河南南阳，再转车回家。陈元带着女儿来到恒丰路汽车站，女儿在进站的那一刻突然回头说，爸爸，如果我迷路了怎么办？陈元说，你怎么会迷路呢？来的时候也是你一个人呀。女儿说，爸爸，若我被人贩子拐走了呢？陈元说，我给司机交代过了，他会帮你转车的，你听他的话就行了。 女儿检完票之后，她猛然回过头，一下子冲了出来。女儿坐在汽车站外边的广场上，紧紧地抱着一棵梧桐树不放。女儿说，我还不想走，明天走吧。陈元说，那车票就作废了。女儿说，我有钱，我挖药赚了好多钱，就为了来看爸爸的，如果作废了我还你。陈元说，爸爸不是这个意思，你要回去念书。女儿说，我不想念书，我只要爸爸。女儿说着，又哭了起来。陈元也哭了起来。无奈，陈元把女儿又带回了工地。 陈元的老婆屈爱琴打电话来催了，说是要上六年级了，学校马上就要报到了，怎么还不见女儿回家呢？陈元说，明天就回去，或者是后天就回去。女儿抢过电话说，我不回去了，我在上海念书了。屈爱琴说，上海除了楼房高，学校有什么好的？女儿说，当然好了，不但上语文数学英语，还会教我们打排球呢，我以后说不定就像郎平阿姨一样，成了“铁榔头”。屈爱琴说，你就吹吧，小心变成了“铁疙瘩”，不过你留在那里也好，可以盯着你爸爸不要让他花心。女儿说，你说什么呀？我爸爸想花心，怕也没有机会。屈爱琴说，堂堂大上海，十里南京路，怎么没有机会？你可不能跟你爸爸一起糊弄你妈妈。 女儿说，爸爸待的地方，除了砖头就是水泥，你就放心吧。 第二天一清早，陈元就出门了。他买了几条中华烟，去了附近的那所学校。他想找校长再谈一谈，希望让女儿进去。没有桌子，哪怕自己买张桌子；没有地方，哪怕在教室的拐角上站着；如果连站着都不行，那就让她坐在窗子外边。总之，他必须让女儿上学。让他最为悔恨的，就是自己书念得少。如果自己不是中专毕业，而是大学本科毕业或硕士博士毕业，那他绝对不会活成现在这个样子。起码有一点，可以在上海落户，或者办理人才引进类居住证，有了户口或居住证，自己就成了上海人，能享受上海人的待遇，女儿自然也可以留在上海上学了。 但是与过去一样，陈元刚刚靠近学校大门，还没有开口说话呢，就被保安给撵走了。保安说，你为孩子上学这事儿来的吧？别做这个梦了，除非你是居民、镇长或流氓，如今开学报到已经结束了，镇长和流氓恐怕说话也不算了。 第二天一清早，女儿也出门去了。女儿给陈元的说法是，与工地上的几个小伙伴一起出去玩玩。女儿晚上回来的时候，手中提着一把韭菜、半斤五花肉、几个土豆。女儿洗了一把黑乎乎的小手，说是要烧晚饭了，做土豆焖肉给爸爸吃。陈元说，你去哪里了？玩得那么疯？女儿从身上掏出四十块钱，神秘地塞到陈元的手中说，我可以帮爸爸赚钱了。陈元把钱狠狠地摔在地上，很生气地说，谁要你赚钱了？有本事你给我赚四万块回来！你这么大孩子，为什么不听话呢？你现在最重要的是什么？是念书！是回去念书！ 第三天一清早，陈元去工地上班，想在午休的时候再去另外的学校试试。女儿照样提着一个塑料袋子出门去了。她与几个同样辍学的孩子约好了一起去捡饮料瓶子，一个饮料瓶子可以卖两毛钱，一天下来每个人可以捡几百个瓶子。 那天，陈元正在刷写标语。上边来检查安全质量前，工地上都是要刷写标语的，无非还是“欢迎领导莅临指导”等，当陈元把一条横幅刚刚写好，正在朝工地上悬挂的时候，眼睛突突地跳了几下。正好这时他接到了一个电话。电话是民警打来的，事后他才知道这个民警叫邢小利。 邢小利说，你是不是有个女儿在上海？陈元说，你谁呀？邢小利说，我是派出所的。陈元说，派出所也管孩子上学吗？陈元以为自己这几天跑来跑去，终于有人被感化了，要安排女儿上学了。 邢小利说，上什么学？到哪里上学？你快点过来吧，过来就明白了。 当陈元赶到一条小河旁边的时候，那里已经被围得人山人海。大家让出一条通道来。陈元不明白为什么大家会让出一条通道，他从来没有受到过如此尊重。陈元有点茫然。当时他已经是一头披肩长发了。他从人群的夹缝中穿过的时候，不停地朝后甩着自己的长发。在小河边的草地上，躺着一个人，确切地说是一个孩子。她身上的衣服湿淋淋的，紧紧地贴着瘦小的身体。双手、大腿和脸上糊满了污泥，像一个还没有捏好的泥人儿，看不清面目。 没有一个人吱声。 陈元说，怎么回事？ 有个民警上来说，我是邢小利，你辨认一下，这是不是你家的孩子？陈元再次细微地看了看，他看到她下巴旁边的一块红色的胎记，看到左胳膊上的一道褐色的伤疤。她手里紧紧地握着一个瓶子，瓶子里没有饮料，而是灌了半瓶子泥水。陈元说，妞妞，怎么睡在这里了？妞妞是他女儿的乳名。 他要上前摇醒她。 但是邢小利说，她已经停止呼吸了。 陈元迷茫地望了望旁边的人。有个护士说，是的，我们赶到的时候，她已经停止呼吸了；有个穿着靴子的男人说，我们把她从水中打捞起来的时候，已经停止呼吸了，掉到水里三十多分钟呢，谁有这么大的本事还活着呀。 陈元像一个聋子似的，大声地问，你们说什么？ 旁边有两个工人，是工地上的工友，陈元是认识的。一个工友说，她和我们家的孩子一起，在这里拾饮料瓶子，另外一帮孩子不让，说这是他们的地盘，就把她逼到了河边，然后，然后，她就掉下去了。另一个工友说，什么掉下去了？是被推下去的！ 有两个孩子在瑟瑟地发抖，他们哭着点了点头说，我们是一伙的，所以不是我们推的，是那个孩子推的。 这里不得不向各位交代一下田老板了。 田老板当年五十来岁，也不是上海本地人，但是他张口就是“阿拉”，闭口就是“伊们”，其实他只会阿拉和伊们几个词，所以没有人知道他是哪里人，都以为他是上海本地人。田老板胸口文了一条龙，远远看上去，怎么都不像一条龙，而像半根霉烂的草绳子。有人问，这文的是什么呀？他啪啪地拍着胸脯说，是龙呀！阿拉是龙的传人。有人说，龙头在哪里？依我们看，倒像一条蚯蚓。他赶紧把衣服敞开说，有句古话怎么说的？见头见尾不见身！我这条龙啊，是见尾见身不见头，侬就不懂了吧？说完，他会自己解释说，龙尾龙身都文好了，一只眼睛都文好了，仅仅剩下一个龙头了，但是那个痛呀，太他妈的难受了，所以真是太遗憾了。田老板之所以叫田老板，是因为他在大沙镇开了一家超市，规模还是比较大的，里边不仅有服装鞋帽和日用百货，还有蔬菜瓜果、食品香烟和安全套、避孕药。 把陈元女儿推下水的，就是田老板的孙子。田老板的孙子不可能外出拾饮料瓶子，即使是拾饮料瓶子也不会为钱。他们当然不缺钱。可是那天，田老板的孙子在那里玩耍，看到陈元的女儿在那里拾瓶子，就上前问，你拾瓶子干吗？女儿说，拾瓶子卖钱呀。孙子说，你要钱干什么？女儿说，买东西呀，还要买菜呀，我要给我爸爸买条鱼。孙子说，买条鱼干什么？女儿说，还能干什么，当然是做晚饭了。孙子说，瓶子是你能随便拾的吗？这些都是我的，我就住在旁边，别说几个瓶子了，就是地上的毛毛虫也是我的。于是两个人追着，就跑到了小河边。 事后，在民警邢小利主持调解的时候，有人说陈元的女儿是被田老板的孙子推下水的，有人说是她自己滑下水的。邢小利说，不管怎么样，人已经死了，除了赔钱还有什么办法呢？我提一个数字，就六十万元吧。田老板说，一个乡下小屁孩子，哪值这么多啊？陈元说，我给你六十万元，买你孙子一条命怎么样？田老板说，侬能拿出那么多吗？反正阿拉是拿不出来的。民警邢小利说，拿不出来也得拿，你不是还有一家超市吗？田老板说，阿拉孙子还是孩子，这个情况也得考虑进去吧？民警邢小利说，你孙子多大？若超过十四岁了，还要负刑事责任，属于故意杀人你明白吗？ 最后，田老板赔偿了三十五万元。陈元拿到三十五万元之后，却一分钱都不敢花。每花一分钱好像都是在出卖他女儿的命。所以思来想去，他就想到了那群辍学的孩子。到了第二年春天，附近一家纸板厂倒闭了，陈元就盘下了那块地方，准备办一所农民工子弟学校。申请开办小学的时候，陈元见人就哭诉自己女儿是如何如何想留在上海，是如何如何被人推到河里淹死的。也许是被感动了，也许是农民工子女不上学，在大街小巷四处晃荡，毕竟是一种社会隐患，所以就得到了当地政府的支持。 因为学校门前有一条马路叫菜场路，陈元干脆给这所迷你型的学校起了个名字叫“菜场小学”。陈元自己亲自担任校长，从外地招了几名一心想到上海发展的老师，又在旧厂房里添置了一些桌椅板凳和教学用具，还在操场上竖了一根旗杆和一根篮球架杆，学校很快就开学了。 这些都是旧话，按下暂且不提。 大妈从自己摊子上，抓起一个西红柿，也啃了起来。大妈说，纸板厂倒闭之后，这里开了一家农民工子弟学校，办学校的钱说是校长的又不是校长的，其实是一个姓田的老板卖掉自己的超市赔给校长的。可惜好景不长，校长出事儿了。可能是冤家路窄吧，有一天田老板报案，说干女儿被人给那个了。那个校长姓什么来着？如今记不得了，就被抓起来了，被判了整整五年。为什么被判五年？说是干女儿未满十四岁，不管怎么样都是犯法的。 陈元浑身一阵颤抖，忽然站了起来。 大妈说，校长被判刑之后，学校自然就关门了。 陈元说，那些学生呢？大妈说，本来就没有多少学生，据说通过报纸和电视台一报道，政府怕事儿闹大了影响不好，特事特办，不管是外地的，还是哪儿的，也不讲什么条件了，统一安插到附近的公办学校念书去了。前几天听说，有些孩子明年初中毕业，照样不能在上海上高中，要想继续念高中考大学，还得回老家，老家都没有人了，这些孩子怎么回去？大家都念着那个校长，若那个校长不进去的话，他们的孩子恐怕连初中都上不完，现在毕竟是初中毕业，也不算文盲了。 陈元又掏出一个西红柿咬了起来。 在里边的五年中，他多少次猜测过农民工子弟学校的命运，什么结果都想过了，想到了关门，想到了被别人接替继续办着，唯独这个结果是自己万万没有想到的。自进去之后，这是第一次接收到让自己有点欣慰的信息。 陈元在准备离开的时候问，你相信校长是那种人吗？大妈说，我们普通人，相信不相信有什么用呢？这得听警察的吧？那个田老板，把大超市赔进去了，不排除他设计圈套，来打击报复校长。我当时在那家宾馆当服务员，虽然在眼皮子底下，也没有亲眼所见，什么都是猜测的，所以这是是非非，再怎么想也是白想。 陈元说，你做过宾馆服务员？ 大妈说，是呀，在那个红星宾馆，田老板超市的隔壁，你在那里住过吗？当时我在那个宾馆当服务员，而且那天晚上还是我值班，警察跑过来的时候，我才知道出事儿了。 陈元忽然意识到，他之所以对大妈那么眼熟，就因为当时在红星宾馆的前台，他向她打听过宾馆内部的保健按摩房在哪里。她告诉他就在宾馆二楼的时候，顺便提醒了一句“我们的按摩房是正规的”。陈元在上楼之前还拿她眉心上的那颗黑痣开过玩笑。陈元说，你是斯琴高娃吗？她说，如果我是斯琴高娃的话，我就去韩国把这颗黑痣给祛掉。陈元说，那可是一颗福痣，祛掉你就当不成明星了。 想到红星宾馆，陈元又开始窒息了。他从身上急忙摸出一支烟，从撕开的袖子里掏出一撮棉花，搓成一根棉花条子，然后脱下自己的布鞋。但是菜市场的墙似乎是塑料板或光滑的预制板，地板上到处都是水渍与垃圾，根本容不得陈元进行摩擦。 大妈从另一个摊子上借过来一个打火机。 陈元说，不需要，我有火。 大妈接着说，出了那种事儿之后，红星宾馆因为生意冷清就被拆迁了，我也下岗了。你别看是在宾馆当服务员，那可是国营宾馆，食堂随便吃，空闲的房间随便住，电话也是随便打，工资不高，但是全部都落下了。我常在想，若没有发生那件事儿，宾馆会不会倒闭呢？若不倒闭的话，大沙镇现在属于迪士尼板块，酒店的日子是不是更好过了？我会不会当上经理了？如今我摆的这个摊子，肯定是赚钱的，可惜它不是我的，我是给人家老板打工的。 陈元不想再说什么了。 他必须到外边去，找一堵能摩擦取火的墙。 他向大妈询问了一下大沙镇派出所的位置，知道派出所还在当初的那个地方。 正是中午休息时间，陈元坐在派出所对面的一家小饭馆里要了一碗面条，一边吃着一边看着派出所那排低矮的房子和像杂货铺一样的院子。只有这些地方，可谓“铁打的衙门”。菜场小学倒闭了，红星宾馆倒闭了，田老板的超市也转让了，唯有派出所还那么破旧地设在那里，不会受到任何人命运的牵连。 4 陈元去大沙镇派出所，就想找民警邢小利。 他出的那件事儿也是邢小利一手经办的。他想看看在他进去的五年时间里，那些人最后的情况都是什么样子，其中包括那个狗日的田老板、不知轻重的小丫头黄丽，当然还有邢小利本人。只有这三个人，或者只有前边的两个人，是他那件事儿的主人公。 陈元吃完一碗面条，围着派出所转了一圈。当初为了女儿的事儿和自己那件事儿，没少来这家派出所。其实，他为女儿的事儿来派出所的次数比较多，为自己那件事儿只来过一次，就那么一次，便彻底给交待过去了。 陈元记得，派出所背后那条巷子比较深，七拐八拐地一直通往稻田，穿过稻田就到了女儿出事儿的小河浜。有一位大爷，在巷子宽大一点的拐角处，摆了个自行车修理点。大爷叼着一支烟，正在低头补胎，见陈元站在旁边不走，便问，你要补鞋吗？陈元说，你不是修自行车吗？大爷说，自行车都能修，修鞋还不是小菜一碟？陈元本来没有什么要修，还是拉过一条板凳，把鞋脱下来扔给了大爷。大爷看了看说，哪里烂了？ 陈元说，没有。 大爷说，那补什么？ 陈元说，你看着补吧。 大爷笑了笑说，你偏脚，鞋底子要垫一垫才好穿。 陈元说，从这里朝前走，是不是一块稻田？大爷说，是啊，原来稻田里长稻子，现在稻田里开始长房子了。陈元说，再往前是不是一条小河浜？大爷说，原来叫柳沙河，如今叫景观河，不过再怎么变，流水是不变的，照样是可以淹死人的。陈元说，没有设栏杆吗？大爷说，没有栏杆的时候，是被别人推进去的，现在设了栏杆，都是主动跳进去的。陈元说，跳进去洗澡吗？大爷抬起头说，洗澡？在臭水里洗澡，岂不是越洗越脏？陈元说，那干什么？大爷说，是寻死，也就是自杀。经我的手捞起来的，有七八个了，最小的那个，是陕西的，才十二岁，是被推进去的；最大的那个是一个姓田的老板，都五十多了，是自己跳进去的。 陈元说，他那么大把年纪了，为什么要跳进去？大爷说，是活腻烦了吧。那天我去小河浜里钓鱼，听到“扑通”一声，以为有人落水了，我跳下去把他给拉上来了，你知道拉上来之后出什么事儿了？陈元说，死了？大爷说，哪死了？活着呢！是我救上来的唯一一个活着的，而且是唯一一个不想活的。 哎哟，妈的。大爷似乎被手中的刀片削破了，手指头在流血。 大爷说，谁知道救人还救出麻烦了。陈元说，这是做善事儿，他们理应谢谢你。大爷说，还谢呢，救了那么多人，连根烟都没有抽上过。陈元当时确实没有问过是谁把女儿捞上来的，也没有说过一句谢谢。 陈元抽出一支烟，递给了大爷说，我要谢谢你。大爷说，你是谁呀？我又没有救过你。陈元真想告诉大爷，那个陕西的孩子是自己的女儿，就是他给捞起来的，好像大爷还说过，他捞了半个小时。如果陈元说出这些，会引出自己后边的事儿。虽然后边的事儿都是莫名其妙的，因为没有人证明是莫名其妙的，所以那种羞耻依然储存在别人的眼睛里。 大爷说，田老板胸脯上文了一条龙，当我把他拖到草地上，他竟然拍着张牙舞爪的胸脯指责我不应该救他。我说，你又不是一头畜生，我怎么能见死不救呢？他说，我就是畜生，一心想死的畜生，是你让我没有死成。我说，那你自己再跳下去吧。他说，水那么深，想跳就能跳啊？这需要勇气的！他缠住我，非让我把他给推下去。你说说，我敢把他推下去吗？他有个大超市，孙子把人家女儿推下去，赔了三十五万元，如果我把他推下去，我拿什么赔人家？恐怕只有光屁股了。 陈元说，他寻死，不会是因为赔钱吧？大爷说，有关系，但似乎又没有关系，当时大超市已经转让掉了，连第二个案子都发生了。第二个案子牵扯到的还是田老板他们两个人，所以各种各样的猜测就非常多，有人说他们上辈子就是冤家，也有人说他们都上了别人的圈套。反正田老板非得让我把他推下水去，不然就不准我离开。 大爷说，我那时还在派出所上班。 大爷朝着派出所的屋顶瞄了一眼，屋顶上有一根不高的烟囱。已经过了午饭时间，所以并没有冒烟。不冒烟，或许因为那个烟囱已经不是烟囱了。 陈元说，你在派出所干什么？大爷说，厨师，他们临时雇的。我正急着回去给派出所做午饭呢，但是田老板抱着我死活不放，我赶紧给派出所打电话，副所长邢小利赶了过来。陈元说，邢小利不是民警吗？大爷说，是刚刚升任副所长的，可能一连办了两个案子，所以立功了吧。 大爷又“哎哟”了一声，另一个手指头也被刀片削破了。 有个小伙子推着自行车来修，大爷说，我这是补鞋的，不修自行车，工具都在那里，你需要的话自己动手吧。陈元笑了笑说，你怎么又变成补鞋的了？ 大爷说，生气啊。我回到派出所的时候还不到十二点，比平时开饭也就晚了半个小时，结果你猜都猜不到。当我洗完碗，刚解下围裙呢，邢小利就来通知我，让我第二天别来了。我问，别来了是什么意思？邢小利说，我们要另请厨师了。我说，不就晚了半个小时吗？又没有饿着谁，何况我是见义勇为去了，不是我的话田老板就死了。邢小利说，他死不死与你有什么关系？何况他这种人多一个少一个有什么影响吗？我说，好歹也是一条命吧？邢小利说，反正你的行为影响了本职工作，辞退你也是经过派出所研究的。我说，你跟谁研究的？我在这里做了十几年饭，你刚刚升任的一个小小副所长就把我开除了？邢小利说，开除了又怎么样？我说，你恐怕居心不良吧？邢小利说，你说说看，我怎么居心不良了？我说，感觉你希望田老板死。 大爷又抬起头，朝派出所那边的屋顶瞄了一眼，而后低着头嘿嘿地笑了。 陈元说，后来呢？他们给你说法了吗？大爷说，食堂是邢小利分管的，不就他一句话吗？他让我走，我能不走吗？当天离开派出所后，我变成了无业游民，有阵子在这里开过冷饮摊，可是从这里经过的，要么是报案的，要么是犯事儿的，都是火烧火燎的，哪有心情坐下来喝一杯呢？尤其到了冬天，一根冰棍儿也卖不出去，万般无奈我就摆了这个摊子，说实话这个摊子也不怎么样，原来骑自行车的人还挺多的，现在大部分换成小汽车了。 陈元又想用棉花取火了，但是大爷已经修好了鞋。大爷说，你试试吧。陈元穿上鞋试了试，果然走起路来平稳多了，不再歪歪扭扭的了。 陈元说，多少钱？ 大爷说，不要钱。 陈元说，为什么？ 大爷笑了笑说，我这是自行车修理点，补鞋只是义务的。 陈元看了看天，晴朗的太阳有点偏了。陈元便辞别了大爷，拐到了派出所的大门口。保安拦住陈元说，你报案吗？陈元说，我找人。保安见陈元有点迟疑，便说，最近风声紧得很，如果找人办私事儿，我劝你还是省省吧。陈元说，我想找邢小利，副所长邢小利。 保安说，你是他什么人？陈元说，什么人都不是。保安说，你在这里有案子？陈元说，也不是。保安说，那到底是什么？陈元说，我亲自和他说吧。保安说，他已经不在这里了。陈元说，我真没有什么事儿，找他就是想看他一眼。保安说，你们是朋友吗？陈元说，算是吧，所以你就没有必要骗我了。 保安说，我没有骗你，实话告诉你吧，他现在在城西监狱里。 陈元一愣，那不是自己刚刚出来的地方吗？ 陈元说，他调到那里去了？保安说，调？什么叫调？他是服刑去了，他犯法了你不知道吗？人家躲他都来不及，你还主动往上贴呀？陈元说，犯什么法了？保安说，除了杀人越货，现在能犯法的，不就是贪污受贿吗？我一年前来当保安的时候，他已经进去了，据说除了受贿之外，还有侵占他人财产。陈元说，判了多少年？保安说，具体我也说不清楚，大概是五年吧。陈元说，没有带出别的什么案子吗？保安说，你是指同伙吗？同伙倒是有一个，是他手下的一个民警。 陈元心想，肯定没有牵连出自己的事儿。若自己的事儿有了转机，他应该早就被放出来了。 陈元对邢小利一下子失去了兴趣。即使邢小利没有进去，如今见到了邢小利，他又能和邢小利说什么呢？告诉他自己出来了？继续告诉他自己是被冤枉的？问一问是不是他邢小利设下的圈套？那又能怎样呢？现实是，邢小利也进去了，很有可能就是因为自己进去的，而且与自己一样判了整整五年。 保安对着陈元的背影说，你们真是朋友的话，就去菜场路七十三号看看他老婆吧。 陈元朝着菜场路走去。他不是有意要去看看邢小利的老婆。邢小利的老婆又不认识自己，而且和邢小利本人还是不一样的。陈元之所以朝菜场路走去，是因为那是地铁九号线大沙镇的那一站。 陈元在离大沙镇地铁口还有五十米的地方，一抬头不经意间就看到了七十三号。那里是一个居民小区，一楼全是临街的门面房，七十三号门面房安装着玻璃门。正是下午时分，大白天依然开着灯，是粉红色的霓虹灯。灯光下摆着一张红色沙发。沙发上坐着一个女人，看上去已经不太年轻，应该四十多岁的样子，但是一副小清新的打扮，身上穿着一条白纱裙，低胸的，半透明的，可以清晰地看到桃红色的胸罩兜着半个被挤压的乳房。裙子特别短，稍微动一下，就露出了水红色的三角内裤。 陈元从门口经过的时候，她没有把陈元误会成一个女的，或者她根本不在乎男女，一边嗑瓜子一边朝陈元勾了勾手，还撵到门口，贴着玻璃门说，进来吧，进来玩玩吧。陈元原来遇到此情此景，肯定会大大方方地摆摆手，如今莫名其妙地心虚起来，最后一慌张就钻进了隔壁。 隔壁是一家正规的理发店。陈元并不知道这是正规的理发店。当他走进去的时候，凭着那亮亮堂堂的灯光，还有服务员“欢迎光临”的口气，他觉得应该是一间正规的理发店。一位年轻的小伙子拉出一把椅子，直接告诉陈元说，我们是正规的理发店，请问你要理发吗？陈元说，不理发。小伙子说，那你要烫头吗？陈元说，也不烫头。小伙子有点迷茫地重复说，我们是正规的理发店。 陈元说，你看着办吧。 小伙子说，我看你头发挺长的。 陈元说，头发是假的。 小伙子有点意外地说，这样啊！那刮刮胡子吧？ 陈元说，我这胡子能刮吗？ 小伙子说，当然能刮了，你又不是女的。 小伙子把椅子调平，开始给陈元刮胡子。陈元说，你怎么发现我不是女的？小伙子说，女的也长胡子，但是没有这么硬，而且你喉结那么大，女的是没有喉结的。陈元说，你老家是哪里的？挺聪明的嘛。小伙子说，老家是河南南阳的，聪明有什么用，念书少，只能待在这种地方。 陈元说，为什么念书少？小伙子说，外地的呀！上到初中毕业，就不让考高中了，若不是有个校长，恐怕连初中都上不了。陈元说，哪个校长？小伙子说，我也不知道，我那时候年纪小，但是听我爸妈说，有个人自己出钱，建了一所农民工子弟学校，我在那里上了一段时间，后来学校关门了，就转到正规学校去了，这些天我爸妈还在念叨，说那个校长应该快出来了。 陈元心想，虽然大家忘记他姓什么叫什么，总算还有人是惦记着自己的，甚至是感激自己的。但是惦记自己、感激自己有什么用呢？是丝毫也无法证明他不是犯了那种事儿的人的。 小伙子说，你不去隔壁是对的，老实说隔壁很脏的。我给你讲个故事吧，前几天有个同性恋，泡了一个娘娘腔，带回家干完事儿之后，又有一个老男人跑过来，说那个娘娘腔是他的女朋友，逼着同性恋拿出八千块钱。同性恋没有那么多钱，只好交出银行卡和密码。趁着娘娘腔拿银行卡出去取钱的机会，老男人又把同性恋给那个了。同性恋一气之下就报案了，警察把娘娘腔和老男人都给抓起来了，在被逮捕之后，给老男人体检，发现老男人患了艾滋病！ 陈元说，都是隔壁发生的？ 小伙子说，当然不是了，是从电视里看到的。但是隔壁那个女人，谁知道带着什么病呢？传染上了可就毁掉了。而且你不知道，那个女人可不简单，她老公原来是派出所的副所长。据说，她当副所长老婆的时候威风得很，整天开着汽车在大街上乱窜，手上提着的包包都是上万块的，穿着的裙子人家说像只花蝴蝶，我看啊，蝴蝶的翅膀也不见得有那么漂亮。有人说副所长被抓起来，就是她和别人联手举报的，之所以要举报自己老公，是副所长在外边有花头了。为了那个花头，副所长在大沙镇盘下了一家超市。不管谁是谁非，副所长进去之后，家里人都劝她和副所长离婚，但是她死活不肯。她不离婚，也不去里边看他，就开了隔壁的理发店，理发店里就她一个人，既当老板，又当小姐。她那个理发店，与我们不是一样的，我们这个理发店是真理发，而她那个理发店什么服务都有，就是不理发。大家以为她为了钱，人家说不为钱，就为了报复副所长。 小伙子说，大叔，对不起啊。 陈元说，为什么对不起？ 小伙子说，只顾着说话，我一失手，把你下巴刮破了。 陈元才意识到下巴在流血，有一丝火辣辣的痛。 陈元起身要结账的时候，小伙子说，我不收你的钱，因为我把你的下巴刮破了。 陈元出了理发店，本来还想在大沙镇逗留两天，比如去自己曾经打工的建筑工地看看，比如去找找田老板和他的那间超市，比如去看看红星宾馆拆迁后都建成什么样子了。但是，一切都在五年前开始拐弯了，像一条路突然拐向了让人看不见的方向。他不忍心多看一眼那间粉红色的门面房，还有那个对着路人不停招手的有些沧桑的女人。他立即转过身，钻进了地铁九号线的入口。 目前他最想的就是回家，回陕西丹凤的那个家。 如今他无法预料自己的老婆屈爱琴和儿子陈改朝会朝着什么方向拐去。 5 陈元仍然选择先到南阳，再转乘前往西安的大巴。 前往西安的大巴会经过陕西丹凤。这是自己以往回家的线路，也是女儿当初来上海度暑假时逆向而行的线路。陈元心想，五年时间，也许从上海到丹凤已经开通了直达的班车，但是他不愿意直达，他希望转车。如今转车还是不一样了，原来从上海到丹凤，有一大半路是走国道的，会遇到一个个小镇，比如叶子镇，比如太阳镇，在那些小镇上，大巴要停下来，一边上人，一边让大家吃口饭撒个尿，有时候还会在小镇上住一夜，回到家基本需要三天两夜。如今全成了高速，陈元在车上眯瞪了一下，醒过来的时候已经到了南阳。在南阳等候了两个多小时，转了车，再眯瞪了一下，中午十二点就到了丹凤县城。 陈元的家在塔尔坪村，离丹凤县城还有七十里。每天下午的时候会有一趟班车前往庾家河镇，并不经过陈元的家乡塔尔坪，所以中途下车还要步行十多里。陈元不愿意坐班车，也许是嫌班车还要等几个小时，也许是嫌班车开得太快了，也许是怕遇到一些熟人。能坐这趟班车的人基本都是镇上的，即使不是镇上的，起码也是经常到镇上走动的。虽然过去了五年，陈元变化很大，还戴着一顶假发，但是不排除有人会认出他。即使不认识他了，他身上的那件事儿，应该是尽人皆知的。 陈元决定全部步行，七十里路对他来说算不了什么。七十里路，要翻过两座大山，不出意外的话，路上会有积雪，陈元若慢慢走，回到塔尔坪的时候应该正好是天黑时分。 陈元实在太饿了，在半路上推开一户人家的门。虽然午饭时间已过，但是大妈还是给陈元烙了锅盔，下了挂面。陈元好久没有吃到锅盔和挂面了，严格意义上是五年没有吃上锅盔和挂面了，所以他像一个吸毒的人突然拿到了一堆白粉。大妈看他吃得那么香，便说，你是哪里人啊？陈元说，我去塔尔坪。大妈说，走亲戚吗？ 陈元说，去看看。 大妈说，我怎么不记得有这么个地方了？陈元笑了笑。 继续往前走的时候，路上遇到了两个人，陈元装作问路的样子，问人家塔尔坪还有多远或塔尔坪怎么走。人家都摇摇头说，是寺庙吗？好像没有听说过呀。真是奇怪了，塔尔坪再小，再不出名，它毕竟是一个村子。何况村子里的一个女儿还淹死在上海，村子里的一个父亲还出过那么丢人的不清不白的事儿。是那些事儿在如烟的时光中根本不值一提，还是都被人给遗忘掉了？ 正如陈元所预料的一样，他是在暮色苍茫的时候，看到了那棵熟悉的大核桃树，看到了那棵大核桃树上的一个鸟巢，有几只乌鸦站在树顶上有气无力地哇哇叫着。 所以，塔尔坪还是存在的。 陈元想等到天黑才进村，于是坐在那条无名的小河边。 老婆屈爱琴还是老样子吗？还剪着齐肩的短发吗？还喜欢穿着碎花的棉袄吗？脸上还涂着双生花牌雪花膏吗？还会莫名其妙地眉开眼笑吗？此时，她是否系着围裙在喂猪呢？冬天了，栏上的猪应该两百多斤了吧？到腊月是杀了吃肉呢，还是卖钱？她见了他，还会不会像过去一样，他一进屋就被她给抱住了，而后稀里哗啦地把他剥个精光？ 陈元骂了自己一声“妈的”。他怎么就把儿子给忘记了呢？陈元进去之前，儿子陈改朝刚刚订婚。儿媳妇她爸在另外一个村当村长，她在另外一个村办小学当代教，模样儿十分水灵。有人问儿媳妇，家里条件那么好，为什么看上了陈改朝？儿媳妇说，因为他有一个爸爸在上海，以后到上海去旅游都不用住宾馆了。儿媳妇有一半是开玩笑的，有一半是大实话。陈元在堂堂的上海工作，在建筑公司写写画画，这是多么让人羡慕。虽然陈改朝没有考上大学，还是一个农民，但是在大家眼里，有个厉害的老爸，迟早是要被安排工作的，而且肯定是在上海。 可惜的是，在儿子订婚之前，陈元没有机会见儿媳妇。她应该和儿子陈改朝结婚了吧？应该有孩子了吧？是孙子还是孙女呢？陈元突然发现，自己忘记带礼物了，没有给老婆屈爱琴买双生花牌雪花膏，也没有给儿子买几包红双喜，给孙子或者孙女买几包大白兔奶糖。过去他回家的时候都会大包小包地带着这些东西。如今若是带着这些东西回来，会不会显得十分奇怪？自己是被放出来的，又不是光荣退休了。 陈元突然想抽烟。 他从袖子里掏出一撮棉花，可是四周没有墙。有山，山上有积雪；有树，树已经枯干；有草，都是荒草；有一条小路，没有铺水泥。陈元拾起两块石头，像古代人一样碰撞，一下两下三下四下，整个山谷都回响着敲击的声音。最后石头都被撞碎了，还是擦不出火花。 天真的黑了。 陈元感觉有点毛骨悚然。 他一回头，看到背后站着一个人，对着他嘿嘿地笑。 虽然天黑了，光线十分暗淡，陈元还是认出了这个人。他是塔尔坪有名的老光棍，长得一表人才，而且心灵手巧，会制猎枪，会修收音机，会织毛衣。他不仅织毛衣自己穿，还织毛衣送人。曾经送过两件毛衣给陈元的老婆屈爱琴，一件是水红色的，另一件还是水红色的。不过，一件是高领的，另一件是鸡心领的；一件胸口有一朵花，另一件什么花也没有。关于老光棍为什么变成了光棍，说法比较多，有人说年轻时家里穷，有人说是挑花了眼，也有人说他一直在暗恋陈元的老婆屈爱琴。 老光棍的名字叫马青。 马青说，你躲什么呢？ 陈元说，我没有躲呀。 马青说，你躲到哪里我都会找到你的。 马青对着河边的一棵杨树轻轻地踢了一脚，说你以为你躲到树里边，我就找不到你啦？从杨树上落下一片叶子，也许是最后一片叶子。马青从地上拾起叶子，朝着它吹了一口气，而后说，赶紧回家吧。 陈元感觉，马青像是在和自己说话，又不像是在和自己说话，而是在和自己背靠着的那棵杨树说话。陈元喊了一声，马青。马青说，谁叫马青？这片树叶子原来就叫马青啊？陈元说，你认识我吗？马青嘿嘿一笑说，你是谁？不可能是屈爱琴吧？屈爱琴比你漂亮多了。 陈元有种不祥的预感。 照着马青说话的语气，马青可能疯了。 在自己没有进去前，就有人说马青有点疯，不过并不彻底。 马青说，跟着马青快点回家吧。 陈元跟在马青背后，向村子里走去。路上没有一个人，整个村子也没有一点光亮。每从一户人家门口经过，马青都会上前，扣住人家的门环，把人家的门敲得“哐当”“哐当”响。他敲敲汪家的门说，准备好了吧，要赶班车的话，应该出发了；他敲敲方家的门说，快点起床吧，天都大亮了，应该下地收苞谷了；他敲敲马家的门说，快点放炮吧，小媳妇马上就到了，要拜堂成亲了。他的话也不全是颠三倒四的，当年汪家开了一个小卖部，卖点油盐酱醋和针头线脑，经常要搭班车进城进货；方家是个懒汉，要睡到太阳晒屁股才起床，经常地里的庄稼都顾不得收；马家有一次结婚，新娘子都进门了，迎亲放炮的人竟然喝醉了。 无论他敲谁家的门，门上都挂着一把大锁。 陈元明白，大家应该进城打工去了，或者迁移到开阔的地方去了。 终于到了自己家的院子外边，院门是半开着的。马青还是一样，走上前去，敲了敲门说，屈爱琴啊屈爱琴，你梳妆打扮得怎么样了？你们家的男人从上海回来了。陈元不明白，马青是认出自己来了呢，还是随口说说的。马青不等有人来开门，就把门给推开了，而后回头对着陈元说，跟着马青快点回家吧。 陈元进了院子，马青再轻轻地把门给掩上了。 陈元一下子要窒息了。 原来的三间大瓦房不见了，成了一块平地。 从前摆着香案和祖宗牌位的位置如今长着一棵树。 陈元认不清是一棵什么树。因为是冬天，树上没有一片叶子，枝丫显得无比的瘦，像核桃树，又像柿子树，还有点像梨树。陈元以为走错了地方，在塔尔坪总共十几户人家，大多数人家的院子是一模一样的。比如马青家的院子和陈元家的院子，无论大小还是进深不仅一模一样，而且还在隔壁。 陈元说，这是你家吧？ 马青说，是你家。 陈元准备退出来的时候，被马青给拉住了。马青拉来一张凳子，让陈元坐下来。陈元坐下来后，再朝院子后边的山看了看，又回头朝院子前边的山看了看，他感觉自己并没有走错，这确实就是自己的家。自己的家为什么不见了呢？是自己在做梦，还是老婆屈爱琴与儿子陈改朝在别处，比如在镇上盖了新房，全家一起搬走了？ 陈元说，我老婆呢？ 马青说，在那里呀。 陈元说，现在呢？我说的是现在。 马青说，她躲起来了。你以为你躲到核桃树里，我就找不到你了吗？ 陈元仔细地辨认了一下，长在废墟上的那棵树确实是核桃树。塔尔坪的人喜欢种核桃树，因为核桃树寿命长，而且可以结核桃，所以在房前、屋后，坟头，都会见缝插针地栽种核桃树。 陈元认为马青是真的疯了。 陈元出了院子，在整个村子又转了一圈，还是没有发现一个人，大多数房屋破败了，有些房屋已经倒塌了，到处都种着核桃树，有的已经合抱粗了，有的还是小树苗，把整个村子打扮得像森林似的。马青跟在陈元的身后，每到一家，他仍然上前敲门，敲完了门，又上前去敲树。他把一棵棵核桃树敲得嘭嘭响，而后一声声叫着，你们快点开门吧。 陈元说，我得走了。 马青说，门马上就开了。 马青跟着陈元离开了塔尔坪。陈元不知道自己要去哪里。他觉得自己应该先去镇上，镇上应该是有人的，他要打听一下老婆屈爱琴与儿子的下落。当马青把陈元送到一个山顶的时候，马青塞给陈元一个纸卷，陈元以为是马青自己卷的一支烟，就接了过来，夹在自己的耳朵上。马青掏出一个打火机，要给陈元把烟点上。 陈元笑了笑说，不用，我有。 但是四周一片漆黑，根本不知道哪里才能摩擦。 陈元摸索着赶到庾家河镇的时候，已经是晚上十点多了。陈元在镇上上过两年初中，那时仅有一条一百米的石板街，弯得像个“V”字。如今石板街已经没有了，全部改造成了水泥，而且两边全是小洋楼。可惜的是，小镇毕竟是小镇，一点儿都不繁华，街上不时有人经过，也有一两对男女没边没沿地溜达着，但是店铺基本关门了，四周显得一片漆黑。 陈元在街角的一座桥头，找到了一个摊点，是做烧烤的，还亮着灯。有一个人，没有坐在摊子上，而是坐在桥上，背靠着栏杆，独自在那里喝酒。摆烧烤摊的，是二十多岁的一个姑娘，梳着马尾辫，穿着绛红色的棉袄。 姑娘说，你想吃什么？鱿鱼、鸡腿、羊肉，什么都有。陈元说，随便吧。姑娘说，你是大妈吧？陈元笑了笑说，有关系吗？姑娘说，当然有关系，大爷爱吃羊肉，大妈爱吃鱿鱼。陈元说，随便吧。姑娘说，你要几条呢？陈元说，还是随便吧。姑娘说，那就先烤两条，不够了再添。 姑娘说，你不是本地人吧？陈元说，你看我像什么地方的？姑娘说，听口音，我看像南方的，冬天来我们这小地方，怕是收药材的吧？陈元说，你哪里人？姑娘说，我是本地人，又不是本地人。 陈元说，你知道塔尔坪吗？ 姑娘说，那个地方，我知道呀，听我堂姐说过。 陈元说，你堂姐是谁？她怎么知道的？姑娘说，我堂姐就是我叔叔家的女儿，她险些就嫁到塔尔坪去了。陈元说，险些是什么意思？姑娘说，快结婚了，听说我姐夫他爸是个大流氓，所以就泡汤了，当时我才十几岁，具体我也说不清楚。陈元说，大流氓是你堂姐说的吗？姑娘说，她呀，一句话没有，都是别人瞎掰掰的。陈元说，你们信吗？姑娘说，据说人被抓起来了，法院都判了，信不信又有什么意义呢？ 姑娘把鱿鱼架在炉子上，一边烤着一边说，当时我堂姐在一个村办小学教书，事儿很快就传到学校了，无论老师还是学生见了她，都是指指点点的。她一站到讲台上，底下一片沉默，不提问，也不发言，都直直地盯着她。有个学生考试成绩差，两门功课不及格，我堂姐通知家长来谈谈，哪知道家长一进学校就大吵大闹，说这么流氓的老师怎么能教出好学生呢？校长说，人家一个姑娘，怎么就成流氓了？家长说，她的公公是流氓，公公的儿子肯定是流氓，她嫁给这样的流氓，不是流氓是什么？校长说，不能这么推吧？家长说，她是教数学的，这叫等量代换明白吗？我堂姐无脸再进学校，第二天就辞职了。后来，婚事就泡汤了，据我叔叔说，不是他们薄情寡义，是我姐夫主动提出取消婚约的，不取消婚约怎么办呢？他不敢上我叔叔家的门，也不敢带我堂姐出去。 姑娘叹了口气说，我堂姐多漂亮啊，眼睛像两个桃子，粉扑扑的脸蛋像红富士大苹果，苹果都没有她那么水灵。现在二十七八了，还没有嫁出去呢。 鱿鱼烤好了，陈元却一点胃口都没有。他只想取火抽烟。 姑娘说，我姐夫与我堂姐分手后就离家出走了，开始说是在外边打工，后来有人在陕西铜川煤矿遇到了他，说他在洛南县某个村里，当了上门女婿。我姐夫离开塔尔坪后，就剩他妈一个人了。据说他妈去了一次上海，在上海待了几个月，最后是一边要饭一边回到塔尔坪的。回到塔尔坪后，她就再没有出过院子。我堂姐去看望过她，但是无论怎么敲门，她都不开。村子里任何人敲门她都不开。她在院子里待了将近两个月，直到第二年春天，有个疯子翻墙跳进院子里，想强行把她拉出来，发现两间屋子已经垮掉了。可能是被那年的一场大雪给压垮的。那年的雪下得太大了，把好多大树好多电线杆都压垮了。她躺在仅剩下的一间屋子里，尸体已经发臭了，头发已经全白了。其实她从上海回来的时候，头发已经全白了。 在桥头喝酒的人醉了，把一个酒瓶子扔进了河里，发出一声破碎的声音，而后摇摇晃晃地离开了。 摊子前没有一个客人，姑娘坐到陈元的身边，拿起给陈元烤好的鱿鱼，自己吃了起来。姑娘哽咽着说，疯子恐怕是有意的或是无意的，放了一把火，把剩下的一间房子点着了，大火不仅烧光了院子，还把院子后边的几座大山都给烧掉了。火特别大，我们从几十里外赶过去，帮忙把大火给扑灭了。最后大家和疯子一起，干脆把墙推倒，把她埋在了她家的院子里。 姑娘挑了挑炉子说，后来塔尔坪就空了，只剩下了一个疯子，疯子哪儿也不去，他在她的坟头上栽上了核桃树，在整个村子的边边角角都栽上了核桃树。听说塔尔坪原来有个塔，是镇鬼的，会不会塔倒了，妖魔鬼怪都跑出来了？ 陈元万万没有想到在这个小镇上，轻而易举地遇到了未过门的儿媳妇的堂妹。似乎不是姑娘在讲述，而是岁月在向他讲述，是老婆屈爱琴在向他讲述，每个人的讲述尽是悲凉，像小镇上的那个冬天的夜晚。 姑娘吃完了一条鱿鱼，擦了擦眼泪笑了笑说，你到底是大爷还是大妈？ 陈元说，为什么要把我误会成大妈呢？ 姑娘说，也许头发太长的原因吧。 陈元掏出五十块钱，姑娘说，你一点儿都没有吃，所以不收你的钱。 有人在向这边走来，姑娘指了指说，我堂姐来帮忙收摊子了，大爷不如去我们那里将就一晚上。陈元看着那个不断靠近的有些疲惫的身影，站起身说，算了，我该走了。姑娘说，这么晚了还能去哪里呢？陈元说，我要回塔尔坪。 从庾家河镇到塔尔坪，是几十里伸手不见五指的山路。路上还有一些积雪，沿途也没有一户人家，陈元一脚深一脚浅地往回赶，赶到了最后一个山顶的时候，看到有个黑乎乎的东西在山顶上晃动。它不像一个人，而像一根树桩。 陈元是从里边出来的，所以不怕鬼，也不怕人，更不怕树，唯一怕的，是把鬼误会成了人，把人误会成了树。还不等陈元喊叫一声，那黑乎乎的东西嘿嘿一笑，瓮声瓮气地说，你躲到哪里去我都会找到你的。 陈元听出来了，他是马青。看样子，马青把他送到山顶之后并没有下山，而是一直在山顶上守着，似乎知道陈元还会回来一样。 陈元说，走吧。马青并不跟着他下山，而是靠着一棵松树坐下了。陈元说，赶紧走吧。马青还是没有吱声，几分钟就疲惫地打起了呼噜。马青应该太累了，他一直站在山顶上，在等着什么，所以他太累了。陈元也太累了，于是他依着马青，靠着那棵松树，坐下来闭上了眼睛。 陈元迷迷糊糊之中梦到自己带着女儿回到了塔尔坪。他穿着一身西服，打着领带，皮鞋擦得锃亮。两个人一起进了门，女儿在东厢房里找妈妈，他则在西厢房里叫着屈爱琴。他在西厢房里找来找去，发现屈爱琴躺在一只储存麦子的柜子里。她没有剪齐肩的短发，而是留了一头与自己一样的披肩长发；她没有穿上带着碎花的棉袄，而是穿着一身白色的袍子；她没有眉开眼笑，而是脸上蒙着一块黑布。陈元说，你以为你躲在这里，我就找不到你了？她说，我不躲到这里还能躲到哪里？她说着，一骨碌从柜子里站起来，堵在了他的面前。陈元定睛一看，站起来的不是她，也不是一只柜子，而是一副棺材。 其实也不是棺材，而是疯子马青。 天大亮了，马青醒了，陈元的梦也醒了。 从山上往下看，整个塔尔坪还如从前一样，根本看不出有什么异常。一片树林之中，一块块屋顶上，还残留着积雪。如果细细地对比，原来是有炊烟的，或者有弥漫的雾气，如今什么也没有，显得十分清冷。像一个人有了呼吸，哪怕他的身体再冷，还是温润的，一旦没有了呼吸，就失去了生气。积雪上，原来是有喜鹊的，如今尽是乌鸦。它们从屋顶跳到树枝上，又跳到另一根树枝上，百无禁忌地哇哇地叫着。 陈元与马青一起下了山。陈元进了院子，终于把一切看得清清楚楚。除了院子基本完好无损之外，里边的三间房子连残垣断壁都不存在了，唯有破碎的玻璃还一如既往地反射着光。猪圈里长满了灌木，石磨上长满了青苔，水井隐没在衰败的蒿草之中。陈元终于看到了一块木板，插在隆起的地上，上边写着“屈爱琴”三个字。估计是马青给屈爱琴立起的牌位。 陈元在牌位前蹲了下来。 他从棉袄里掏出一大撮棉花，从废墟里捞出了一块青砖，从脚上脱下了自己的布鞋，开始使劲地摩擦着。他从没有用青砖取过火，由于青砖沾上了融化的雪水，有一大半还是潮湿的，但是他没有因此而丧失耐心。他一只手拿着鞋，一只手拿着青砖，夹着一根棉花条子，快速地摩擦着。第一根棉花条子被磨碎了，他又搓出第二根棉花条子继续摩擦。青砖从干燥到发热，从发热到发烫，半个小时之后，棉花条子慢慢地变黑，终于冒出了一股青烟。 陈元吹了吹，把一把艾草和一把树叶点着了。 陈元对着燃烧起来的火苗跪下了。 马青把一把燃烧的艾草和树叶捧在手心，嘿嘿地笑着说，你以为你躲到树里我就找不到你了吗？ 陈元想抽支烟，但是烟盒里已经空了。他从身上摸出了昨天晚上马青给他的那根卷烟，叼在嘴上。但是似乎是实心的，里边并没有烟叶。陈元把这根卷烟展开，只要揉一些树叶包进去，照样是可以当成卷烟抽的。 当陈元展开这张纸，发现上边有字。 虽然那字迹有些模糊，但是陈元一下子认出了这是屈爱琴的字。 屈爱琴曾经给自己写过信。写得比较稀少，每年就一封两封。每次接到屈爱琴的信，陈元都特别开心，坐在工地最高的墙头上，一个字一个字地反复读。屈爱琴的信很简单，要么告诉陈元收了多少麦子，要么告诉陈元槽里的猪多少斤了。这些话在电话里说过一遍，但是经过她写出来，味道又不一样了。有一次，屈爱琴在电话里说，他爸呀，咱们改朝看上了一个丫头，丫头的爸爸是村长，丫头在小学里教书，人长得也不赖，你回来把把关吧。陈元说，我把什么关呀？儿子看上了，你看上了就行，怕就怕人家看不上我们。屈爱琴说，咱儿子又不差，何况人家看中的，是你这个老爸。陈元说，你这个当妈的，也没有正经吗？既然你们定下来了，就请媒人提亲。过了不久，陈元收到了屈爱琴的信，信中又把那些话重复了一遍，不过里边多了一张那个丫头的照片。订婚的时候，陈元的建筑公司走不开，没有办法回家，就寄了两千块钱。 屈爱琴在这张纸上写着： 妞妞：大沙镇柳沙河。 他爸：上海市雪山路1551号。 学校：大沙镇菜场路177号。 副所长邢小利：上海市大沙镇大沙浜路1号。 田老板的儿子田小龙：西安市阎良区前进东路14号××小区。 黄丽：陕西省渭南市临渭区河西乡河东村，十三岁零十个月。 改朝：陕西省洛南县灵口镇桑树洼村。 纸上还有几个大大的感叹号，几个大大的疑问号，在田老板的名字上打了一个叉。纸头上印着“大沙镇派出所”的字样，看来屈爱琴真去过上海了。 陈元分析了一下名单和地址，她在上海的两个月时间里，应该去过女儿淹死的那条小河浜，柳沙河就是那条小河浜的名字；应该去过菜场农民工子弟学校，那时学校恐怕已经关门了，学校一关门，除了桌子椅子就什么也没有了。她肯定首先去的是大沙镇派出所，见到了已经是副所长的邢小利，从邢小利那里了解到女儿的事儿，当然主要是了解自己的事儿。田老板的地址是他儿子的，在陕西而不在大沙镇，是田老板已经离开了，还是这个地址是假的？甚至她还去了位于雪山路的城西监狱。王管教从来没有提起有人去看望过他陈元。陈元在里边五年时间，从没有任何人进去看过他。但是并不代表屈爱琴没有去过城西监狱。说不定她到城西监狱大门口，从门缝朝里看了几眼，而后就离开了，因为她明白他，就算她进去见他，他也不见得答应见她。 陈元爬起身，拍了拍马青的肩膀，说了句，谢谢你。 马青说，你以为你躲到树里我就找不到你了？ 陈元穿过村子的时候，马青跟在他的后边一家家地敲门。 咚咚的敲门声在空洞的村子里不时地回荡着。 陈元要离开了。老婆屈爱琴留下来的那张纸其实就是一个天意，或者说是她冥冥之中对他的指引。陈元原来的计划是先见田老板和黄丽，因为田老板与黄丽是掌握着真相的两个人。如今必须颠倒一下，接下来他第一个想见到的，是自己的儿子陈改朝。因为自己蒙受的不白之冤，让那个可怜的孩子已经流落异乡，起码改朝养育的儿子或者女儿不会再姓陈了。他不知道是不是预兆，因为在他给改朝起名字的时候，老婆屈爱琴就提醒过他。 改朝改朝，不就是要改换门庭的意思吗？ 6 根据屈爱琴提供的地址，改朝家住陕西省洛南县灵口镇桑树洼村。陈元对洛南县的灵口镇并不陌生，它就在丹凤县的隔壁，是从塔尔坪通往河南灵宝县的必经之地。 他曾经跟随着马青，也就是那个疯子一起，去河南灵宝县淘过金。灵宝县有很多金矿，在陈元青春年少的时候，不仅仅是塔尔坪，方圆几百里的男女老少，唯一的营生就是去灵宝县淘金。说是淘金，其实就是偷，半夜三更钻进矿洞里，偷人家的矿石下山卖钱。那时候，偷不叫偷，叫背；金矿不叫金矿，叫山上。陈元记得十分清楚，矿石一斤两毛钱，一克金子五十块。背矿石并不容易，因为矿洞里是伸手不见五指的，身后还有人拿着棍子追赶，一不小心就掉到矿井里，被当成矿渣给铲走了。村民们农闲的时候，或者家里困难的时候，就会吆喝一帮人去山上背矿。陈元去过几次，其中一次是自己想上学，家里出不起学费；还有一次是和屈爱琴结婚，为了给屈爱琴买块手表。那一次，他和堂兄一起去的。堂兄也准备娶媳妇，想攒几桌子酒席钱。刚刚坐车到了灵口镇，就发生了车祸，堂兄推了陈元一把，把陈元推出车外，堂兄自己来不及逃，被活活地轧死了。 从塔尔坪去灵口镇，必须经过三要镇。从塔尔坪到三要镇，有六十里的大峡谷，当年不通汽车，如今应该也不通汽车。反正陈元不喜欢坐汽车，坐汽车会遇到杂七杂八的人。这条线路，完全就是上山背矿的线路，不过似乎一切都变了，山似乎矮下去了，河流似乎窄了浅了。陈元不明白是自己眼光长了，老了，还是这些山瘦了，水干了。 陈元在太阳落山的时候赶到三要镇，再转车赶到了灵口镇。陈元出了灵口车站，问一家旅舍桑树洼怎么走。老板娘说，从没有听说过，还是住下来再说吧，一晚上三十块钱，要热水有热水，要按摩有按摩。陈元又问了一个保安，保安说，是桑树洼吗？会不会是桑树岭呀？桑树岭倒是不远，往北走就三里路。 陈元赶到桑树岭，有位老人坐在村口抽烟。陈元问，大爷，村里有没有一个叫陈改朝的人？老人说，你问的是女的吗？陈元说，是男的。老人说，我们虽然叫桑树岭，却清一色地姓杨，杨树的杨，怎么会有姓陈的呢？陈元说，是上门女婿。老人说，上门女婿那倒是有一个，在村东第一家，不过人家不叫陈改朝，人家叫杨利。 陈元想，肯定是走错了，或者屈爱琴把地址给抄错了。 正想离开的时候，有一个女人背着一袋子东西，弓身从村口经过。 老人指了指说，桂花，你们家杨利是不是改过名字？桂花放下肩膀上的袋子。她原来不是被压弯了腰，而是一个罗锅子。她弓着腰说，他说原来的名字不好听，入赘我们杨家后就跟着我们杨家姓了。老人说，他原来叫什么？桂花说，叫陈改朝，改朝换代的改朝。老人说，那就对了，这里有人找呢。 桂花看到了陈元，问，你哪儿来的客人呀？ 陈元迟疑了一下说，我是他煤矿上的工友，他不在家吗？ 桂花说，还在铜川煤矿上，恐怕过年才能回来吧。 儿子不在家，陈元反而踏实了。陈元说，走到这里天黑了，就是想来投个宿。陈元接过口袋，是一袋子面粉。陈元背着面粉，跟着桂花进了村。桂花走路的时候，每走一步，头几乎都要磕到地上了。天黑，陈元判断不出桂花的年纪，不清楚桂花是儿子家里什么人，凭着样子感觉不像自己的儿媳妇。 儿子家没有院子，只有三间瓦房。房子不是青砖的，而是用泥巴夯起来的。中间有一个香堂，写着“天地君亲师位”，西边是一间厨房，东边从中间隔成了两个卧室。地板没有铺砖，也没有打水泥，积着厚厚的尘土。家里陈设简陋，几乎没有几件像样的家具，只有几只漆成红色的木箱子。桂花生了一盆火，而后问，大伯还没有吃晚饭吧？ 陈元笑了笑说，还没有呢。 桂花便进了厨房，忙碌着做饭去了。 东边的门帘子揭开了，是一位五十岁左右的大妈。大妈说，你是哪位亲戚，怎么一点都不认识呢？陈元说，我是路过的，这么晚了，打扰您了。陈元估计，应该是儿媳妇她妈。她若是儿媳妇她妈，正在厨房添水做饭的，难道就是自己的儿媳妇？陈元看到儿媳妇弓着身子，几乎都够不着锅灶了，心里顿时生出一丝悲凉。 大妈说，你是哪里人？陈元说，我呀，原来是丹凤县的。大妈说，我们家杨利也是丹凤县的，那个村子叫什么来着？陈元说，叫塔尔坪。大妈说，听他说，塔尔坪已经没有人了，他们都迁到哪里去了呀？ 陈元说，有的迁到镇上去了，有的迁到城里去了。大妈说，你和我们杨利熟悉吧？陈元说，挺熟悉的。大妈说，他家里都有什么人？父母和兄弟姐妹呢？我们问他的时候，他只说死了，到底怎么死的，什么时候死的，从来也不告诉我们。陈元说，孩子可能伤心吧。大妈说，如果不伤心的话，怎么会入赘到我们家？陈元说，他是怎么跑到这里来的？ 大妈说，按说去灵宝背矿，也不经过我们桑树岭，哪知道他是怎么绕到这里来的？有一年冬天，下了好大好大的雪，雪把四面八方的路都封住了。我们早晨起来，不仅找不到路，吃水都找不到河。我们推开门，门外坐着一个人，看上去哪像人啊，倒像一个被冻僵的雪疙瘩。这就是我们家杨利。他在我们家睡了两天两夜，醒过来后，什么也不说，也不打算离开，挑水，劈柴，干活都不用人叫。春天了，帮忙下地锄草；夏天了，帮忙下地收麦子。待了半年多，我们问他，家里有没有媳妇？他摇头；我们问他，以后有什么打算？他摇头；我们问他，愿意不愿意做上门女婿？他竟然点头了。就这样，在那年农历八月十六立了招书。 大妈说，这个女婿话少，勤快，懂事儿，对我也孝顺，每次从外边回来，都给我买衣服，你看看我身上这件羽绒服，穿着多舒服啊。我们家桂花，按说也没有什么说的，但毕竟是个罗锅子，还长杨利三岁。我们能招这么一个女婿，恐怕是上辈子积了阴德。 看大妈对儿子如此称心，刚刚升起的那股悲凉稍稍地减轻了一些。 陈元摸出一支烟。他犹豫了一下。地板是泥巴的，墙壁是泥巴的，又是半夜三更，他怕吓着了人家，所以打消了摩擦取火的念头。 房间里传来了孩子的哭声，大妈说，是我孙女杨小青。 大妈掀起帘子，进房间里哄孩子去了。 陈元对桂花说，随便吃点就行了。但是桂花摆了一张桌子，蒸了一锅大米饭，炒了一个腊肉萝卜片和一个鸡蛋土豆丝，还提出一瓶太白酒。桂花说，冬天里没有什么菜，就请大伯将就一点吧。陈元说，够多的了。桂花说，听你刚和我妈说，你是杨利老家那边的，又都在铜川煤矿待着，第一次上我们的门，算是稀客。 桂花说，大伯你一把年纪了，怎么还要上煤矿吗？陈元说，不挖煤能干啥呀？桂花说，电视里经常说，这边煤矿塌方，那边煤矿渗水，每次都有几十个人被埋在下边，你们待的煤矿怎么样？陈元说，都一样，哪儿都一样，不安全。桂花说，有没有死过人？陈元说，听说过，不过我们还好。桂花说，我劝说杨利，在家干点别的，钱有啥多少的，他总是不听，按说铜川离家也不是太远，可是一年到头，除了收麦子和过年，他多数时候都不回家。 陈元说，煤矿也没有外边说的那么可怕，你别太担心了。桂花说，我好奇，煤都埋在什么地方？陈元说，埋在地下。桂花说，多深呢？陈元说，我们不清楚，反正挺深的，下去要半天。桂花说，上边种庄稼吗？陈元说，煤多值钱，不用种庄稼了。桂花说，你们挖煤的时候是怎么进去的？陈元犹豫了一下。 陈元想起自己去过的金矿，便说，有洞，洞口有点像我们这里的墓，也像隧道或地铁，你坐过地铁吗？桂花说，还没坐过呢。 桂花要给陈元倒酒，陈元推开了。桂花说，大伯，煤挖出来是什么样子？陈元说，挖出来是黑的，和泥疙瘩一样。桂花说，从地下一挖出来就能烧吗？真是奇怪，我们地里的泥巴为什么不能烧，人家那里为什么就能烧？陈元真想告诉她，在地壳运动中，有一些植物被埋在地下，在不透气或空气不足的情况下，经过几亿年的高温与高压，最后就形成了煤。但是陈元觉得那样解释，文绉绉的不合适。 陈元说，泥巴和煤能比吗？ 桂花说，我一直想去煤矿，但杨利他不带我。其实我去，不是为了挖煤，而是为了陪陪他，给他做做饭，顺便看看煤是什么样子的，煤矿到底安全不安全。 几天一直在外奔波，加上在里边五年的煎熬，陈元第一次有了家的感觉。他三下五除二地吃了一顿饱饭，倒床便呼呼地睡去了。自是一夜安宁无话，第二天，陈元一觉睡到大亮，吃完早饭便起身告辞。桂花拿了一件棉袄，一双新做的布鞋，一袋子煮熟的香肠，让陈元捎给杨利。陈元说，这些东西，哪儿买不到，用不着吧？桂花说，杨利总不给自己添衣服，恐怕还穿着原来那件破棉袄。大伯你劝劝他，让他别舍不得花钱，想喝酒就喝，想抽烟就抽。再捎句话给他，马上过元旦了，如果元旦不回来，过年就早点回来。 大妈也送出门，对着陈元耳朵边悄悄地说，关键是让他早点回来，给咱杨家抱个孙子。 有一群孩子，你追我赶地跑了回来。有个孩子冲着陈元的后背喊，爸爸，爸爸。陈元一扭头，看到一个三岁左右的孩子，扎着马尾辫，单眼皮，清秀的模样，像极了自己女儿小时候。陈元想，没有猜错的话，女儿就是这孩子的姑姑。 桂花说，杨小青，你眼睛长哪儿了？是不是想爸爸了？杨小青说，他和爸爸长得一样。桂花说，确实有点像你爸爸，昨天晚上在村口遇到的时候，我也以为是你爸爸呢。杨小青说，长得一样就应该叫爸爸对吗？桂花说，不对，这是爷爷，快点叫爷爷。 杨小青便躲在桂花的背后，弱弱地叫了一声“爷爷”。 陈元听到叫喊，他的心扑通一声，悬在胸口的两块石头一下子落地了。陈元一阵感动，忙从身上掏出五十块钱，说是给杨小青买糖吃。但是杨小青不要，桂花也死活不要。桂花不但不要钱，反而回到家里，又装了几个馒头，让陈元带着在路上充饥。 7 陈元平白无故地在里边待了五年，从四十不惑即将熬成五十知天命，但是自己处在一个与世隔绝的地方，除了王管教那些人之外，大家都是有罪的，无论是偷盗还是抢劫，无论是杀人还是放火，无论是罪有应得，还是蒙受不白之冤，犯人与犯人的交往从精神的角度看，就显得平等多了。但是老婆屈爱琴呢？儿子陈改朝呢？儿子原来的女朋友和邢小利的妻子呢？他们这些与那事儿不相干的人，是生活在正常的社会上的。他们的一点一滴都牵扯到尊严，牵扯到脸面，牵扯到羞耻。陈元想，与他们相比，自己遭受的折磨轻多了。 陈元返回灵口镇坐车，在车站一打听，去铜川煤矿要经过渭南。陈元决定顺路去看看那个当时不满十四岁的小丫头黄丽。他怎么也想不通，那么小一个娃娃蛋子，她知道什么是男女之事吗？她哪懂什么是法律呢？她为什么要与人一起陷害一个陌生的和她父亲一般大小的人呢？如今小丫头已经长大成人了，推算一下已经十九岁了，若是五年前还不明白轻重的话，五年之后是否已经明白了呢？ 在五年的时光流逝中，命运又是怎么安排她的呢？ 陈元根据老婆屈爱琴列出的地址，坐了一趟大巴，倒了一次火车，在渭南南站下车后，往南走了两公里，或许是三十年河东三十年河西的原因，轻易就找到了河西乡河东村。 陈元在下午三点左右进了河东村。刚进村子不远，有一条小河，临河住着一户人家，三间房子有些破败，房前的河里结了冰，冰块之间有几只鸭子在游泳。屋檐下有位老人，估计七十岁左右，耷拉着头坐在太阳底下晒太阳。 陈元说，大爷，家里有水喝吗？ 大爷半睁着眼睛说，你自己进门倒吧。 陈元不好意思自己进门，便又问了一句，你们村里有没有一个姑娘叫黄丽？ 大爷彻底睁开了眼睛，打量了一番陈元说，我就是她爷爷，这就是她家，你是干什么的？陈元刚刚开口，就撞到了黄丽家的门上。陈元有点意外地说，仅仅见过一面，她不在家吗？大爷拉了条凳子让陈元坐下，说你在哪里见过她？在省政府那边，还是在医院那边？你不会又是来做思想工作的吧？ 陈元听说黄丽不在家，便在大爷的旁边坐下了。大爷说，前些日子，省里的，市里的，信访办的，卫生局的，民政局的，还有什么残联的，分头都来过了，让他们别再到处上访了，但是黄丽她爸那个孽障，哪里听得进去呀。他越来越起劲了，家里庄稼也不种了，什么营生也不管了，整天挂着个牌子，牵着自己的女儿，到处又是哭闹又是上访的，把我们的人都丢尽了，他们不要脸，我这张老脸还要呢，等我死了怎么好意思去见阎王爷？ 陈元心想，他们究竟为什么上访呢？ 陈元说，肯定是有冤屈吧？ 大爷叹了口气说，我孙女命苦啊，从落地那天起，就没有受到爸妈疼过。我那儿子，也就是黄丽她爸，是一个大酒鬼，整天把自己泡在酒瓶子里。如果没有酒喝，他不仅打黄丽，还打我这把老骨头，你看看我头上这几道疤，就是他用酒瓶子打的。有一次，酒瓶子见底了，他还没有喝好，便提起一壶开水，泼在了黄丽身上，把黄丽半个肩膀的皮都烫掉了。 当初的那些镜头如雾霾一样在陈元的眼前开始扩散。 有一天晚上，在菜场小学的宿舍里，陈元接到了田老板的电话。田老板说，陈校长你是不是还在恨我？陈元说，一切都过去了，我恨你干什么？田老板说，那出来喝酒吧。如果田老板不把超市低价卖掉，就没有三十五万元的赔偿款，没有那笔赔偿款就没有菜场小学，没有菜场小学的话几十个孩子就辍学了。田老板卖掉超市后，不仅倾家荡产了，而且失去了应有的经济来源，一下子从老板变成了无业游民。陈元本来不会喝酒，一是对田老板存有愧疚之心，二是冤家宜解不宜结，所以就接受了田老板的邀请，跑到红星宾馆门前的大排档上，陪着田老板喝了几杯。 几杯酒下肚，陈元和田老板都有些醉了。田老板说，我有一个干女儿你知道不？陈元说，我和你又不熟悉。田老板说，她现在没有地方上学，能不能送到你们学校去？陈元说，孩子多大了？田老板说，差两个月十四岁。陈元说，原来念过书吗？田老板说，念过，在老家念六年级。陈元说，我这里只有六年级，念半年就毕业了。田老板说，半年就半年，上完小学再想办法。陈元说，你明天让她来报到。田老板说，你们学校是免费的吗？陈元说，这个学校有你的功劳，所以我给她全部免费。 田老板说，那太好了！她正好在楼上的按摩房里上班，我让她给你做一次按摩表示感谢吧。陈元说，我是老师，老师怎么可以去那种地方？田老板说，这种地方也有干净的，何况她不到十四岁，又是我的干女儿，纯粹就是保健按摩，你脑子不要长歪了好不好？其实人家自己不愿意上学，你是校长，要去给她做做思想工作。 陈元随着田老板，晃晃荡荡地来到了红星宾馆的二楼。 据陈元后来了解到的情况，田老板的干女儿叫黄丽，是陕西那边的老乡。她是到上海来找她妈的。据说她妈在大沙镇，也许在某家服装厂，也许在某家商场，也许在某家饭店。小丫头一家挨着一家找，在那年冬天，几乎找遍了大沙镇，也没有找到她妈，在身无分文的时候，由于几个月没有地方睡觉，几天没有吃饭，恰好晕倒在田老板的超市里。当时田老板还开着超市，还是财大气粗的田老板，便把小丫头认成了干女儿，安排在红星宾馆的按摩房里。 就在那天晚上，就在红星宾馆，就在二楼尽头的按摩房里，就是那个十四岁不到的小丫头黄丽。时间，地点，人物，情节；酒，包厢，按摩床，脱光的衣服，流血的身体；灯光的昏暗，环境的封闭，自己的好言相劝，小丫头恐惧的目光；突然消失的田老板，突然尖叫起来的黄丽，突然而至的警察邢小利。一切好像都很普通，又好像是布置好的；一切好像都是巧合，又都是上天注定的；一切好像都十分道德，也没有任何违法行为，又十分失常和扭曲；一切好像都有人证明，但是又都百口莫辩。关键是，一切都是空白的，偏偏被人描绘得有鼻子有眼。 陈元听到大爷的话，终于明白黄丽肩膀上的那一片惨白，不是花纹，而是被开水烫伤后落下的疤痕。 陈元并不愿意回忆，每当那些镜头跳上自己脑海的时候，他都用各种各样的办法，比如说摸摸自己的光头，最有效的办法就是摩擦取火，逼迫自己中断那些无中生有的回忆。他取下自己的假发，摸了摸自己的光头；他慌张地抽出一支烟，从棉袄里掏出一撮棉花，从脚上脱下一只布鞋，但是墙壁依然是泥巴的，地板依然是泥巴的，还有一些泥泞，甚至有一些结冰。 陈元拒绝大爷用打火机给他点烟。 陈元把那支烟在手心里捏碎了。 大爷说，黄丽每天一放学，就去附近捡垃圾卖钱，供她爸喝酒。有一次我病得很重，黄丽放学回来自己做饭，没有顾得上出去捡垃圾。而她爸呢，酒又喝光了，他让黄丽出去买酒。黄丽说，没有钱。他说，没有钱，不知道赊吗？黄丽说，之前欠了几百块，还没有还清。她爸听了，立刻提起一个酒瓶子，朝着黄丽扔了过去。黄丽流着血出门了，那天正好下了那年冬天的第一场雪，雪下得不大，但是外边很冷。黄丽出门后，让村子里的人捎信给我，说她去南方找她妈妈去了。 大爷抹着泪说，黄丽她妈多贤惠啊，忍受不了那个孽障，在黄丽十岁的时候，跟着一个药材贩子跑掉了，从此失去了音信。有人说跟着药材贩子回浙江结婚了，也有人说是被人骗到了上海，在一些乌七八糟的地方打工。黄丽是春节前回来的，回来后整个人都变了，死活不愿意上学了。问她都去了什么地方，她摇摇头；问她见到她妈了吗？她摇摇头；问她有没有看到东方明珠？她摇摇头。肯定在外边遇到什么事儿了，或者是没有找到她妈吧，黄丽回来不久就生病了。她说头里边有一个大石头，硬邦邦的大石头卧在里边。而且头发大把大把地脱落，十几岁的女孩子就成了秃子。她每次一发病，就口吐白沫，满地打滚，滚着滚着就晕过去了。晕过去之后满嘴胡话，说抹在床上的血，不是人家打的，是自己的鼻血；说自己的衣服是自己脱掉的，不是人家脱掉的；说告诉警察的那些话都是别人教的。别人拿着刀子威胁她，如果不照办就把她卖掉，或者扔到大海里喂鱼。 陈元说，病治好了吗？ 大爷说，治好了。 陈元说，为什么上访？ 大爷说，还能为什么？头痛治好了，双目却失明了，变成了一个瞎子。变成瞎子后，黄丽反倒开心了。她说自己活该，就应该是个瞎子；她说世界上不管红的白的，在瞎子的眼睛里都是黑的；她说再好的东西都不值得她看，也没有脸去看。她爸那个孽障，看到黄丽瞎了，也挺高兴的。他说在头上开刀，怎么把眼睛弄坏了？说得轻一点是手术失误，说得重一点是医生故意的，因为我们没有给医生塞红包；他说不管怎么样，那是要赔偿的。于是他用纸板子，制作了一个“状子”，用红色油漆在上边写着：我叫黄丽，现年多少多少岁，渭南市河西乡河东村一个穷苦农民，本来我的眼睛好好的，两只眼睛视力都是一点五，但是由于某某医院进行脑部手术时，发生了医疗事故，致使我双目失明，请青天大老爷主持公道，给我们申冤。她爸那个孽障把状子挂在脖子上，拉着黄丽去了那家医院。医院解释说，脑部手术致使双目失明，这是正常的，而且手术前，把风险告诉你们了，你们家属也签字确认了。她爸那个孽障发现是我签的字，耍赖说，那字不是他签的，他不承认。 那个孽障每次去，都喝得醉醺醺的，甚至提着酒瓶子，医生跑到哪里，他就跟到哪里。医院饱受折磨，就报了警。见警察来了，他上前对警察说，青天大老爷啊，终于把你们等来了，你们可得为民做主啊。闹得警察也是万般无奈，总是尴尬地收兵了。医院天天解释，发现解释不通，干脆准备了好多太白酒，等那个孽障一来闹事，就提一瓶酒塞进他怀里。他抱着酒瓶子喝完了，基本就醉得不省人事了。那个孽障不但去医院，还去省政府大院，据说每次去省政府大院，对方像接待外宾似的，笑呵呵地主动和他握手，就差没有放音乐铺红地毯了，如果遇到吃饭时间，还到食堂给他买饭吃，好好招待一番后，让他回来等消息。 大爷抹着眼泪说，后来有人告诉他，你女儿是一棵摇钱树，你在这里瞎折腾干吗？你把她拉到大街上去要饭，钱会哗哗啦啦地扔过来的。那个孽障，从此拉着我可怜的孙女，白天在医院和省政府讨说法，晚上就在饭店或酒店前边要饭。 陈元说，手术到底有没有失误？ 大爷说，医院申请了事故鉴定，结果是没有责任的。 大爷说，不让黄丽看病吧，她受那么大折磨，现在病看好了，又变成瞎子了。其实，我们哪有钱做手术啊，硬是向老战友借了一点儿。我当年是国民党老兵，后来投靠了八路军，你看看我这半条腿，被日本人的子弹打穿了，现在还是麻木的。因为我是老八路，有很多战友。从战友那里筹到钱，我带着黄丽去渭南检查，什么也没有查出来，再跑到西安一家医院，检查的结果是脑瘤。黄丽说，就让她死，她该死。我是硬把她逼到医院去的，在上手术台的时候，她说，爷爷，如果我死了，你帮我一件事儿吧。我问她，什么事儿呢？她说，你帮我对人家说句对不起。我说，你对不起谁呀？她想了想说，对不起好多人。 陈元迷茫地望着在冰块中间戏水的鸭子，不明白是河水还不够冷呢，还是鸭子根本不怕冷。 大爷说，你喝水吧？你刚才好像说讨口水喝，我都忘记了。 大爷进门倒了一碗水，递给了陈元。但是陈元不想喝水，他想抽烟。 陈元递给大爷一支烟，大爷掏出打火机，又要给他点烟。陈元犹豫了一下，还是对着那小小的火苗，把烟给点燃了。 陈元发现，这样抽烟轻松多了。他深深地把烟吞进了腹部，吐出来的时候那烟清淡了许多，几乎不像烟，而像出了一口淡淡的气。 陈元离开河西乡河东村，搭上了前往西安的火车。陈元到西安的时候天已经黑了。他出了火车站，迷茫地往南走，走了两百多米，看到了五路口地铁站。变化真大啊，五年前那个春节，他从老家返回上海，走的就是西安，当时西安好像还没有地铁。陈元进了地铁站。在地铁站的通道边，摆着各种各样的小摊，有卖袜子和手套的，也有的卖一些小首饰，中间还夹杂着几个乞丐。在通道的尽头，有个乞丐是个年轻的姑娘，她与其他的乞丐不同。其他乞丐要么坐着拉二胡，要么是跪在地上的，而她懒洋洋地坐在地上，前边放着一个牌子，牌子上写着“状子”，“状子”前边放了一个碗，里边扔了许多硬币，旁边躺着一个中年男人，抱着一个酒瓶子在喝酒，似乎已经喝多了。 那个姑娘站起来，伸了几个懒腰，朝前挣脱了几步。 但是她与男人之间，有一根绳子系着。 陈元见过人与狗用绳子系着，人与人之间还是第一回。 陈元从她身边经过的时候，斜眼瞅了一下“状子”。他被吓了一跳，上边似乎有“黄丽”。他以为看走眼了，回过头再仔细一看，确是“黄丽”无疑，后边还写着“河西乡河东村”。他再去打量那个姑娘，人瘦得像根麻秆儿。他不明白她长大了，还是自己忘记了，无论从哪方面看，她都不是印象中的那个小丫头了。 陈元想，如今无论是缺胳膊还是断腿，都成了一种乞讨的资本，既然有人假冒瘸子，有人假冒哑巴，当然就会有人假冒“黄丽”。何况一个年轻的女瞎子，自然更容易博得人的同情。陈元不管她是不是假冒，凭着她身上系着一根绳子，也是值得自己施舍的，于是摸出二十块钱，放进了碗里。 或许那个姑娘真是个假的，或许她听到了细微的声音。她发现了这种施舍，于是对着陈元离开的背影说了一句“对不起”。她没有说“谢谢”，而是说了一句“对不起”。陈元不知道是她说错了，还是她惯用的感激之词就是“对不起”。 陈元不想再坐地铁了。在他即将撤出地铁口的时候，听到身后一阵吵闹，大意是为了自己留下的二十块钱，那个男人要拿钱去买酒，而那个姑娘不从。随之听到一只碗碎裂的声音，还有那个姑娘的一声惨叫。果然，那个男人摇摇晃晃地在前边狂奔着，那根绳子在后边拖着那个姑娘，朝着地铁站外边冲去。那个姑娘一会儿摔倒在地，一会儿又爬了起来，她一只手拽着那根绳子，一只手捂着额头，指缝间在汩汩地流血。 血洒在光怪陆离的夜色之中一点儿都不起眼。 8 陈元又回到了火车站。他问一个路人，有没有去阎良的火车。人家说，阎良？什么阎良？陈元说，阎王爷的阎，善良的良。人家说，这是什么地方？你还是去窗口问吧。陈元去窗口，窗口说，阎良就在西安，不值得跑火车，你出门向东走五百米，有个汽车站叫三府湾，那里有大巴。 陈元坐了四十分钟的大巴，来到西安市阎良区，东问西问，终于找到了位于前进东路十四号的某某小区。保安告诉他，田小龙家住十三楼。陈元上了十三楼，敲了敲门，门轻易就开了。开门的是个女的，留着一个爆炸头。她自称是田小龙的妻子，也就是田老板的儿媳妇，当年把女儿推进河里的那个小男孩儿的妈妈。 爆炸头不让陈元进屋，拦在门口说，田小龙还没有下班呢。陈元说，那田老板呢？爆炸头说，我们家一帮穷鬼，哪有什么田老板？你到底是谁呀？陈元说，我是从上海来的，田老板在上海的时候，我们在一起待过一阵子。 爆炸头说，不管你找他是讨债还是干啥，反正找也白找，他现在还不如一棵树，一棵树还会自己吃饭睡觉，会自己摇晃几下呢，他呀，像块木头。陈元说，他当年机灵得很。爆炸头说，再机灵有什么用？在外边待了十几年，不明白是中邪了，还是脑子坏掉了，我们什么都不清楚，前几年从上海回来刚刚半年，稀里糊涂地变成了植物人。这个植物人可把我们给坑苦了，放在家里吧，翻身呀，拉屎撒尿呀，都得有人帮忙。我们忙着上班，平时连盆花都养不活，哪有精力养一个植物人啊，所以干脆送到敬老院让他享福去了。 陈元说，他没有出事儿之前，有没有留下什么东西？爆炸头说，他在上海的时候开超市，听说都成百万富翁了，但是回来的时候已经身无分文，你说说，他把那些钱是不是送给哪个女人了？陈元说，他变成植物人之前，有没有留下什么话？ 爆炸头说，话多着呢，嘴里整天咕嘟咕嘟的，都不知道他在咕嘟些什么。除了神神道道之外，还躲在房间里写写画画的，写了撕，撕了写，都写了几百张纸，撕了几百张纸，最后只落下了一张，像鬼画符似的，如今还压在玻璃板下边。陈元说，能不能把那张纸拿给我看看？爆炸头返回家，拿回一张纸递给了陈元。 陈元看了那张纸，上边写着三个字——忏悔录。陈元心想，他写下的肯定不是法国作家卢梭的那本书，因为还有一些词，零零散散的，别人看不懂，但是陈元能看懂，有邢小利、黄丽、陈元等人的名字，还有好人、奸人、冤枉等。 爆炸头说，他画的该不会是藏宝图吧？哪怕就是一张藏宝图，你感兴趣就送给你吧。爆炸头进门提了一个包，出来的时候把门给锁上了，而后说，为了一个月几千块护理费，这么晚了我还要去上班。我在按摩房上班，你如果要按摩就跟我走吧。陈元说，想问一下，田老板他在哪家敬老院？爆炸头说，不远，叫清福敬老院，你出门右拐，三百米就看见了。 陈元刚出小区不久，果然看到了清福敬老院的大门。除了上边闪烁着的霓虹灯，那扇大门也是铁的，也是漆黑漆黑的，也有城西监狱那么高，中间也有像刀子一样的一条缝。从刀子一样的门缝看进去也是空荡荡的。 他又想摩擦取火了。这里到处都是水泥地面，到处都是粗糙的水泥墙。他随便选了一个地方，脱下布鞋，撕开袖子，掏出一撮棉花。他把棉花条子压在一堵墙上，上上下下地摩擦了起来，两分钟，三分钟，四分钟……这一次，也许他力气太小，也许他动作太慢，也许墙面太潮了，棉花条子始终没有冒烟。 他觉得他已经没有必要再见田老板了，也没有必要再见其他人了。 他如今唯一想见的只有一个人。他把儿媳妇桂花捎给儿子的棉袄、布鞋和香肠，挂在肩膀上，转身离开了。与清福敬老院一路之隔，就是一家长途汽车站，这里有通往四面八方的班车。他要坐其中的一辆车，也是当天最后一趟车，连夜赶到他唯一可以见也必须面对的一个人那里去，说不定那个人正在犹豫徘徊地期待着他呢。 陈元上车之前，他突然觉得有点热。再过几天就是元旦，已经属于深冬了，他仍然觉得有点热，这是十分奇怪的。他想起了自己头上的假发，一头披肩的假发。他取了下来，把它挂在汽车站里的一根树桩上。这根树桩像是一个人似的，一下子有了活着和走动的欲望。 陈元身边坐着一个小伙子。小伙子嘻嘻地笑着说，原来你是一个光头啊？陈元摸了摸自己的光头，望着开始后退的窗外景物嘿嘿地笑了。 他掏出一支烟，主动地对小伙子说，你有打火机吗？让我借个火可以吗？ 9 如果我们从人世朝上看，故事已经有了结尾。但是如果从上边朝人世看，一切应该还在继续。比如有一股风，你看似已经平息了，但是风永远不会灭的。它没有在地上吹，并不能证明它不在空中吹。树木不再摇晃了，并不能证明云不在飘。还是开头那句话，需要上天来证明的，那基本就是谎言。"},{"title":"","date":"2022-02-20T06:40:28.287Z","updated":"2022-02-20T06:26:48.315Z","comments":true,"path":"resources/4.5/5.1.2.html","permalink":"https://billma.top/resources/4.5/5.1.2.html","excerpt":"","text":"{width=”7.638888888888889e-3in”height=”0.3229166666666667in”}第2课时 导数的概念及其几何意义 {width=”2.1104166666666666in”height=”0.33055555555555555in”} 类型1 导(函)数的概念 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 用导数的定义，求函数y＝f(x)＝在x＝1处的导数． 【解析】 因为Δy＝f(1＋Δx)－f(1) ＝－＝ ＝， 所以＝， 所以当Δx无限趋近于0时， 无限趋近于－，所以f′(1)＝－. 规律总结：区别概念：①函数f(x)的导函数(简称导数)：f′(x)＝ . ②函数f(x)在x＝x0处的导数，f′(x0)＝ . 类型2 导数的几何意义 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 求函数f(x)＝－2x^2^在下列各点的导数，并说明它们的几何意义： (1) x＝－1；(2) x＝0；(3) x＝2. 【解析】 f′(x0)＝ ＝ ＝ ＝[－4x0－2(Δx)]＝－4x0. (1) f′(－1)＝4，表示f(x)在点(－1，－2)处的切线的斜率为4； (2) f′(0)＝0，表示f(x)在点(0，0)处的切线斜率为0； (3) f′(2)＝－8，表示f(x)在点(2，－8)处的切线斜率为－8. 规律总结：曲线f(x)在x＝x0处的导数就是曲线f(x)在x＝x0处的切线斜率． 类型3 曲线在某点处的切线 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 已知抛物线y＝x^2^＋4与直线y＝x＋10. (1) 求它们的交点； (2) 求抛物线在交点处的切线方程． 【解析】 (1) 由解得或 所以抛物线与直线的交点坐标为(－2，8)或(3，13). (2) 因为y＝x^2^＋4， ＝＝＝Δx＋2x， 所以Δx→0时，→2x. 所以y′|x＝－2＝－4，y′|x＝3＝6， 即在点(－2，8)处的切线斜率为－4，在点(3，13)处的切线斜率为6. 所以在点(－2，8)处的切线方程为4x＋y＝0； 在点(3，13)处的切线方程为6x－y－5＝0. 规律总结：若曲线f(x)在x＝x0处的切线方程为y＝kx＋b，则满足f(x0)＝kx0＋b，k＝f′(x0). {width=”0.27569444444444446in”height=”0.12569444444444444in”} 若函数f(x)在(2，f(2))处的切线方程为2x＋y－3＝0，则f(2)＋f′(2)＝________． 【答案】 －3 【解析】由已知切点在切线上，得f(2)＝－1，而切点处的导数为切线斜率，所以f′(2)＝－2，所以f(2)＋f′(2)＝－3. {width=”2.1180555555555554in”height=”0.3388888888888889in”} 一、 单项选择题 1. 式子 表示的是( ) A. f′(1) B. f′(Δx) C. f′(1＋Δx) D. f(1) 【答案】 A 【解析】 根据题意， ＝ ＝f′(1). 2. 设函数f(x)在x＝1处存在导数且为2，则 等于( ) A. 2 B. 1 C. D. 6 【答案】 C 【解析】 根据题意，函数f(x)在x＝1处存在导数且为2，即f′(1)＝2，则＝× ＝×f′(1)＝. 3.已知函数f(x)在R上有导函数，f(x)的图象如图所示，则下列不等式正确的是( ) {width=”1.1020833333333333in”height=”0.8583333333333333in”} (第3题) A. f′(a)＜f′(b)＜f′(c) B. f′(b)＜f′(c)＜f′(a) C. f′(a)＜f′(c)＜f′(b) D. f′(c)＜f′(a)＜f′(b) 【答案】 A 【解析】根据题意，f′(a)，f′(b)，f′(c)分别为函数在x＝a，x＝b和x＝c处切线的斜率，则有f′(a)＜0＜f′(b)＜f′(c). 4. 设f(x)是可导函数，且满足＝－2，则y＝f(x)在点(1，f(1))处的切线的斜率为( ) A. －4 B. 4 C. 2 D. －2 【答案】 D 【解析】 根据题意，因为＝－2，即f′(1)＝－2，曲线y＝f(x)在点(1，f(1))处的切线的斜率k＝－2. 二、 多项选择题 5. 下列说法错误的是( ) A. 若f′(x0)不存在，则曲线y＝f(x)在点(x0，f(x0))处就没有切线 B. 若曲线y＝f(x)在点(x0，f(x0))处有切线，则f′(x0)必存在 C.若f′(x0)不存在，则曲线y＝f(x)在点(x0，f(x0))处的切线斜率不存在 D. 若曲线y＝f(x)在点(x0，f(x0))处没有切线，则f′(x0)有可能存在 【答案】 ABD 6.已知函数f(x)在R上可导，其部分图象如图所示，设＝a，则下列不等式正确的是( ) {width=”1.1104166666666666in”height=”0.8819444444444444in”} (第6题) A. a&lt;f′(2)&lt;f′(4) B. f′(2)&lt;a&lt;f′(4) C. f(2)＋f(4)&lt;f(3) *D*. f(2)＋f(4)&gt;f(3) 【答案】 BD 【解析】根据题意，如图(1)，设M点坐标为(2，f(2))，N点坐标为(4，f(4))，则f′(2)为曲线在点M处切线的斜率，f′(4)为曲线在点N处切线的斜率，kMN＝＝a，则a为直线MN的斜率，结合图形分析可得：f′(2)＜a＜f′(4)，故B正确；且结合图形易得f(2)＋f(4)&gt;f(3)，故D正确． {width=”1.1104166666666666in”height=”0.8819444444444444in”} (第6题(1)) 7. 关于函数f(x)＝x＋的说法中，正确的有( ) A. f(x)的最小值为2 B. f(1)&gt;f′(1) C. f′(2)＝ D. f(x)的图象上各点处的切线的斜率都小于1 【答案】 BCD 【解析】 当x&lt;0时，f(x)&lt;0，故选项A*错误；因为f′(x)＝ ()＝(1－)＝1－，函数f(x)＝x＋的定义域为{x|x≠0}，故f(1)＝2，f′(1)＝0，f(1)&gt;f′(1)，故B正确；f′(2)＝1－＝，故C正确；由f′(x)＝1－&lt;1，故D*正确． 三、 填空题 8. 曲线y＝－在点处的切线倾斜角是________． 【答案】 【解析】 因为y′＝ ＝ (－x－)＝－x，所以y′|x＝－＝，所以切线倾斜角为. 9. 设f(x)是可导函数，且 ＝2，则f′(x0)＝________． 【答案】 2 【解析】 根据题意， ＝f′(x0)＝2. 10.如图，函数y＝f(x)的图象在点P(2，y)处的切线是l，则f(2)＋f′(2)＝________． {width=”1.0784722222222223in”height=”0.9923611111111111in”} (第10题) 【答案】 1 【解析】由图象可得，函数y＝f(x)的图象在点P处的切线l与x轴交于(4，0)，与y轴交于(0，4)，则可知l：x＋y＝4，所以f(2)＝2，f′(2)＝－1，所以f(2)＋f′(2)＝1. 四、 解答题 11. 已知曲线y＝－x^2^＋4x上有两点A(4，0)，B(2，4). (1) 求割线AB的斜率kAB及AB所在直线的方程； (2)在曲线AB上是否存在点C，使过点C的切线与AB所在直线平行？若存在，求出点C的坐标；若不存在，请说明理由． 【解析】 (1)因为点A(4，0)，B(2，4)，所以kAB＝＝－2，所以y＝－2(x－4)，所以所求割线AB所在直线方程为2x＋y－8＝0. (2) y′＝ ＝(－2x＋4－Δx)＝－2x＋4，令y′＝－2x＋4＝－2，得x＝3，y＝－3^2^＋3×4＝3.所以点C坐标为(3，3)，所求切线方程为2x＋y－9＝0. 故在曲线AB上存在点C，使过点C的切线与AB所在直线平行． 12. (1) 已知曲线y＝上一点P(1，1)，用导数的定义求在点P处的切线的斜率． (2)设函数f(x)＝x^3^＋ax^2^－9x－1(a&lt;0)，若曲线y＝f(x)上的斜率最小的切线与直线12x＋y＝6平行，求a的值． 【解析】 (1) ＝ ＝ ＝ ＝ ＝－2. (2)因为Δy＝f(x0＋Δx)－f(x0)＝(x0＋Δx)^3^＋a(x0＋Δx)^2^－9(x0＋Δx)－1－(x＋ax－9x0－1)＝(3x＋2ax0－9)Δx＋(3x0＋a)(Δx)^2^＋(Δx)^3^， 所以 ＝3x＋2ax0－9＋(3x0＋a)Δx＋(Δx)^2^＝3x＋2ax0－9， 即f′(x0)＝3x＋2ax0－9， 所以f′(x0)＝3－9－. 当x0＝－时，f′(x0)取最小值－9－. 因为斜率最小的切线与12x＋y＝6平行，所以该切线斜率为－12，所以－9－＝－12，解得a＝±3. 又因为a&lt;0，所以a＝－3. {width=”2.1020833333333333in”height=”0.3388888888888889in”} 1.被誉为”数学之神”之称的阿基米德(公元前287年—公元前212年)是古希腊伟大的物理学家、数学家、天文学家，他最早利用逼近的思想证明了如下结论：抛物线的弦与抛物线所围成的封闭图形的面积等于抛物线的弦与经过弦的端点的两条切线所围成的三角形面积的三分之二．这个结论就是著名的阿基米德定理，其中的三角形被称为阿基米德三角形．在平面直角坐标系xOy中，已知直线l：y＝4与抛物线C：y＝x^2^交于A，B两点，则弦与拋物线C所围成的封闭图形的面积为________． {width=”1.1020833333333333in”height=”1.0in”} (第1题) 【答案】 【解析】 由题意知点A(4，4)，B(－4，4)，因为y＝x^2^，所以f′(x0)＝＝x0，所以在点A处的切线斜率为2，切线方程为y－4＝2(x－4)，即y＝2x－4.同理可得，在点B处的切线方程为y＝－2x－4，所以弦AB与两条切线所围成的三角形面积为×8×8＝32，所以弦与拋物线C所围成的封闭图形的面积为×32＝."},{"title":"","date":"2022-02-20T06:40:28.287Z","updated":"2022-02-20T06:31:09.481Z","comments":true,"path":"resources/4.5/5.1.1.html","permalink":"https://billma.top/resources/4.5/5.1.1.html","excerpt":"","text":"5．1 导数的概念及其意义 第1课时 变化率问题 类型1 平均变化率 (1) 求在区间(1，1＋Δx)上的平均变化率； (2) 当平均变化率大于7时，求Δx的范围. 【解析】 (1)根据题意，函数f(x)＝2x^2^－1在区间(1，1＋Δx)上，其平均变化率＝＝4＋2Δx. (2) 由(1)知当4＋2Δx&gt;7时，Δx&gt;. 规律总结：函数f(x)在区间(a，b)上的平均变化率 v＝. 类型2 瞬时变化率 (1)一质点位移y(单位：m)与时间t(单位：s)之间的关系为y(t)＝2t^3^，求在t＝1时质点的瞬时速度； (2)一质点速度v(单位：m/s)与时间t(单位：s)之间的关系为v(t)＝2t^2^，求在t＝1时质点的瞬时加速度． 【解析】 (1) ＝2 ＝2 (Δt^2^＋3Δt＋3)＝6， 所以在t＝1时质点的瞬时速度是6 m/s. (2) 由题意知v(t)＝2t^2^， ＝2 ＝4， 所以在t＝1时质点的瞬时加速度为4 m/s^2^. 规律总结：当Δt无限趋近于0时，平均速度v(t)＝的极限是物体在t0时的瞬时速度； 当Δt无限趋近于0时，加速度a(t)＝的极限是物体在t0时的瞬时加速度． 类型3 抛物线在某点处的切线 [例3] 已知抛物线f(x)＝－x^2^＋x－1在点P(x0，f(x0))处的切线斜率为3，求该抛物线在点P处的切线方程． 【解析】 ＝ ＝ (－Δx－2x0＋1)＝－2x0＋1＝3， 解得x0＝－1，又因为f(x0)＝－3， 所以该抛物线在点P处的切线方程为y＋3＝3(x＋1)，即3x－y＝0. 规律总结：求抛物线y＝f(x)在点P(x0，f(x0))处的切线方程，除传统方法之外，可通过以下三个步骤求解：①点P在抛物线y＝f(x)上，即y0＝f(x0)；②在P处斜率为k，即k＝；③点P在切线上，即y－y0＝k(x－x0). [B] 一、 单项选择题 1.在曲线y＝x^2^＋1上取一点(1，2)及邻近一点(1＋Δx，2＋Δy)，则为( ) A. Δx＋＋2 B. Δx－－2 C. Δx＋2 D. 2＋Δx－ 【答案】 C 【解析】 ＝＝Δx＋2. 2.将原油精炼为汽油、柴油、塑胶等各种不同产品时，需要对原油进行冷却和加热．如果第xh时，原油的温度(单位：℃)为f(x)＝x^2^－7x＋15(0≤x≤8)，则第4h时，原油温度的瞬时变化率为( ) A. －1 B. 1 C. 3 D. 5 【答案】 B 3.已知一个物体的运动方程为s＝2(t＋1)^2^－1，其中位移s的单位是m，时间t的单位是s，则物体的初速度v0为( ) A. 0 m/s B. 1 m/s C. 2 m/s D. 4 m/s 【答案】 D 4.若函数y＝x^2^在区间[x0，x0＋Δx]上的平均变化率为k1，在[x0－Δx，x0]上的平均变化率为k2，则k1与k2的大小关系是( ) A. k1&gt;k2 B. k1&lt;k2 C. k1＝k2 D. 不确定 【答案】 A 【解析】因为函数y＝f(x)＝x^2^在x0到x0＋Δx之间的平均变化量为Δy＝f(x0＋Δx)－f(x0)＝(x0＋Δx)^2^－(x0)^2^＝Δx(2x0＋Δx)，所以k1＝＝2x0＋Δx.因为函数y＝f(x)＝x^2^在x0－Δx到x0之间的平均变化量为Δy＝f(x0)－f(x0－Δx)＝(x0)^2^－(x0－Δx)^2^＝Δx(2x0－Δx)，所以k2＝＝2x0－Δx.因为k1－k2＝2Δx，而Δx&gt;0，故k1&gt;k2. 二、 多项选择题 5. 已知函数f(x)＝x^2^＋3x＋1，以下判断正确的有( ) A. ＝7 B. ＝7 C. ＝5 D. 在点(1，5)处的切线方程是y＝5x 【答案】 AD 【解析】f(1＋Δx)－f(1)＝(1＋Δx)^2^＋3(1＋Δx)＋1－(1＋3＋1)＝Δx^2^＋5Δx，对于A选项，取Δx＝2，得＝7，故A正确；对于B选项，＝ (Δx＋5)＝5，故B错误；对于C选项， ＝＝，故C错误；对于D选项，由B知在点(1，5)处的切线方程为y－5＝5(x－1)，即y＝5x，故D正确． 6.已知抛物线f(x)＝ax^2^－x＋1在点(1，f(1))处的切线斜率小于3，则实数a的值可能为( ) A. －1 B. 1 C. 2 D. 4 【答案】 AB 7.如图，在平面直角坐标系xOy中，直线y＝x，y＝0，x＝t(t&gt;0)围成的△OAB的面积为S(t)，以下判断正确的是( ) (第7题) A. S(t)＝t^2^ B. S(t)在t＝0时的瞬时变化率是0 C. S(t)在t＝1时的瞬时变化率是2 D. S(t)在t＝2时的瞬时变化率是2 【答案】 BD 【解析】因为AB＝＝t，所以S(t)＝OA·AB＝t·t＝t^2^，故A错误；进而根据定义易得B，D正确． 三、 填空题 8. 设函数f(x)＝x^2^＋x，则＝________________________________________________________________________. 【答案】 3 【解析】 根据题意， ＝3. 9.已知自由落体的运动方程为s(t)＝3t^2^，则t在2到2＋Δt这一段时间内落体的平均速度为________，落体在t＝2时的瞬时速度为________． 【答案】 3Δt＋12 12 【解析】 这一段时间内落体的平均速度为v＝＝＝3Δt＋12.落体在t＝2时的瞬时速度为v＝ ＝ (3Δt＋12)＝12. 10. 函数y＝sinx在0到之间的平均变化率y1＝________，在到之间的平均变化率为y2，则y1________y2(比较大小). 【答案】 &gt; 【解析】在0到之间的平均变化率为＝；在到之间的平均变化率为＝.因为2－&lt;1，所以&gt;.所以y1&gt;y2. 四、 解答题 11. 已知函数f(x)＝x^2^. (1)在x＝1，2，3附近的平均变化率，取Δx都为，哪一点附近的平均变化率最大？ (2) 求抛物线f(x)＝x^2^分别在点(1，1)，(3，9)处的切线方程． 【解析】 (1)设函数f(x)＝x^2^在x＝1，2，3附近的平均变化率分别为k1，k2，k3， 则k1＝＝＝＝2＋Δx， k2＝＝＝ ＝4＋Δx， k3＝＝＝ ＝6＋Δx， 取Δx＝时，k1＝2＋＝，k2＝4＋＝，k3＝6＋＝，所以k1&lt;k2&lt;k3， 所以函数f(x)＝x^2^在x＝3附近的平均变化率最大． (2)由(1)知抛物线f(x)＝x^2^在(1，1)处的切线方程为y－1＝2(x－1)，即2x－y－1＝0； 在(3，9)处的切线方程为y－9＝6(x－3)， 即6x－y－9＝0. 12.根据所给的运动方程，先写出物体在时间段[u，u＋d]和[u－d，u]上的平均速度，再让d趋于0，求出它在t＝u处的瞬时速度． (1) s(t)＝； (2) s(t)＝2t^2^－5t＋c； (3) s(t)＝5＋3t－. 【解析】 (1) v1＝＝＝gu＋，v2＝＝＝gu－， 当d→0时，v1＝v2→gu，它在t＝u处的瞬时速度为gu. (2) v1＝ ＝＝4u＋2d－5， v2＝ ＝＝4u－2d－5， 当d→0时，v1＝v2→4u－5，它在t＝u处的瞬时速度为4u－5. (3) v1＝ ＝＝3－gu－d， v2＝ ＝＝3－gu＋d， 当d→0时，v1＝v2→3－gu，它在t＝u处的瞬时速度为3－gu. {width=”2.1104166666666666in”height=”0.3388888888888889in”} 1. 水波的半径以0.5 m/s的速度向外扩张，当半径为2.5m时，圆面积的膨胀率是________m^2^/s. 【答案】 2.5π 【解析】 水波的半径以v＝0.5 m/s的速度向外扩张，则水波的面积为s＝πr^2^＝π(vt)^2^＝0.25πt^2,^当半径为2.5 m时，t＝＝5 s，此时水波面积的膨胀率是 2.5π m^2^/s. 2.2019年10月，宁启铁路线新开行”绿巨人”动力集中复兴号动车组，最高时速为160km/h.假设”绿巨人”开出站一段时间内，速度v(单位：m/s)与行驶时间t(单位：s)的关系为v＝0.4t＋0.6t^2^，则出站后”绿巨人”速度首次达到24m/s时加速度为________m/s^2^. 【答案】 7.6 【解析】根据题意，v＝0.4t＋0.6t^2^，若v＝0.4t＋0.6t^2^＝24，解得t＝6或－(舍去)，则t＝6.又由v＝0.4t＋0.6t^2^，则＝0.4＋1.2t，所以当t＝6时的加速度为7.6m/s^2^.即此时”绿巨人”的加速度为 7.6 m/s^2^."},{"title":"","date":"2022-02-20T06:40:28.287Z","updated":"2022-02-20T06:26:49.125Z","comments":true,"path":"resources/4.5/5.2.3.html","permalink":"https://billma.top/resources/4.5/5.2.3.html","excerpt":"","text":"{width=”7.638888888888889e-3in”height=”0.3229166666666667in”}第3课时 简单复合函数的导数 {width=”2.1104166666666666in”height=”0.33055555555555555in”} 类型1 简单复合函数的导数 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 求下列各函数的导数： (1) y＝ln (3x－2)； (2) f(x)＝e^－2x＋1^＋e^x^＋e^2^； (3) y＝； (4) f(x)＝ln^2^x－2ln x＋3. 【解析】(1) y′＝·(3x－2)′＝； (2)f′(x)＝e^－2x＋1^·(－2x＋1)′＋e^x^＝－2e^－2x＋1^＋e^x^. (3) y′＝·(1－2x^2^)′＝－. (4) f(x)＝ln ^2^x－2ln x＋3＝(ln x－1)^2^＋2， 所以f′(x)＝×2(ln x－1)＝. 规律总结：某些较复杂的函数可以先进行整理，比如化为简单的复合函数，利用复合函数的求导法则求其导数． 类型2 利用复合函数的导数求曲线在某点处的切线 {width=”0.22847222222222222in”height=”0.13402777777777777in”} (1)若曲线y＝e^2x＋1^在点(x0，e2x0＋1)处的切线方程为2ex－y＋e＝0，则x0＝________． 【答案】 0 【解析】 y′＝2e^2x＋1^，所以2e2x0＋1＝2e，得x0＝0. (2)设曲线y＝e^－x^(x≥0)在点M(t，e^－t^)(t≥0)处的切线l与x轴、y轴所围成的三角形面积为S(t)，则S(t)的解析式为________． 【答案】 S(t)＝(t＋1)^2^e^－t^(t≥0) 【解析】对y＝e^－x^求导可得y′＝f′(x)＝(e^－x^)′＝－e^－x^， 故切线l在点M(t，e^－t^)处的斜率为f′(t)＝－e^－t^， 故切线l的方程为y－e^－t^＝－e^－t^(x－t)，即e^－t^x＋y－e^－t^(t＋1)＝0. 令y＝0，得x＝t＋1；令x＝0，得y＝e^－t^(t＋1), 所以S(t)＝(t＋1)·e^－t^(t＋1)＝(t＋1)^2^e^－t^(t≥0). 类型3 复合函数导数的实际应用 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 某港口在一天24h内潮水的高度近似满足函数关系S(t)＝3sin(0≤t≤24)，其中S的单位是m，t的单位是h，求18点时潮水起落的速度． 【解析】 因为S′(t)＝3cos ×＝cos ，所以S′(18)＝cos (×18＋)＝cos＝cos ＝，所以18点时潮水起落的速度是m/h. 规律总结：对三角函数型函数的求导，往往需要利用三角恒等变换公式，对函数式进行化简，再进行求导．复合函数的求导法则熟悉后，中间步骤可以省略，即不必再写出函数的复合过程，直接运用公式，从外层开始由外到内逐层求导． {width=”2.1180555555555554in”height=”0.3388888888888889in”} 一、 单项选择题 1. 函数y＝cos (2x＋1)的导数是( ) A. y′＝sin (2x＋1) B. y′＝－2x sin (2x＋1) C. y′＝－2sin (2x＋1) D. y′＝2x sin (2x＋1) 【答案】 C 【解析】 y′＝－sin (2x＋1)(2x＋1)′＝－2sin (2x＋1). 2. 设f(x)＝ln (2x－1)，若f(x)在x＝x0处的导数f′(x0)＝1，则x0的值为( ) A. B. C. 1 D. 【答案】 B 【解析】 由f(x)＝ln (2x－1)，得f′(x)＝. 由f′(x0)＝＝1，解得x0＝. 3.随着科学技术的发展，放射性同位素技术已经广泛应用于医学、航天等众多领域，并取得了显著经济效益．假设某放射性同位素的衰变过程中，其含量N(单位：贝克)与时间t(单位：天)满足函数关系P(t)＝P0·2^－^，其中P0为t＝0时该放射性同位素的含量．已知t＝15时，该放射性同位素的瞬时变化率为－，则该放射性同位素含量为4.5贝克时衰变所需时间为( ) A. 20天 B. 30天 C. 45天 D. 60天 【答案】 D 【解析】 由P(t)＝P0·2^－^得P′(t)＝－·P0·2^－^ln2.因为t＝15时，该放射性同位素的瞬时变化率为－，所以P′(15)＝－P0＝－，解得P0＝18，则P(t)＝18·2^－^．当该放射性同位素含量为4.5贝克，即P(t)＝4.5时，由18·2^－^＝4.5，得2^－^＝，所以－＝－2，解得t＝60. 4.设a∈R，函数f(x)＝e^x^＋a·e^－x^的导函数是f′(x)，且f′(x)是奇函数．若曲线y＝f(x)的一条切线的斜率是，则切点的横坐标为( ) A. ln 2 B. －ln 2 C. D. － 【答案】 A 【解析】对f(x)＝e^x^＋a·e^－x^求导得f′(x)＝e^x^－ae^－x^.又f′(x)是奇函数，故f′(0)＝1－a＝0，解得a＝1，故f′(x)＝e^x^－e^－x^.设切点为(x0，y0)，则f′(x0)＝ex0－e－x0＝，得ex0＝2或ex0＝－(舍去)，得x0＝ln2. 二、 多项选择题 5. 下列函数求导正确的是( ) A. 若f(x)＝，则f′(x)＝ B. 若f(x)＝e^2x^，则f′(x)＝e^2x^ C. 若f(x)＝，则f′(x)＝ D. 若f(x)＝cos ，则f′(x)＝－sin 【答案】 AC 【解析】若f(x)＝，则f′(x)＝＝，故A正确；若f(x)＝e^2x^，则f′(x)＝e^2x^·(2x)′＝2e^2x^，故B错误；若f(x)＝，则f′(x)＝·(2x－1)^－1^·(2x－1)′＝，故C正确；若f(x)＝cos，则f′(x)＝ －sin ·′＝－2sin (2x－)，故D错误． 6. 以下函数求导正确的是( ) A. 函数f(x)＝(x＋1)^2^(x－1)在x＝1处的导数等于4 B. 函数f(x)＝(1－2x^3^)^10^在x＝1处的导数等于32 C. 函数f(x)＝x ln (2x＋5)在x＝1处的导数等于ln 7 D. 函数f(x)＝xe^x－1^在x＝1处的导数等于2 【答案】 AD 【解析】对于A，f′(x)＝[(x＋1)^2^]′(x－1)＋(x＋1)^2^·(x－1)′＝2(x＋1)(x－1)＋(x＋1)^2^＝3x^2^＋2x－1，所以f′(1)＝4，故A正确；对于B，f′(x)＝10(1－2x^3^)^9^(－6x^2^)，所以f′(1)＝10(1－2)^9^(－6)＝60，故B错误；对于C，f′(x)＝[xln (2x＋5)]′＝x′ln (2x＋5)＋x[ln (2x＋5)]′＝ln(2x＋5)＋x··(2x＋5)′＝ln (2x＋5)＋，f′(1)＝ln7＋，故C错误；对于D，f′(x)＝e^x－1^＋xe^x－1^＝(x＋1)e^x－1^，f′(1)＝(1＋1)e^1－1^＝2，故D正确． 7. 下列判断正确的是( ) A. 曲线f(x)＝ln (x－1)在点(2，0)处的切线的倾斜角是 B. 曲线f(x)＝在点(2，1)处的切线的倾斜角是 C. 曲线f(x)＝e^x－1^在点(2，e)处的切线方程是ex－y－e＝0 D. 曲线f(x)＝(x－1)^5^在点(2，1)处的切线与直线x＋5y＝0互相垂直 【答案】 ACD 【解析】选项A，f′(x)＝，f′(2)＝1，所以倾斜角θ＝，故A正确；选项B，f′(x)＝－，f′(2)＝－1，所以倾斜角θ＝，故B错误；选项C，f′(x)＝ e^x－1^，f′(2)＝e，所以切线方程为ex－y－e＝0，故C正确；选项D，f′(x)＝5(x－1)^4^， f′(2)＝5，所以D正确． 三、 填空题 8. 若函数f(x)＝e^ax^＋ln(x＋1)，f′(0)＝4，则a＝________． 【答案】 3 【解析】 由f(x)＝e^ax^＋ln(x＋1)，得f′(x)＝ae^ax^＋，因为f′(0)＝4，所以f′(0)＝a＋1＝4，所以a＝3. 9.已知f(x)＝x^3^，则f′(2x＋3)＝________，[f(2x＋3)]′＝________． 【答案】 3(2x＋3)^2^ 6(2x＋3)^2^ 【解析】因为f(x)＝x^3^，所以f′(x)＝3x^2^，则f′(2x＋3)＝3(2x＋3)^2^.设t＝2x＋3，f(2x＋3)＝f(t)，则t′＝2，则[f(2x＋3)]′＝2×3(2x＋3)^2^＝6(2x＋3)^2^. 10. 曲线f(x)＝(1－x)^2^＋3ln(2＋x)在点(1，f(1))处的切线的斜率为________． 【答案】 1 【解析】 f(x)＝(1－x)^2^＋3ln(2＋x)(x＞－2)，f′(x)＝2x－2＋＝，所以k＝f′(1)＝1. 四、 解答题 11. 求下列函数的导数： (1) f(x)＝(3x^2^＋1)(2－x)； (2) f(x)＝x^2^ln (2x)； (3) f(x)＝ln (2x－1)^3^. 【解析】 (1)f′(x)＝6x(2－x)＋(3x^2^＋1)×(－1)＝－9x^2^＋12x－1； (2) f′(x)＝2x ln (2x)＋x^2^×＝x[2ln (2x)＋1]； (3) 因为f(x)＝3ln (2x－1)，所以f′(x)＝. 12. 已知函数f(x)＝ln(x＋1)－ax的图象在x＝2处的切线与直线2x＋3y＋1＝0平行， (1) 求a的值； (2)求曲线g(x)＝f(x)＋x上到直线y＝x＋3距离最小的点的坐标，并求出该最小值． 【解析】 (1) 由f(x)＝ln(x＋1)－ax，得f′(x)＝－a，因为函数f(x)的图象在x＝2处的切线与直线2x＋3y＋1＝0平行，所以f′(2)＝－a＝－，所以a＝1. (2) g(x)＝ln(x＋1)，g′(x)＝，令g′(x)＝＝1，得x＝0，则曲线g(x)在点(0，0)处的切线方程为x－y＝0，即点(0，0)到直线y＝x＋3的距离最小，最小距离d＝＝. {width=”2.1020833333333333in”height=”0.3388888888888889in”} 1.在对函数y＝[f(x)]^g(x)^求导时可运用对数法：在解析式两边同时取对数，得到lny＝g(x)·ln f(x)，然后两边同时求导，得＝g′(x)lnf(x)＋g(x)，于是y′＝[f(x)]^g(x)^·[g′(x)lnf(x)＋g(x)·].用此法探求y＝(x＋1)(x&gt;0)的导数为________． 【答案】 y′＝[1－ln (x＋1)]·(x＋1) 【解析】 由y＝(x＋1)(x&gt;0)， 两边同时取对数，得ln y＝ln (x＋1)， 两边同时求导，得＝ln (x＋1)＋×＝[1－ln (x＋1)]，所以y′＝[1－ln(x＋1)]·(x＋1)．"},{"title":"","date":"2022-02-20T06:40:28.287Z","updated":"2022-02-20T06:26:48.843Z","comments":true,"path":"resources/4.5/5.2.2.html","permalink":"https://billma.top/resources/4.5/5.2.2.html","excerpt":"","text":"{width=”7.638888888888889e-3in”height=”0.3229166666666667in”}第2课时 导数的四则运算法则 {width=”2.1104166666666666in”height=”0.33055555555555555in”} 类型1 两个函数和、差的导数 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 求下列函数的导数： (1) y＝x^－2^＋x^2^； (2) y＝x^2^－4sin cos . 【解析】 (1) y′＝2x－2x^－3^. (2) 因为y＝x^2^－4sin cos ＝x^2^－2sin x， 所以y′＝2x－2cos x. {width=”0.27569444444444446in”height=”0.12569444444444444in”} (1)若函数f(x)的导函数为f′(x)，且满足f(x)＝2f′(1) lnx＋2x，则f′(1)＝________，f′(2)＝________． 【答案】 －2 0 【解析】 因为f(x)＝2f′(1) ln x＋2x，则有f′(x)＝2f′(1)·＋2，故f′(1)＝2f′(1)＋2，解得f′(1)＝－2，f′(x)＝－＋2，所以f′(2)＝0. (2) 已知f′(x)为函数f(x)＝ax－b lnx的导函数，且满足f′(1)＝0，f′(－1)＝2，则f′(2)等于( ) A. 1 B. － C. D. 【答案】 C 【解析】 因为f′(x)为函数f(x)＝ax－b lnx的导函数，所以f′(x)＝a－.若f′(1)＝0， f′(－1)＝2，则a－b＝0，a＋b＝2，解得a＝1，b＝1，所以f′(x)＝1－，所以f′(2)＝. 规律总结：函数关系式中含有f′(x0)，首先认清f′(x0)为常数，进而求导赋值计算． 类型2 两个函数积、商的导数 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 求下列函数的导数： (1) y＝(2x^2^＋3)(3x－1)； (2) y＝3^x^e^x^－2^x^＋e； (3) y＝. 【解析】 (1)方法一：y′＝(2x^2^＋3)′(3x－1)＋(2x^2^＋3)·(3x－1)′＝4x(3x－1)＋3(2x^2^＋3)＝18x^2^－4x＋9. 方法二：因为y＝(2x^2^＋3)(3x－1)＝6x^3^－2x^2^＋9x－3， 所以y′＝(6x^3^－2x^2^＋9x－3)′＝18x^2^－4x＋9. (2) y′＝(ln 3＋1)·(3e)^x^－2^x^ ln 2. (3) y′＝. {width=”0.27569444444444446in”height=”0.12569444444444444in”} (1)若函数f(x)＝在x＝a处的导数值与函数值互为相反数，则a的值为________． 【答案】 【解析】因为f(x)＝，所以f(a)＝.又因为f′(x)＝′＝，所以f′(a)＝.由题意知f(a)＋f′(a)＝0，所以＋＝0，所以2a－1＝0，所以a＝. (2) 函数y＝2x(ln x＋1)在x＝1处的切线方程为( ) A. y＝4x＋2 B. y＝2x－4 C. y＝4x－2 D. y＝2x＋4 【答案】 C 【解析】 由已知得y′＝2(ln x＋1)＋2x·＝2lnx＋4，则y′|x＝1＝4.又当x＝1时，y＝2，则切线方程为y＝4x－2. {width=”2.1180555555555554in”height=”0.3388888888888889in”} 一、 单项选择题 1. 若函数f(x)＝(x－1)ln x，则f′(1)等于( ) A. －1 B. 0 C. 1 D. e 【答案】 B 【解析】 因为f′(x)＝ln x＋，所以f′(1)＝0. 2. 已知f(x)＝x(2 021＋ln x)，若f′(x0)＝2022，则x0等于( ) A. e^2^ B. 1 C. ln 2 D. e 【答案】 B 【解析】 f′(x)＝2 021＋ln x＋1＝ln x＋2 022，因为f′(x0)＝2022，所以f′(x0)＝ln x0＋2 022＝2 022，所以lnx0＝0，所以x0＝1. 3. 已知函数f(x)＝2x＋3f′(0)·e^x^，则f′(1)等于( ) A. e B. 3－2e C. 2－3e D. 2＋3e 【答案】 C 【解析】f′(x)＝2＋3f′(0)·e^x^，所以f′(0)＝2＋3f′(0)，解得f′(0)＝－1，所以f′(x)＝2－3e^x^，所以f′(1)＝2－3e. 4. 已知函数f(x)＝＋x^3^，其导函数为f′(x)，则f(2020)＋f(－2 020)＋f′(2 021)－f′(－2 021)的值为( ) A. 1 B. 2 C. 3 D. 4 【答案】 C 【解析】f′(x)＝＋3x^2^，f′(－x)＝＋3(－x)^2^＝＋3x^2^，所以f′(x)为偶函数，所以f′(2021)－f′(－2021)＝0.因为f(x)＋f(－x)＝＋x^3^＋－x^3^＝＋＝3，所以f(2020)＋f(－2 020)＝3，所以f(2 020)＋f(－2 020)＋f′(2021)－f′(－2 021)＝3. 二、 多项选择题 5. 在下列函数中，求导正确的有( ) A. f(x)＝x^2^－1，则f′(x)＝2x B. g(x)＝x ln x＋1，则g′(x)＝ln x＋ C. h(x)＝，则h′(x)＝－ D. φ(x)＝x sin x＋cos x，则φ′(x)＝－x cos x 【答案】 AC 【解析】 f′(x)＝(x^2^)′－1′＝2x，故选项A正确；g′(x)＝x′lnx＋x(ln x)′＝ln x＋x·＝lnx＋1，故选项B不正确；h′(x)＝＝－，故选项C正确；φ′(x)＝x′sinx＋x(sin x)′＋(cos x)′＝sin x＋x cos x－sin x＝x cosx，故选项D不正确． 6.若函数f(x)的导函数f′(x)的图象关于y轴对称，则f(x)的解析式可能为( ) A. f(x)＝3cos x B. f(x)＝x^3^＋x C. f(x)＝x＋ D. f(x)＝e^x^＋x 【答案】 BC 【解析】 根据题意，依次分析选项：对于A，f(x)＝3cosx，其导函数f′(x)＝－3sinx，它为奇函数，图象不关于y轴对称，不符合题意；对于B，f(x)＝x^3^＋x，其导函数f′(x)＝3x^2^＋1，它为偶函数，图象关于y轴对称，符合题意；对于C，f(x)＝x＋，其导函数f′(x)＝1－，它为偶函数，图象关于y轴对称，符合题意；对于D，f(x)＝e^x^＋x，其导函数f′(x)＝e^x^＋1，它不是偶函数，图象不关于y轴对称，不符合题意． 7. 下列函数在点x＝0处有切线的是( ) A. f(x)＝3x^2^＋cos x B. g(x)＝x·sin x C. h(x)＝＋2x D. w(x)＝ 【答案】 ABD 【解析】 f′(x)＝6x－sinx，f′(0)＝0，此时切线的斜率为0，故在点x＝0处有切线．g′(x)＝sinx＋x cosx，g′(0)＝0，此时切线的斜率为0，故在点x＝0处有切线．h′(x)＝－＋2，在x＝0处不可导，则在x＝0处没有切线．w′(x)＝，w′(0)＝0，此时切线的斜率为0，故在点x＝0处有切线． 三、填空题 8.已知函数f(x)＝＋，则f(x)在x＝2处的导数f′(2)＝________． 【答案】 2 【解析】 因为f(x)＝＋＝，所以f′(x)＝，所以f′(2)＝2. 9.满足”若f′(x)为偶函数，则f(x)为奇函数”为假命题的一个函数是________． 【答案】 答案不唯一，如f(x)＝x^3^＋1. 10.已知函数f(x)的导函数为f′(x)，记f1(x)＝f′(x)，f2(x)＝f′1(x)，…，fn＋1(x)＝f′*n(x)(n∈N^*^).若f*(x)＝xsin x，则f2\\ 021(x)＋f2\\ 023(x)＝________． 【答案】 －2sin x 【解析】 f(x)＝x sin x，则f1(x)＝f′(x)＝sin x＋xcos x，f2(x)＝f′1(x)＝cos x＋cos x－x sin x＝2cosx－x sin x，f3(x)＝f′2(x)＝－2sin x－sin x－xcos x＝－3sin x－x cos x，f4(x)＝f′3(x)＝－3cosx－cos x＋x sin x＝－4cos x＋x sinx，f5(x)＝f′4(x)＝4sin x＋sin x＋x cos x＝5sinx＋x cos x，f6(x)＝f′5(x)＝5cos x＋cos x－x sinx＝6cos x－x sin x，f7(x)＝f′6(x)＝－6sin x－sinx－x cos x＝－7sin x－x cosx，…，则f1(x)＋f3(x)＝sin x＋x cos x－3sinx－x cos x＝－2sin x，f3(x)＋f5(x)＝－3sin x－xcos x＋5sin x＋x cos x＝2sin x，f5(x)＋f7(x)＝5sinx＋x cos x－7sin x－x cos x＝－2sinx，即f4n＋1(x)＋f4n＋3(x)＝－2sinx，f4n＋3(x)＋f4n＋5(x)＝2sinx，则f2\\ 021(x)＋f2\\ 023(x)＝－2sin x. 四、 解答题 11. 已知曲线f(x)＝＋a ln x＋lna在x＝1处的切线与直线x＋3y＋1＝0垂直． (1) 求实数a的值； (2) 记g(x)＝f′(x)，求g′(1). 【解析】 (1) 根据题意，f(x)＝＋a ln x＋ln a， f′(x)＝－＋，则有f′(1)＝a－1. 即曲线f(x)在x＝1处的切线的斜率k＝a－1， 若曲线f(x)在x＝1处的切线与直线x＋3y＋1＝0垂直，则k＝a－1＝3，解得a＝4. (2)由(1)知g(x)＝－＋，所以g′(x)＝2x^－3^－4x^－2^，故g′(1)＝－2. 12.已知a，b，c∈R，函数f(x)＝(x－a)(x－b)(x－c)的导函数为f′(x). (1) 若b＝c，求曲线y＝f(x)在点(b，f(b))处的切线方程； (2) 求＋＋的值． 【解析】 (1) 若b＝c，则f(x)＝(x－a)(x－b)^2^， 所以f′(x)＝(x－b)^2^＋(x－a)·2(x－b)， 则f′(b)＝(b－b)^2^＋(b－a)·2(b－b)＝0， 即曲线y＝f(x)在点(b，f(b))处的切线斜率为0. 又因为f(b)＝(b－a)(b－b)^2^＝0， 所以所求切线方程为y＝0. (2) 由f(x)＝(x－a)(x－b)(x－c)得 f′(x)＝(x－b)(x－c)＋(x－a)[(x－b)(x－c)]′＝(x－b)(x－c)＋(x－a)(x－c)＋(x－a)(x－b)， 所以f′(a)＝(a－b)(a－c)，f′(b)＝(b－a)(b－c)， f′(c)＝(c－a)(c－b)， 因此＋＋ ＝＋＋ ＝·＋ ＝·＋ ＝－＋＝0. {width=”2.1020833333333333in”height=”0.3388888888888889in”} 1.已知三次函数f(x)＝ax^3^＋bx^2^＋cx＋d(a≠0)的图象的对称中心为点M(x0，y0)，且点M在函数y＝f(x)的图象上，记函数f(x)的导函数为f′(x)，f′(x)的导函数为f″(x)，则有f″(x0)＝0.若函数f(x)＝x^3^－3x^2^，则可得f＋f＋…＋f＋f等于( ) A. 4 043 B. －4 043 C. 8 086 D. －8 086 【答案】 D 【解析】f′(x)＝3x^2^－6x，f″(x)＝6x－6，由f″(x0)＝0，得x0＝1，而f(1)＝－2，故函数f(x)＝x^3^－3x^2^关于点(1，－2)对称，即f(x)＋f(2－x)＝－4.所以f＋f＋…＋f＋f＝[f＋f]＋[f＋f]＋…＋[f＋f]＋f＝－4×2021＋(－2)＝－8 086."},{"title":"","date":"2022-02-20T06:40:28.287Z","updated":"2022-02-20T06:26:49.412Z","comments":true,"path":"resources/4.5/5.3.1.html","permalink":"https://billma.top/resources/4.5/5.3.1.html","excerpt":"","text":"5.3 导数在研究函数中的应用 {width=”7.638888888888889e-3in”height=”0.3229166666666667in”}第1课时 函数的单调性 {width=”2.1104166666666666in”height=”0.33055555555555555in”} 类型1 利用导数证明函数单调性 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 求证：函数f(x)＝－2lnx＋x^2^在(1，＋∞)上是增函数． 【证明】f′(x)＝＋2x＝，因为x&gt;1，所以(x＋1)(x－1)&gt;0，即在区间(1，＋∞)上，f′(x)&gt;0恒成立，故函数f(x)＝－2lnx＋x^2^在(1，＋∞)上是增函数． 类型2 识图问题 {width=”0.22847222222222222in”height=”0.13402777777777777in”} (1)若f(x)的导函数f′(x)的图象如图所示，则函数f(x)的图象最有可能是图中的( ) {width=”1.1652777777777779in”height=”0.8506944444444444in”} (例2(1)) {width=”0.96875in”height=”0.5194444444444445in”}A.{width=”1.0472222222222223in”height=”0.5194444444444445in”}B.{width=”0.8347222222222223in”height=”0.48055555555555557in”}C.{width=”0.9840277777777777in”height=”0.5513888888888889in”}D. 【答案】 A 【解析】由f′(x)的图象可知，当x∈(－∞，－2)∪(0，＋∞)时，f′(x)&lt;0；当x∈(－2，0)时，f′(x)&gt;0，所以f(x)在(－∞，－2)和(0，＋∞)上单调递减，在(－2，0)上单调递增，可排除B，C，D.故选A. (2)已知函数f(x)的导函数为f′(x)，若y＝f′(x)的图象如图所示，则函数y＝f(x)的图象可能是( ) {width=”0.8423611111111111in”height=”0.7951388888888888in”} (例2(2)) {width=”0.8979166666666667in”height=”0.6847222222222222in”}A.{width=”0.8979166666666667in”height=”0.6847222222222222in”}B.{width=”0.8895833333333333in”height=”0.6847222222222222in”}C.{width=”0.8979166666666667in”height=”0.6847222222222222in”}D. 【答案】 D 【解析】由导函数的图象可得：当x&lt;0时，f′(x)&lt;0，所以f(x)在(－∞，0)上单调递减，排除选项A，B*；当x&gt;0时，f′(x)先正后负，所以f(x)在(0，＋∞)上先增后减，因为选项C中的图象是先减后增再减，故排除选项C*. 类型3 利用导数求单调区间 {width=”0.22847222222222222in”height=”0.13402777777777777in”} (1)函数f(x)＝－x^3^＋4x^2^－4x的单调增区间是( ) A. B. C. D. 【答案】 C 【解析】由f(x)＝－x^3^＋4x^2^－4x，得f′(x)＝－3x^2^＋8x－4，由f′(x)＝－3x^2^＋8x－4&gt;0，得3x^2^－8x＋4&lt;0，解得&lt;x&lt;2，因此函数f(x)＝－x^3^＋4x^2^－4x的单调增区间是. (2) 函数f(x)＝x＋＋3ln x的单调减区间是________． 【答案】 (0，1) 【解析】 函数f(x)＝x＋＋3lnx的定义域为(0，＋∞)，f′(x)＝1－＋＝＝，令f′(x)&lt;0，得0&lt;x&lt;1，故函数f(x)的单调减区间是(0，1). 规律总结：求函数单调区间，首先确定函数的定义域，再令f′(x)&gt;0解得单调增区间，令f′(x)&lt;0解得单调减区间． 类型3 含参函数的单调性 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 已知函数f(x)＝lnx－(a＋2)x＋ax^2^(a∈R)，讨论 f(x)的单调区间． 【解析】 f(x)＝lnx－(a＋2)x＋ax^2^的定义域为(0，＋∞)，f′(x)＝－(a＋2)＋2ax＝＝. ①当a≤0时，f(x)与f′(x)在(0，＋∞)上的变化情况如下表： x f′(x) ＋ 0 － f(x) 增 减 所以f(x)在内单调递增，在内单调递减． ②当0&lt;a&lt;2时，f(x)与f′(x)在(0，＋∞)上的变化情况如下表： x f′(x) ＋ 0 － 0 ＋ f(x) 增 减 增 所以f(x)在，内单调递增，在内单调递减． ③当a＝2时，f′(x)≥0，所以f(x)在(0，＋∞)上单调递增． ④当a&gt;2时，f(x)与f′(x)在(0，＋∞)上的变化情况如下表： x f′(x) ＋ 0 － 0 ＋ f(x) 增 减 增 所以f(x)在，内单调递增，在内单调递减． 规律总结：含参函数单调性的讨论，一般包括f′(x)＝0是否有解、有几个解、解是否在定义域内、解的大小等情况． {width=”2.1180555555555554in”height=”0.3388888888888889in”} 一、 单项选择题 1. 函数y＝4x^2^＋的单调增区间是( ) A. (0，＋∞) B. (－∞，1) C. D. (1，＋∞) 【答案】 C 【解析】令y′＝8x－＝&gt;0，即(2x－1)(4x^2^＋2x＋1)&gt;0，解得x&gt;. 2.已知函数f(x)＝x^2^e^x^，x∈[－1，1]，则f(x)的单调增区间是( ) A. [0，＋∞) B. (0，1] C. (－∞，－2) D. (－1，0) 【答案】 B 【解析】f(x)＝x^2^e^x^，f′(x)＝2xe^x^＋x^2^e^x^＝(x^2^＋2x)e^x^，由f′(x)&gt;0x&gt;0或x&lt;－2.因为函数f(x)的定义域为[－1，1]，结合选项，所以函数f(x)的单调增区间为(0，1]. 3. 函数f(x)＝x^2^－ln x的单调减区间为( ) A. B. C. D. 【答案】 C 【解析】 因为f(x)＝x^2^－lnx(x&gt;0)，所以f′(x)＝x－＝，当f′(x)&lt;0时，解得0&lt;x&lt;，则函数f(x)＝x^2^－lnx的单调减区间为. 4.若函数y＝f′(x)的图象如图所示，则函数y＝f(x)的图象可能是( ) {width=”0.7875in”height=”0.7243055555555555in”}(第4题) {width=”0.5826388888888889in”height=”0.5354166666666667in”}A. {width=”0.5277777777777778in”height=”0.5354166666666667in”}B. {width=”0.5041666666666667in”height=”0.5430555555555555in”}C. {width=”0.4486111111111111in”height=”0.5118055555555555in”}D. 【答案】 C 【解析】由y＝f′(x)的图象可知，y＝f(x)在(－∞，b)上单调递增，排除选项A和D.因为f′(0)＝0，所以y＝f(x)在x＝0处的切线斜率为0，排除选项B. 二、 多项选择题 5. 判断函数y＝x cos x－sin x在下面哪个区间内是增函数( ) A. B. C. D. 【答案】 CD 【解析】 y′＝cos x－x sin x－cos x＝－x sinx，欲使导数为正，只需x与sinx符号相反，分析四个选项知，C，D选项符合条件． 6.已知函数y＝f(x)在定义域内可导，其图象如图所示，记y＝f(x)的导函数为y＝f′(x)，则能使不等式f′(x)&lt;0成立的有( ) {width=”1.4958333333333333in”height=”0.8819444444444444in”} (第6题) A. B. C. D. 【答案】 BCD 【解析】 能使f′(x)&lt;0的区间是y＝f(x)的单调减区间的子集，故选BCD. 7. 下列函数在定义域内是增函数的有( ) A. y＝x B. y＝ C. y＝2^x^－2^－x^ D. y＝x^2^－2x＋ln x 【答案】 ACD 【解析】因为&gt;0，所以y＝x单调递增，又因为y＝x为奇函数，所以y＝x在R上单调递增，故选项A正确．当x≤－1时，y＝＝2－在(－∞，－1]上单调递增；当x&gt;－1时，y＝x^2^＋4x＋3在(－1，＋∞)上单调递增，但2－&gt;(－1)^2^＋4×(－1)＋3，所以y＝在R上不是单调增函数，故选项B不正确．y＝2^x^在R上单调递增，y＝－2^－x^在R上单调递增，所以y＝2^x^－2^－x^在R上单调递增，故选项C正确．y′＝x－2＋＝≥0恒成立，所以y＝x^2^－2x＋lnx在(0，＋∞)上单调递增，故选项D正确． 三、 填空题 8.已知函数f(x)＝(x－4)e^x^＋1，则f(x)的单调增区间是________． 【答案】 (3，＋∞) 【解析】f′(x)＝(x－3)e^x^，由f′(x)＝0，得x＝3.当x&lt;3时，f*′(x)&lt;0；当*x*&gt;3时，f′(x)&gt;0，故f*(x)在(－∞，3)上单调递减，在(3，＋∞)上单调递增． 9. 已知函数f(x)＝2x^2^－lnx，若f(x)在区间(2m，m＋1)上单调递增，则实数m的取值范围是________． 【答案】 【解析】 因为f(x)＝2x^2^－lnx的定义域为(0，＋∞)，f′(x)＝4x－，由f′(x)&gt;0，得4x－&gt;0，解得x&gt;，所以f(x)的增区间为.由于f(x)在区间(2m，m＋1)上单调递增，则(2m，m＋1)，所以解得≤m&lt;1.因此，实数m的取值范围是. 10.已知函数f(x)＝e^x^－e^－x^－e(e为自然对数的底数)，则关于x的不等式f(x＋1)&gt;f(－2x)的解集为________． 【答案】 【解析】因为f′(x)＝e^x^＋e^－x^&gt;0，所以函数f(x)为R上的增函数，所以x＋1&gt;－2x，所以x&gt;－.所以原不等式的解集为. 四、 解答题 11. 已知函数f(x)＝x＋ax^2^＋3lnx，曲线y＝f(x)过点P(1，0). (1) 求函数f(x)的解析式； (2) 求函数f(x)的单调区间． 【解析】 (1) 由f(x)＝x＋ax^2^＋3lnx过点P(1，0)，得1＋a＝0，即a＝－1，所以f(x)＝x－x^2^＋3lnx. (2) 由(1)知f′(x)＝1－2x＋＝＝(x&gt;0). 令f′(x)&gt;0，得0&lt;*x*&lt;；令*f*′(*x*)&lt;0，得*x*&gt;， 所以f(x)在上单调递增，在上单调递减． 12. 已知函数f(x)＝x^2^－(2a＋1)x＋a ln x(a&gt;0). (1) 当a＝1时，求曲线y＝f(x)在点(1，f(1))处的切线方程； (2) 求f(x)的单调区间． 【解析】 (1) 因为a＝1，所以f(x)＝x^2^－3x＋ln x， 所以f′(x)＝(x&gt;0).又因为f(1)＝－2，f′(1)＝0，所以所求切线方程为y＝－2. (2) f′(x)＝＝(x&gt;0)，令f′(x)＝0，得x1＝a，x2＝. 当0&lt;a*&lt;时，由*f*′(*x*)&gt;0，解得x∈(0，a*)或x∈； 由f′(x)&lt;0，解得x∈. 所以f(x)的单调增区间为(0，a)和，单调减区间为. 当a＝时，f′(x)＝≥0，所以f(x)的单调增区间为(0，＋∞)，无单调减区间． 当a&gt;时，由f′(x)&gt;0，解得x∈或x∈(a，＋∞)；由f′(x)&lt;0，解得x∈， 所以f(x)的单调增区间为和(a，＋∞)，单调减区间为. 综上，当0&lt;a&lt;时，f(x)的单调增区间为(0，a)和，单调减区间为； 当a＝时，f(x)的单调增区间为(0，＋∞)，无单调减区间； 当a&gt;时，f(x)的单调增区间为和(a，＋∞)，单调减区间为. {width=”2.1256944444444446in”height=”0.3388888888888889in”} 1.若函数f(x)＝(－x^2^＋ax)e^x^在区间(－1，1)上存在减区间，则实数a的取值范围是________． 【答案】 【解析】f(x)＝(－x^2^＋ax)e^x^，则f′(x)＝e^x^(－x^2^＋ax－2x＋a)，函数f(x)＝(－x^2^＋ax)e^x^在区间(－1，1)上存在减区间，只需－x^2^＋ax＋a－2x≤0在区间(－1，1)上有解，记g(x)＝－x^2^＋(a－2)x＋a，其图象的对称轴为x＝，开口向下，g(－1)＝－1－(a－2)＋a＝1&gt;0，只需g(1)&lt;0，所以－1＋a－2＋a&lt;0，解得a&lt;."},{"title":"","date":"2022-02-20T06:40:28.287Z","updated":"2022-02-20T06:26:48.548Z","comments":true,"path":"resources/4.5/5.2.1.html","permalink":"https://billma.top/resources/4.5/5.2.1.html","excerpt":"","text":"5.2 导数的运算 {width=”7.638888888888889e-3in”height=”0.3229166666666667in”}第1课时 基本初等函数的导数 {width=”2.1104166666666666in”height=”0.33055555555555555in”} 类型1 利用公式求导数 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 求下列函数的导数： (1) f(x)＝；(2) y＝；(3) y＝. 【解析】 (1) f(x)＝＝x，所以f′(x)＝x^－^； (2) y＝＝x^－^，所以y′＝－x^－^； (3) y＝＝，所以y′＝ ln . 规律总结：求函数的导数，需要将函数化为具有公式的类型再计算． 类型2 曲线在某一点处的切线方程 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 已知直线y＝kx是曲线y＝lnx的切线，求实数k的值． 【解析】 曲线y＝ln x的导数为y′＝，设切点为P(x0，lnx0)，则过点P的切线方程为y－lnx0＝(x－x0)，代入(0，0)点，得x0＝e，所以P点坐标为(e，1)，k＝. 规律总结： 利用导数的几何意义解决切线问题的两种情况： (1) 若已知点是切点，则在该点处的切线斜率就是该点处的导数； (2)如果已知点不是切点，则应先设出切点，再借助两点连线的斜率公式进行求解． {width=”0.27569444444444446in”height=”0.12569444444444444in”} 已知曲线y＝. (1) 求曲线在点P(1，1)处的切线方程； (2) 求过点Q(1，0)的曲线的切线方程． 【解析】 因为y＝，所以y′＝－. (1) 显然点P(1，1)是曲线上的点，所以P为切点， 所求切线斜率为函数y＝在点P(1，1)处的导数， 即k＝f′(1)＝－1. 所以曲线在P(1，1)处的切线方程为y－1＝－(x－1)， 即x＋y－2＝0. (2) 显然Q(1，0)不在曲线y＝上， 则可设过该点的切线的切点为A， 那么该切线斜率为k＝f′(a)＝－. 则切线方程为y－＝－(x－a).① 将点Q(1，0)代入方程得0－＝－(1－a). 解得a＝，代入方程①整理可得切线方程为y＝－4x＋4. 类型3 导数的实际应用 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 某质点的运动方程是S(t)＝sint，则质点在t＝时的速度为________，质点运动的加速度为________． 【答案】 －sin t 【解析】 v(t)＝S′(t)＝cos t，所以v＝cos＝，即质点在t＝时的速度为.因为v(t)＝cost，所以加速度a(t)＝v′(t)＝(cos t)′＝－sin t． {width=”2.1180555555555554in”height=”0.3388888888888889in”} 一、 单项选择题 1. 函数f(x)＝的导数是( ) A. x^－1^ B. x C. x^－^ D. xln x 【答案】 C 2. 若f(x)＝3^x^，则f′(1)等于( ) A. 3 B. 3ln 3 C. D. ln 3 【答案】 B 3.已知曲线y＝x^2^在点P处的切线方程为y＝2x－1，则点P的坐标是( ) A. (1，0) B. (0，1) C. (1，1) D. (0，0) 【答案】 C 【解析】 设切点坐标为(a，a^2^)，易得2a＝2，所以a＝1. 4. 已知函数f1(x)＝sinx，fn＋1(x)＝f′*n(x)，则f*2\\ 021等于( ) A. － B. － C. D. 【答案】 D 【解析】 根据题意，函数f1(x)＝sinx，fn＋1(x)＝f′*n(x)，则f*2(x)＝f′1(x)＝cosx， f3(x)＝f′2(x)＝－sin x， f4(x)＝f′3(x)＝－cos x， f5(x)＝f′4(x)＝sin x， … 则有fn＋4(x)＝fn(x)，则f2\\ 021(x)＝f1(x)＝sinx，故f2\\ 021＝sin ＝. 二、 多项选择题 5. 下列求导运算正确的是( ) A. (cos x)′＝sin x B. (log2x)′＝ C. (2^x^)′＝2^x^log2e D. (sin x)′＝cos x 【答案】 BD 【解析】 (cos x)′＝－sin x，(log2x)′＝，(2^x^)′＝2^x^ ln2，(sin x)′＝cos x. 6. 下列结论中正确的有( ) A. y＝ln 2，则y′＝ B. y＝，则y′＝ C. y＝e^x^，则y′＝e^x^ D. y＝log2x，则y′＝ 【答案】 BCD 【解析】 若y＝ln2，则y′＝0，故选项A错误．若y＝，则y′＝x^－^＝，故选项B正确．若y＝e^x^，则y′＝e^x^，故选项C正确．若y＝log2x，则y′＝，故选项D正确． 7. 下列函数f(x)中，满足f′(x)＝0有实数解的有( ) A. f(x)＝x B. f(x)＝sin x C. f(x)＝x D. f(x)＝x 【答案】 BD 三、 填空题 8.某质点的运动方程是s＝t^3^(s的单位：m，t的单位：s)，则质点在t＝3时的瞬时速度是________m/s. 【答案】 27 【解析】位移对时间的一阶导数是速度，为v＝＝3t^2^，则t＝3时的瞬时速度为v3＝3×3^2^＝27(m/s). 9. 已知函数f(x)＝sin x，则 ＝__________. 【答案】 －2 【解析】 根据题意， ＝2× ＝2f′(π)，又由f(x)＝sin x，则f′(x)＝cosx，则有f′(π)＝cos π＝－1，则 ＝－2. 10.与曲线y＝在点P(8，4)处的切线垂直且过点P的直线方程为________． 【答案】 3x＋y－28＝0 【解析】因为y＝，所以y′＝()′＝(x)′＝x^－^，所以在点P(8，4)处曲线的切线斜率k＝×8^－^＝.所以适合题意的切线的斜率为－3.从而适合题意的直线方程为y－4＝－3(x－8)，即3x＋y－28＝0. 四、 解答题 11. 求下列函数的导数： (1) y＝x；(2) y＝；(3) y＝； (4) y＝log2x^2^－log2x； (5) y＝－2sin . 【解析】(1) y′＝(x)′＝(x)′＝. (2) y′＝′＝(x^－4^)′＝－4x^－4－1^＝－4x^－5^＝－. (3) y′＝()′＝(x)′＝x^－^＝. (4) 因为y＝log2x^2^－log2x＝log2x， 所以y′＝(log2x)′＝. (5) 因为y＝－2sin ＝2sin(2cos^2^－1)＝2sincos ＝sin x， 所以y′＝(sin x)′＝cos x． 12.已知直线y＝e^2^x＋b是曲线f(x)＝e^x^的一条切线，求实数b的值． 【解析】曲线y＝e^x^的导数为y′＝e^x^，设切点为P(x0，ex0)，则过点P的切线方程为y－ex0＝ex0(x－x0)，即为y＝e^2^x＋b，所以e^2^＝ex0且b＝ex0(1－x0)，得x0＝2，b＝－e^2^. {width=”2.1020833333333333in”height=”0.3388888888888889in”} 1.(多选)给出定义：若函数f(x)在D上可导，即f′(x)存在，且导函数f′(x)在D上也可导，则称f(x)在D上存在二阶导函数，记f″(x)＝(f′(x))′.若f″(x)&lt;0在D上恒成立，则称f(x)在D上为凸函数．以下四个函数在上是凸函数的是( ) A. f(x)＝cos x B. f(x)＝ln x C. f(x)＝x^2^ D.f(x)＝ 【答案】 AB 【解析】 对于A，f′(x)＝－sin x，f″(x)＝－cosx.因为x∈，所以f″(x)&lt;0，f*(x)在上是凸函数，故A正确；对于B，f′(x)＝，f″(x)＝－&lt;0，故*f*(*x*)在上是凸函数，故B正确；对于C，*f*′(*x*)＝2*x*，*f*″(*x*)＝2&gt;0，故f*(x)在上不是凸函数，故C错误；对于D，f′(x)＝－，f″(x)＝&gt;0，故f(x)在上不是凸函数，故D错误．"},{"title":"","date":"2022-02-20T06:40:28.287Z","updated":"2022-02-20T06:26:49.720Z","comments":true,"path":"resources/4.5/5.3.2.html","permalink":"https://billma.top/resources/4.5/5.3.2.html","excerpt":"","text":"{width=”7.638888888888889e-3in”height=”0.3229166666666667in”}第2课时 函数单调性的应用 {width=”2.1104166666666666in”height=”0.33055555555555555in”} 类型1 已知单调区间求参数 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 已知函数f(x)＝x^3^－ax－1. (1) 若f(x)在区间(1，＋∞)上为增函数，求a的取值范围； (2) 若f(x)的单调减区间为(－1，1)，求a的值． 【解析】 (1)因为f′(x)＝3x^2^－a，且f(x)在区间(1，＋∞)上为增函数，所以f′(x)≥0在(1，＋∞)上恒成立，即3x^2^－a≥0在(1，＋∞)上恒成立，所以a≤3x^2^在(1，＋∞)上恒成立，所以a≤3，即a的取值范围是(－∞，3]. (2) 因为f(x)＝x^3^－ax－1， 所以f′(x)＝3x^2^－a，由题意知a&gt;0. 由f′(x)&lt;0，得－&lt;x&lt;， 所以f(x)的单调减区间为. 又因为f(x)的单调减区间为(－1，1)， 所以＝1，即a＝3. 规律总结：若f(x)的单调增(减)区间为D，①当区间D的端点值是f′(x)＝0的两根；②当f(x)在区间I上单调递增(减)，则可得ID或f′(x)≥0(f′(x)≤0)且f′(x)不恒为零． 类型2 利用单调性比较大小 {width=”0.22847222222222222in”height=”0.13402777777777777in”} (多选)下列判断正确的是( ) A. &gt;ln 2 B. ln 2&lt;ln C. ln 2&lt; D. 2&gt;5 【答案】 ABC 【解析】构造函数f(x)＝，所以f′(x)＝，当x∈(0，e)时，f′(x)&gt;0，函数f(x)是增函数，当x&gt;e时，f′(x)&lt;0，函数f*(x)是减函数．因为9&gt;8，所以ln9&gt;ln 8，即2ln 3&gt;3ln 2，所以&gt;ln2，所以A正确；因为e&gt;&gt;2，所以f*&gt;f(2)，所以&gt;，所以ln 2&lt; ln .所以B正确；因为f(2)&lt;f*(e)＝，所以&lt;，所以ln2&lt;，所以C正确；因为e&gt;&gt;2，所以f*()&gt;f(2)，所以&gt;，所以2ln &gt;ln2，所以ln 5&gt;ln 2，所以5&gt;2，所以D错误． 规律总结：一般利用函数单调性比较大小，需要根据所给式子结构匹配或构造到相应函数，求得单调性之后比较． 类型3 利用单调性解不等式 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 已知函数的定义域为R，f(2)＝－1，对任意x∈R，f′(x)&lt;－1，则f*(x)&gt;1－x*的解集为( ) A. (－∞，2) B. (2，＋∞) C. (－1，1) D. (1，＋∞) 【答案】 A 【解析】 令g(x)＝f(x)＋x, 因为对任意x∈R，f′(x)&lt;－1,所以g′(x)＝f*′(x)＋1&lt;0，即*g*(*x*)在R上单调递减.又因为*f*(2)＝－1，所以*g*(2)＝*f*(2)＋2＝1.由*f*(*x*)&gt;1－x，可得f*(x)＋x&gt;1，即g(x)&gt;g(2),所以x&lt;2，即不等式f*(x)&gt;1－x*的解集为(－∞，2). {width=”0.22847222222222222in”height=”0.13402777777777777in”} 设函数f′(x)是奇函数f(x)的导函数，f(－1)＝0，当x&gt;0时，xf′(x)－f(x)&lt;0，则使得f*(x)&gt;0成立的x*的取值范围是( ) A. (－1，0)∪(1，＋∞) B. (－∞，－1)∪(0，1) C. (－∞，－1)∪(－1，0) D. (0，1)∪(1，＋∞) 【答案】 B 【解析】设g(x)＝，则g′(x)＝.因为当x&gt;0时，xf′(x)－f(x)&lt;0，所以当x*&gt;0时，g′(x)&lt;0，此时函数*g*(*x*)为减函数．因为*f*(*x*)是奇函数，所以*g*(*x*)＝是偶函数，即当*x*&lt;0时，*g*(*x*)为增函数．因为*f*(－1)＝0，所以*g*(－1)＝*g*(1)＝0.当*x*&gt;0时，f*(x)&gt;0等价于g(x)＝&gt;0，即g(x)&gt;g(1)，此时0&lt;x*&lt;1.当*x*&lt;0时，*f*(*x*)&gt;0等价于g*(x)＝&lt;0，即g(x)&lt;g(－1)，此时x&lt;－1.综上，原不等式的解集为(－∞，－1)∪(0，1). 规律总结：与导函数f′(x)相关的不等关系，往往需要根据求导法则的结构特点构造新函数g(x)，将条件中的不等式转化为g′(x)的正负情况，进而借助g(x)单调性解决相关问题． {width=”2.1180555555555554in”height=”0.3388888888888889in”} 一、 单项选择题 1.已知定义域为R的函数f(x)的导函数的图象如图所示，则以下函数值的大小关系一定正确的是( ) {width=”1.3229166666666667in”height=”0.96875in”} (第1题) A. f(a)&gt;f(b)&gt;f(0) B. f(0)&lt;f(c)&lt;f(d) C. f(b)&lt;f(0)&lt;f(c) D. f(c)&lt;f(d)&lt;f(e) 【答案】 D 【解析】由函数f(x)的导函数图象可知，函数f(x)在(a，b)，(c，＋∞)上单调递增，在(b，c)上单调递减，所以f(a)&lt;f(b)，故A*错误；f(b)&gt;f(0)&gt;f(c)，故B和C错误；f(c)&lt;f(d)&lt;f(e)，故D*正确． 2. 已知函数y＝x^2^－a ln x－2x在上单调递增，则实数a的取值范围为( ) A. B. (－∞，－1] C. [1，＋∞) D. [0，1) 【答案】 B 【解析】 y′＝x－－2，若函数y＝x^2^－a lnx－2x在上单调递增，则x－－2≥0在上恒成立，即x－2≥，即a≤x^2^－2x在上恒成立．令f(x)＝x(x－2)＝(x－1)^2^－1，x∈，其图象的对称轴是x＝1，故f(x)在上单调递减，在(1，＋∞)上单调递增，故f(x)*min*＝f(1)＝－1，故a≤－1. 3. 若函数y＝x^3^＋x^2^＋mx＋2是R上的单调函数，则m的取值范围是( ) A. (－∞，1) B. (－∞，1] C. (1，＋∞) D. [1，＋∞) 【答案】 D 【解析】函数y＝x^3^＋x^2^＋mx＋2是R上的单调函数，即y′＝x^2^＋2x＋m≥0或y′＝x^2^＋2x＋m≤0(舍去)在R上恒成立，所以Δ＝4－4m≤0，解得m≥1. 4. 已知定义在R上的函数y＝f(x)满足f(－1)＝2020，且对任意的x∈R，都有f′(x)－3x^2^&gt;0成立，则不等式f(x)&lt;x^3^＋2021的解集为( ) A. (－∞，－1) B. (－1，1) C. (1，＋∞) D. (－∞，1) 【答案】 A 【解析】设g(x)＝f(x)－x^3^，则g′(x)＝f′(x)－3x^2^&gt;0，所以g(x)在R上为增函数．因为f(－1)＝2020，所以g(－1)＝f(－1)－(－1)^3^＝2021，所以不等式f(x)&lt;x^3^＋2021等价于f(x)－x^3^&lt;g(－1)，即g(x)&lt;g(－1)，所以x&lt;－1，即不等式的解集为(－∞，－1). 二、 多项选择题 5.已知函数y＝f(x)的导函数y＝f′(x)的图象如图所示，则下列结论正确的是( ) {width=”1.0472222222222223in”height=”0.8819444444444444in”} (第5题) A. 函数y＝f(x)在(－∞，0)上是增函数 B. 在(3，5)上函数f′(x)&lt;0 C. f(3)＝f(5) D. f(－1)&lt;f(3) 【答案】 BD 6.设f(x)，g(x)都是单调函数，其导函数分别为f′(x)，g′(x)，h(x)＝f(x)－g(x)，下列判断正确的是( ) A. 若f′(x)&gt;0，g′(x)&gt;0，则h(x)单调递增 B. 若f′(x)&gt;0，g′(x)&lt;0，则h(x)单调递增 C. 若f′(x)&lt;0，g′(x)&gt;0，则h(x)单调递减 D. 若f′(x)&lt;0，g′(x)&lt;0，则h(x)单调递减 【答案】 BC 【解析】f′(x)&gt;0时，函数f(x)为增函数，f′(x)&lt;0时，函数f(x)为减函数，同理g′(x)&gt;0时，函数g(x)为增函数，g′(x)&lt;0时，函数g(x)为减函数．不妨取f(x)＝2^x^，g(x)＝2^x＋1^，则满足f′(x)&gt;0，g′(x)&gt;0，h(x)＝f(x)－g(x)＝2^x^(1－2)＝－2^x^，显然h(x)是减函数，排除A选项；取f(x)＝－x，g(x)＝－2x，满足f′(x)&lt;0，g′(x)&lt;0，则h(x)＝f(x)－g(x)＝x，故h(x)是增函数，排除选项D*；当f′(x)&gt;0，g′(x)&lt;0时，函数f(x)为增函数，g(x)为减函数，则－g(x)为增函数，所以h(x)＝f(x)－g(x)为增函数，故*B*正确；当f′(x)&lt;0，g′(x)&gt;0时，f(x)为减函数，g(x)为增函数，－g(x)为减函数，所以h(x)＝f(x)－g(x)为减函数，故C*正确． 7. 以下四组不等式中错误的是( ) A. log2.8e&gt;ln 2.8 B. 0.4^0.2^&lt;0.3^0.2^ C. e^π^&gt;π^e^ D. ln 3&gt;ln π 【答案】 ABD 【解析】 因为log2.8e&lt;1，而ln*2.8&gt;1，故A错误；因为函数y＝x^0.2^在(0，＋∞)上是增函数，0.4&gt;0.3，所以0.4^0.2^&gt;0.3^0.2^，故B错误；设函数y＝，则y′＝，当x&gt;e时，y′&lt;0，所以y在(*e*，＋∞)上是减函数，所以&gt;，即πln*e&gt;elnπ，所以e^π^&gt;π^e^，故C正确；设函数y＝，则y′＝，当0&lt;x&lt;e*时，y′&gt;0，故y在(0，e*)上是增函数，因为0&lt;&lt;&lt;e，所以&lt;，即ln&lt;ln ，所以ln 3&lt;ln π，故D错误，故选ABD. 三、 填空题 8.若函数f(x)＝ax^3^－12x＋a的单调减区间为(－2，2)，则a＝________． 【答案】 1 【解析】由f(x)＝ax^3^－12x＋a，得f′(x)＝3ax^2^－12，因为f(x)＝ax^3^－12x＋a的单调减区间为(－2，2)，所以－2和2为方程f′(x)＝0的两个实根，所以12a－12＝0，所以a＝1. 9.已知函数f(x)＝e^2x＋1^－e^－2x^－mx在R上为增函数，则m的取值范围为________． 【答案】 (－∞，4] 【解析】因为函数f(x)＝e^2x＋1^－e^－2x^－mx在R上为增函数，所以f′(x)＝2e^2x＋1^＋2e^－2x^－m≥0在R上恒成立，即m≤2e^2x＋1^＋2e^－2x^对x∈R恒成立．因为2e^2x＋1^＋2e^－2x^≥2＝4，当且仅当x＝－时取等号，所以m≤4. 10.已知f(x)是定义在上的函数，其导函数为f′(x)，f＝2，且x∈时，f′(x)sinx＋f(x)cos x&gt;0，则不等式f(x)sinx&lt;3的解集为________． 【答案】 【解析】 因为f′(x)sin x＋f(x)cos x&gt;0，所以[f(x)·sinx]′&gt;0.令g(x)＝f(x)sinx，则当x∈时，g′(x)&gt;0，所以g(x)在上单调递增，因为f＝2，所以g＝fsin＝3，不等式f(x)sinx&lt;3，即g(x)&lt;g.因为g(x)在上单调递增，所以原不等式的解集为. 四、 解答题 11. 已知函数f(x)＝e^x^－ax－1. (1) 当a＝2时，讨论f(x)的单调区间； (2) 若f(x)在定义域R内单调递增，求a的取值范围． 【解析】 (1) 当a＝2时，f(x)＝e^x^－2x－1， 则f′(x)＝e^x^－2. 令f′(x)＝e^x^－2&gt;0，得x&gt;ln 2； 令f′(x)＝e^x^－2&lt;0，得x&lt;ln 2. 所以f(x)的单调增区间为(ln 2，＋∞)，单调减区间为(－∞，ln 2). (2)由题可知，f(x)在定义域R内单调递增等价于f′(x)＝e^x^－a≥0.由f′(x)＝e^x^－a在R上单调递增，又e^x^&gt;0，则0－a≥0，解得a≤0. 12. 已知函数f(x)＝－2^x^. (1) 求证：函数f(x)在(－∞，＋∞)上为减函数； (2)当m&gt;0时，解关于x的不等式f(mx^2^－m^2^x)＋f(m－x)&gt;f(0). 【解析】 (1) 函数f(x)＝－2^x^的定义域为R， f′(x)＝ln －2^x^ ln 2＝－ln 2. 因为＋2^x^&gt;0，ln 2&gt;0，所以f′(x)&lt;0恒成立， 所以函数f(x)在(－∞，＋∞)上为减函数． (2)因为f(－x)＝－2^－x^＝2^x^－＝－f(x)，且f(x)的定义域为R， 所以f(x)为奇函数，且f(0)＝0， 所以不等式f(mx^2^－m^2^x)＋f(m－x)&gt;f(0)， 即为f(mx^2^－m^2^x)&gt;－f(m－x)＝f(x－m)， 因为f(x)为减函数，所以mx^2^－m^2^x&lt;x－m， 即(mx－1)(x－m)&lt;0. 当0&lt;m&lt;1时，原不等式的解集为； 当m＝1时，原不等式的解集为； 当m&gt;1时，原不等式的解集为. {width=”2.1256944444444446in”height=”0.3388888888888889in”} 1. (多选)函数f(x)＝ax^2^－(a＋2)x＋2lnx单调递增的必要不充分条件有( ) A. a≥2 B. a＝2 C. a≥1 D. a&gt;2 【答案】 AC 【解析】 由题意知函数f(x)＝ax^2^－(a＋2)x＋2lnx在区间(0，＋∞)上单调递增，则f′(x)＝ax－(a＋2)＋＝≥0在区间(0，＋∞)上恒成立，即ax^2^－(a＋2)x＋2≥0在区间(0，＋∞)上恒成立．①当a＝0时，－2x＋2≥0x≤1，不满足题意；②当a&lt;0时，ax^2^－(a＋2)x＋2＝a*(x－1)≥0，又&lt;0，即(*x*－1)≤0*x*≤1，不满足题意；③当*a*&gt;0时，ax^2^－(a＋2)x＋2＝a*(x－1)≥0，又&gt;0,ax^2^－(a＋2)x＋2≥0在区间(0，＋∞)上恒成立，则Δ＝(a＋2)^2^－8a＝(a－2)^2^≤0a＝2.综上，函数f(x)＝ax^2^－(a＋2)x＋2lnx单调递增的充要条件为a＝2.结合选项知AC符合题意．"},{"title":"","date":"2022-02-20T06:40:28.288Z","updated":"2022-02-20T06:26:50.014Z","comments":true,"path":"resources/4.5/5.3.3.html","permalink":"https://billma.top/resources/4.5/5.3.3.html","excerpt":"","text":"{width=”7.638888888888889e-3in”height=”0.3229166666666667in”}第3课时 函数的极值 {width=”2.1104166666666666in”height=”0.33055555555555555in”} 类型1 求函数的极值 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 求下列函数的极值： (1) f(x)＝x^3^－12x； (2) f(x)＝. 【解析】 (1) 函数f(x)的定义域为R． f′(x)＝3x^2^－12＝3(x＋2)(x－2). 令f′(x)＝0，得x＝－2或x＝2. 当x变化时，f′(x)，f(x)的变化情况如下表： x (－∞，－2) －2 (－2，2) 2 (2，＋∞) f′(x) ＋ 0 － 0 ＋ f(x) 增 极大值 减 极小值 增 从表中可以看出，当x＝－2时，函数f(x)有极大值，且f(－2)＝(－2)^3^－12×(－2)＝16； 当x＝2时，函数f(x)有极小值， 且f(2)＝2^3^－12×2＝－16. (2) 函数f(x)的定义域为(－∞，1)∪(1，＋∞). f′(x)＝， 令f′(x)＝0，得x1＝－1，x2＝2. 当x变化时，f′(x)，f(x)的变化情况如下表： x (－∞，－1) －1 (－1，1) 1 (1，2) 2 (2，＋∞) f′(x) ＋ 0 － ＋ 0 ＋ f(x) 增 － 减 增 3 增 故当x＝－1时，函数f(x)有极大值， 且极大值为f(－1)＝－. 规律总结：极值反映函数在某一点附近的大小情况，刻画了函数的局部性质，求函数的极值必须研究导函数为零处两侧的单调性情况，进而根据极值定义获取． {width=”0.27569444444444446in”height=”0.12569444444444444in”} 已知函数f(x)＝，求函数y＝f(x)的极值． 【解析】 函数f(x)＝的定义域为R， 且f′(x)＝ ＝ ＝＝， 又e^x^&gt;0，由f′(x)＝0，得x＝－1或x＝2， 当x∈(－∞，－1)和(2，＋∞)时，f′(x)&lt;0， 此时f(x)为减函数； 当x∈(－1，2)时，f′(x)&gt;0，此时f(x)为增函数． 由f(x)的单调性知，f(x)极小值＝f(－1)＝－e， f(x)极大值＝f(2)＝5e^－2^＝. 类型2 已知极值求参数 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 已知函数f(x)＝x^3^＋3mx^2^＋nx＋m^2^在x＝－1时有极值0，则m＋n＝________． 【答案】 11 【解析】 因为f(x)＝x^3^＋3mx^2^＋nx＋m^2^， 所以f′(x)＝3x^2^＋6mx＋n， 依题意可得 解得或 当m＝1，n＝3时，f(x)＝x^3^＋3x^2^＋3x＋1，f′(x)＝3x^2^＋6x＋3＝3(x＋1)^2^≥0，所以函数f(x)在R上单调递增，函数f(x)无极值，舍去．当m＝2，n＝9时，经检验，符合题意，故m＋n＝11. 规律总结：由于可导函数y＝f(x)在某一点的导数值为0是该函数在这点取极值的必要不充分条件，为此已知极值求参数时必须检验充分性． {width=”0.22847222222222222in”height=”0.13402777777777777in”} 若函数y＝f(x)在x＝x0处取得极大值或极小值，则称x0为函数y＝f(x)的极值点．已知a，b是实数，1和－1是函数f(x)＝x^3^＋ax^2^＋bx的两个极值点． (1) 求a和b的值； (2) 设函数g(x)的导函数g′(x)＝f(x)＋2，求g(x)的极值点． 【解析】 (1) 由f(x)＝x^3^＋ax^2^＋bx， 得f′(x)＝3x^2^＋2ax＋b. 因为1和－1是函数f(x)的两个极值点， 所以f′(1)＝3＋2a＋b＝0，f′(－1)＝3－2a＋b＝0，解得a＝0，b＝－3. 经检验，a＝0，b＝－3时，f′(x)＝3x^2^－3，显然符合题意． 综上所述，a＝0，b＝－3. (2)由(1)得f(x)＝x^3^－3x，所以令g′(x)＝f(x)＋2＝x^3^－3x＋2＝(x－1)^2^(x＋2)＝0，解得x1＝x2＝1，x3＝－2. 因为当x&lt;－2时，g′(x)&lt;0； 当－2&lt;*x*&lt;1时，*g*′(*x*)&gt;0， 所以－2是g(x)的极小值点． 因为当－2&lt;x*&lt;1或*x*&gt;1时，g*′(x)&gt;0， 所以1不是g(x)的极值点． 所以g(x)的极小值点是－2，无极大值点． {width=”2.1180555555555554in”height=”0.3388888888888889in”} 一、 单项选择题 1. 函数y＝x＋2cos x在上的极大值点为( ) A. 0 B. C. D. 【答案】 C 【解析】 函数y＝x＋2cos x的导数为y′＝1－2sinx，因为x∈，由y′＝1－2sin x＝0，可得sinx＝，解得x＝.当x∈时，y′&gt;0，当x∈时，y′&lt;0，所以函数y＝x＋2cosx在x∈上单调递增，在x∈上单调递减，所以使得函数y＝x＋2cosx取得极大值时x的值为. 2.若函数f(x)＝x^3^－ax^2^(a&gt;0)的极大值点为a－2，则a等于( ) A. 1 B. 2 C. 4 D. 6 【答案】 B 【解析】f′(x)＝3x^2^－2ax.当x&lt;0或x*&gt;时，f′(x)&gt;0；当0&lt;x&lt;时，f′(x)&lt;0.所以f*(x)的极大值点为0，则a－2＝0，解得a＝2. 3.如果函数f(x)＝x^3^－3ax^2^＋bx－2a^2^在x＝2时有极值0，那么a＋b的值为( ) A. 14 B. 40 C. 48 D. 14或40 【答案】 B 【解析】函数f(x)＝x^3^－3ax^2^＋bx－2a^2^，f′(x)＝3x^2^－6ax＋b，若在x＝2时有极值0，可得则解得或当a＝4，b＝36时，f′(x)＝3x^2^－24x＋36，满足函数f(x)＝x^3^－3ax^2^＋bx－2a^2^在x＝2时有极值0.当a＝2，b＝12时，f′(x)＝3x^2^－12x＋12＝3(x－2)^2^≥0，不满足函数f(x)＝x^3^－3ax^2^＋bx－2a^2^在x＝2时有极值0.所以a＝4，b＝36，a＋b＝40. 4.已知函数f(x)和g(x)的导函数f′(x)，g′(x)的图象如图所示，则关于函数y＝g(x)－f(x)的判断正确的是( ) {width=”1.0631944444444446in”height=”0.9368055555555556in”} (第4题) A. 有3个极大值点 B. 有3个极小值点 C. 有1个极大值点和2个极小值点 D. 有2个极大值点和1个极小值点 【答案】 D 【解析】如图(1)，结合函数图象可知，当x&lt;a时，f′(x)&lt;g′(x)，此时y′＝g′(x)－f′(x)&gt;0，函数y单调递增；当a&lt;x&lt;0时，f′(x)&gt;g′(x)，此时y′＝g′(x)－f′(x)&lt;0，函数y单调递减；当0&lt;x&lt;b时，f′(x)&lt;g′(x)，此时y′＝g′(x)－f′(x)&gt;0，函数y单调递增；当x&gt;b时，f′(x)&gt;g′(x)，此时y′＝g′(x)－f′(x)&lt;0，函数y单调递减，故函数y在x＝a，x＝b处取得极大值，在x＝0处取得极小值． {width=”0.9055555555555556in”height=”1.0708333333333333in”} (第4题(1)) 二、 多项选择题 5. 下列四个函数中，在x＝0处取得极值的函数有( ) A. y＝x^3^ B. y＝x^2^＋1 C. y＝|x| D. y＝2^x^ 【答案】 BC 【解析】A选项，y′＝3x^2^≥0恒成立，所以函数在R上单调递增，无极值点，故A错误．B选项，y′＝2x，当x&gt;0时函数y单调递增，当x&lt;0时函数y单调递减，且y′|x＝0＝0，故B正确．C选项，结合该函数图象可知它在(0，＋∞)上单调递增，在(－∞，0]上单调递减，故C正确；D选项，y＝2^x^在R上单调递增，无极值点，故D错误． 6.若函数y＝f(x)的导函数的图象如图所示，则下列判断中错误的是( ) {width=”1.2520833333333334in”height=”0.8979166666666667in”} (第6题) A. 函数y＝f(x)在区间内单调递增 B. 函数y＝f(x)在区间(4，5)内单调递增 C. 当x＝2时，函数y＝f(x)有极小值 D. 当x＝－时，函数y＝f(x)有极大值 【答案】 ACD 7.设函数f(x)的定义域为R，x0(x0≠0)是f(x)的极大值点，以下结论错误的是( ) A. x∈R，f(x)≤f(x0) B. －x0是f(－x)的极大值点 C. －x0是－f(x)的极小值点 D. －x0是－f(－x)的极小值点 【答案】 AC 【解析】x0(x0≠0)是f(x)的极大值点，并不是最大值点，故A错误；f(－x)的图象相当于f(x)的图象关于y轴对称，故－x0应是f(－x)的极大值点，故B正确；－f(x)的图象相当于f(x)的图象关于x轴对称，故x0应是－f(x)的极小值点，跟－x0没有关系，故C错误；－f(－x)的图象相当于f(x)的图象先关于y轴对称，再关于x轴对称．故D正确． 三、 填空题 8. 函数f(x)＝x^2^－ln x的极值点是________． 【答案】 【解析】函数f(x)的定义域为{x|x&gt;0}，f′(x)＝2x－＝，令f′(x)＝0，得x＝或－(舍去).当x∈时，f′(x)&lt;0，f*(x)单调递减；当x∈时，f′(x)&gt;0，f*(x)单调递增，所以函数f(x)的极值点是. 9.设函数f(x)＝ax^3^＋x^2^＋bx＋1在x＝1和x＝2处都有极值，则ab＝________，极大值是________． 【答案】 【解析】f′(x)＝3ax^2^＋2x＋b，因为函数f(x)＝ax^3^＋x^2^＋bx＋1在x＝1和x＝2处都有极值． 所以解得经检验符合题意，所以ab＝.所以f′(x)＝－x^2^＋2x－，当x∈(－∞，1)，(2，＋∞)时，f′(x)&lt;0，所以函数f*(x)的减区间为(－∞，1)，(2，＋∞).当x∈(1，2)时，f′(x)&gt;0，所以函数f*(x)的增区间为(1，2)，所以函数f(x)有极大值f(2)＝8a＋4＋2b＋1＝. 10.已知函数f(x)＝x^3^＋mx^2^＋(m＋6)x＋1存在极值，则实数m的取值范围为________． 【答案】 (－∞，－3)∪(6，＋∞) 【解析】因为函数f(x)＝x^3^＋mx^2^＋(m＋6)x＋1存在极值，所以f′(x)＝3x^2^＋2mx＋m＋6有两个不相等的实根，所以Δ＝4m^2^－12(m＋6)&gt;0，解得m&lt;－3或*m*&gt;6. 四、 解答题 11.设函数f(x)＝ax^3^＋bx^2^＋cx在x＝1和x＝－1处有极值，且f(1)＝－1，求a，b，c的值，并求出相应的极值． 【解析】f′(x)＝3ax^2^＋2bx＋c，因为f(x)在x＝1和x＝－1处有极值，且f(1)＝－1， 所以所以所以 所以f′(x)＝x^2^－＝(x＋1)(x－1). 当x∈(－∞，－1)，(1，＋∞)时，f′(x)&gt;0， 函数f(x)为增函数； 当x∈(－1，1)时，f′(x)&lt;0，函数f(x)为减函数， 所以当x＝－1时，f(x)有极大值f(－1)＝1； 当x＝1时，f(x)有极小值f(1)＝－1. 12. 设a为实数，函数f(x)＝x^3^－x^2^－x＋a. (1) 求f(x)的极值； (2) 当a在什么范围内取值时，曲线y＝f(x)与x轴仅有一个交点？ 【解析】 (1) f′(x)＝3x^2^－2x－1. 令f′(x)＝0，则x＝－或x＝1. 当x变化时，f′(x)，f(x)的变化情况如下表： +——-+—————+——-+—————+——-+————+| x | (－∞， | － | (－， | 1 | (1，＋∞) || | | | | | || | －) | | 1) | | |+=======+===============+=======+===============+=======+============+| f′ | ＋ | 0 | － | 0 | ＋ || (x) | | | | | |+——-+—————+——-+—————+——-+————+| f | 增 | 极 | 减 | 极 | 增 || (x) | | 大值 | | 小值 | |+——-+—————+——-+—————+——-+————+ 所以f(x)的极大值是f＝＋a，极小值是f(1)＝a－1. (2)函数f(x)＝x^3^－x^2^－x＋a＝(x－1)^2^(x＋1)＋a－1， 由此可知，x取足够大的正数时，有f(x)&gt;0， x取足够小的负数时，有f(x)&lt;0， 所以曲线y＝f(x)与x轴至少有一个交点． 由(1)知f(x)极大值＝f＝＋a， f(x)极小值＝f(1)＝a－1. 因为曲线y＝f(x)与x轴仅有一个交点， 所以f(x)极大值&lt;0或*f*(*x*)极小值&gt;0， 即＋a&lt;0或a*－1&gt;0，所以a*&lt;－或*a*&gt;1. 所以当a∈∪(1，＋∞)时，曲线y＝f(x)与x轴仅有一个交点．"},{"title":"","date":"2022-02-20T06:40:28.288Z","updated":"2022-02-20T06:26:52.068Z","comments":true,"path":"resources/4.5/5.4.1.html","permalink":"https://billma.top/resources/4.5/5.4.1.html","excerpt":"","text":"{width=”7.638888888888889e-3in”height=”0.3229166666666667in”}习题课 构造法处理不等关系 题型1 根据式子结构特征构造 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 设函数f′(x)是奇函数f(x)(x∈R)的导数，f(1)＝1，当x&lt;0时，xf′(x)＋f*(x)&lt;0，则使*xf*(*x*)&gt;1成立的x*的取值范围是( ) A. (－1，0)∪(1，＋∞) B. (－1，1) C. (－∞，－1)∪(1，＋∞) D. (－∞，－1)∪(0，1) 【答案】 C 【解析】设F(x)＝xf(x)，易知函数F(x)为偶函数，且当x&lt;0时，F′(x)＝xf′(x)＋f*(x)&lt;0，故函数*F*(*x*)在(－∞，0)上单调递减，由对称性知，函数*F*(*x*)在(0，＋∞)上单调递增．将目标不等式转化为*F*(*x*)&gt;F(1)＝1，结合函数的单调性得|x|&gt;1，解得x*&lt;－1或*x*&gt;1，故所求不等式的解集是(－∞，－1)∪(1，＋∞). {width=”0.22847222222222222in”height=”0.13402777777777777in”} 已知函数f(x)＝x lnx，若对任意x1&gt;x2&gt;0，(x－x)&gt;f(x1)－f(x2)恒成立，则实数λ的取值范围为( ) A. [1，e] B. (－∞，1] C. [e，＋∞) D. [1，＋∞) 【答案】 D 【解析】 由(x－x)&gt;f(x1)－f(x2)，得x－x1lnx1&gt;x－x2ln x2.令g(x)＝x^2^－x lnx，则问题可以转化为对任意x1&gt;x2&gt;0，g(x1)&gt;g(x2)恒成立，即函数g(x)在(0，＋∞)上单调递增．因为g′(x)＝λx－lnx－1，故问题转化为g′(x)≥0在(0，＋∞)上恒成立，所以λ≥在(0，＋∞)上恒成立，即转化为λ≥.令h(x)＝，则h′(x)＝－，所以当x∈(0，1)时，h′(x)&gt;0，当x∈(1，＋∞)时，h′(x)&lt;0，所以h(x)在(0，1)上单调递增，在(1，＋∞)上单调递减，所以h(x)max＝h(1)＝1，所以λ≥1. 题型2 作差构造 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 求证：≥ln x＋x. 【解析】 令f(x)＝－x－ln x，x&gt;0， 则f′(x)＝－1－＝(x＋1). 令F(x)＝e^x－1^－，则F′(x)＝e^x－1^＋&gt;0， 故函数F(x)在(0，＋∞)上单调递增，F(1)＝0， 所以当0&lt;x&lt;1时，F(x)&lt;0，从而f′(x)&lt;0； 当x&gt;1时，F(x)&gt;0，从而f′(x)&gt;0， 所以函数f(x)在(0，1)上单调递减，在(1，＋∞)上单调递增，所以f(x)的最小值为f(1)＝0， 所以当x&gt;0时，f(x)≥f(1)＝0，即－ln x－x≥0， 从而≥ln x＋x，即得证． 题型3 分离参数构造 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 已知关于x的不等式x^2^＋1≥在(0，＋∞)上恒成立，则实数a的取值范围为( ) A. (－∞，e] B. C. (－∞，e－1] D. (－∞，e－2] 【答案】 B 【解析】由题意知x&gt;0，问题转化为a≤＝－.令g(x)＝－，故a≤[g(x)]min，而g′(x)＝(x－1).令g′(x)&gt;0，解得x&gt;1；令g′(x)&lt;0，解得0&lt;x&lt;1，故g(x)在(0，1)上单调递减，在(1，＋∞)上单调递增，故g(x)min＝g(1)＝e－，故a≤e－. {width=”0.27569444444444446in”height=”0.12569444444444444in”} 设函数f(x)＝lnx－mx^2^＋2x，若存在唯一的整数x0，使得f(x0)&gt;0，求实数m的取值范围． 【解析】f(x)的定义域为(0，＋∞).当m≤0时，f′(x)＝－2mx＋2&gt;0，f(x)单调递增，存在无数个整数x0，使得f(x0)&gt;0，不符合题意．当m&gt;0时，由于x&gt;0，所以&gt;mx－2.令y＝，y′＝，当0&lt;x*&lt;e时，*y*′&gt;0；当x&gt;e时，y′&lt;0，所以函数y＝在(0，e)上单调递增，在(e，＋∞)上单调递减，所以y＝的极大值也是最大值，且x→0时，y→－∞，x→＋∞时，y→0.作出函数y＝和y＝mx－2的大致图象，如图，过点(0，－2)的直线y＝mx－2介于(1，0)，之间时满足条件，直线y＝mx－2过点(1，0)时，m的值为2，直线y＝mx－2过点(2，f*(2))时，m的值为＋1，由图象可知，m的取值范围是. {width=”1.1020833333333333in”height=”0.9527777777777777in”} (变式) 方法提炼： 构造函数是解决导数问题的基本方法． ①作差或变形作差构造函数f(x)＝g(x)－h(x)，转化为求证f(x)最值； ②分离参数或分离函数构造函数g(a)≥f(x)(或g(a)≤f(x))，转化为求解f(x)最值； ③根据式子特征构造函数，主要依靠条件或问题中”显然”的特征构造相应函数． {width=”7.638888888888889e-3in”height=”0.3229166666666667in”}练习部分 一、 单项选择题(每个5分，共20分) 1.已知函数y＝f(x)在R上可导且满足不等式xf′(x)＋f(x)&gt;0恒成立，对任意正数a，b，若a&lt;b，则必有( ) A. af(b)&lt;bf(a) B. bf(a)&lt;af(b) C. af(a)&lt;bf(b)D. bf(b)&lt;af(a) 【答案】 C 【解析】构造函数F(x)＝xf(x)，则F′(x)＝xf′(x)＋f(x)&gt;0，从而F(x)在R上单调递增．因为a&lt;b，所以F(a)&lt;F(b)，即af(a)&lt;bf(b).故选C. 2. 已知关于x的不等式x^3^－ax^2^≥lnx恒成立，则实数a的取值范围为( ) A. (－∞，1] B. (0，1] C. D. (－∞，0] 【答案】 A 【解析】 由关于x的不等式x^3^－ax^2^≥lnx对x&gt;0恒成立，可得a≤恒成立．设f(x)＝，则f′(x)＝，令g(x)＝x^3^－1＋2lnx，g′(x)＝3x^2^＋&gt;0，可得g(x)＝x^3^－1＋2lnx在(0，＋∞)上单调递增，且g(1)＝0，当0&lt;x*&lt;1时，*g*(*x*)&lt;0，*f*′(*x*)&lt;0，*f*(*x*)单调递减；当*x*&gt;1时，g*(x)&gt;0，f′(x)&gt;0，f(x)单调递增，可得f(x)在x＝1处取得极小值1，且为最小值，则a≤1，即a的取值范围是(－∞，1]. 3. 已知f(x)＝a－2lnx(a&gt;0)在[2，＋∞)上为单调增函数，则a的取值范围为( ) A. B. C. [1，＋∞) D. (1，＋∞) 【答案】 A 【解析】由题意知f′(x)＝a－＝≥0对任意的x∈[2，＋∞)恒成立，即ax^2^－2x＋a≥0对任意的x∈[2，＋∞)恒成立，所以a≥＝.令y＝x＋，则y′＝1－&gt;0，故y＝x＋在[2，＋∞)上单调递增，所以y＝x＋≥，则0&lt;≤，所以a的取值范围为. 4.已知定义在(0，＋∞)上的函数f(x)，f′(x)是f(x)的导函数，满足xf′(x)－f(x)&lt;0，且*f*(2)＝2，则*f*(e*^x^*)－e*^x^*&gt;0的解集是( ) A. (0，e^2^) B. (ln 2，＋∞) C. (－∞，ln 2) D. (e^2^，＋∞) 【答案】 C 【解析】设g(x)＝(x&gt;0)，则g′(x)＝&lt;0，所以g*(x)在(0，＋∞)上单调递减．因为f(2)＝2，所以g(2)＝＝1，不等式f(e^x^)－e^x^&gt;0等价于g*(e^x^)＝&gt;1＝g(2)，所以0&lt;e^x^&lt;2，解得x&lt;ln2，所以原不等式的解集为(－∞，ln 2). 二、 多项选择题(每个5分，共15分) 5.设f′(x)是函数f(x)(x∈R)的导函数，若对任意x∈R，都有2f(x)＋xf′(x)＞0，则下列判断一定正确的是( ) A. 4f(2)＞f(1) B. f(x)为增函数 C. f(x)没有零点 D.f(x)没有极值点 【答案】 AC 【解析】令g(x)＝x^2^f(x)，则g′(x)＝x[2f(x)＋xf′(x)]，由题意知g(x)在(－∞，0)上单调递减，在(0，＋∞)上单调递增，所以g(2)＞g(1)4f(2)＞f(1)，所以选项A正确．因为g(0)＝0，所以当x≠0时，g(x)＞0，即f(x)＞0.又由2f(x)＋xf′(x)＞0知f(0)＞0，所以对任意x∈R，有f(x)＞0，所以选项C正确．取f(x)＝x^2^＋1，则f(x)满足题设条件，所以选项B，D错误． 6. 下列判断正确的是( ) A. 2e^3^&gt;3e^2^ B. e^3^&gt;e^5^ C. 2e&lt;3e D. 3e&lt;e 【答案】 AC 【解析】构造函数f(x)＝，所以f′(x)＝，当x∈(1，＋∞)时，f′(x)&gt;0，函数f(x)是增函数，当x∈(－∞，1)时，f′(x)&lt;0，函数*f*(*x*)是减函数．对于A，2e^3^&gt;3e^2^&gt;，故A正确；对于B，e^3^&gt;e^5^&gt;，故B错误；对于C，2e&lt;3e&lt;，故C正确；对于D，3e&lt;e&lt;，故D错误． 7. 已知函数f(x)＝lnx＋，若x1，x2∈(1，＋∞)，且x1＜x2，都有＜0.5，则实数m的值可以为( ) A. e B. 3 C. 4 D. 5 【答案】 CD 【解析】因为x1，x2∈(1，＋∞)，且x1＜x2，都有＜0.5，所以当x1＜x2时，2f(x1)－x1＞2f(x2)－x2对x1，x2∈(1，＋∞)恒成立，令g(x)＝2f(x)－x＝2lnx＋－x(x＞1)，则g(x)在(1，＋∞)上单调递减，所以g′(x)＝－－1≤0在(1，＋∞)上恒成立，所以m≥8x－4x^2^在(1，＋∞)上恒成立，所以只需m≥[(8x－4x^2^)]max.又当x＞1时，[(8x－4x^2^)]max&lt;4，所以m≥4，所以m的取值范围为[4，＋∞)，由选项可知，只有C，D符合条件． 三、 填空题(每个5分，共15分) 8.已知定义在R上的奇函数f(x)满足f(1)＝2，且当x&gt;0时，恒有f′(x)&gt;2，则f(x)&gt;2x的解集是________． 【答案】 (－1，0)∪(1，＋∞) 【解析】设g(x)＝f(x)－2x，易知g(x)是奇函数，因为g′(x)＝f′(x)－2&gt;0，所以g(x)单调递增，结合函数图象可知所求解集为(－1，0)∪(1，＋∞). 9.已知不等式x－2－ae^－x^≥0对任意的x∈R恒成立，则满足条件的实数a的取值集合是________． 【答案】 (－∞，－e] 【解析】x－2－ae^－x^≥0，即a≤(x－2)e^x^对任意的x∈R恒成立．令f(x)＝(x－2)e^x^，则f′(x)＝(x－1)e^x^，易得当x＞1时，f′(x)＞0，函数f(x)单调递增；当x＜1时，f′(x)＜0，函数f(x)单调递减，故当x＝1时，函数f(x)取得最小值f(1)＝－e，故a≤－e. 10. 已知函数f(x)＝lnx，若af(x)≤e^x－1^－1恒成立，则实数a的取值集合是________． 【答案】 {1} 【解析】 设g(x)＝af(x)－e^x－1^＋1＝a lnx－e^x－1^＋1，g′(x)＝－e^x－1^.又g(x)≤g(1)＝0，故x＝1是y＝g(x)的极大值点，所以g′(1)＝a－1＝0，a＝1.另一方面，当a＝1时，g′(x)＝－e^x－1^，g′(1)＝0，g′(x)在区间(0，＋∞)上单调递减，故g(x)在(0，1)上单调递增，在(1，＋∞)上单调递减，所以g(x)≤g(1)＝0，f(x)≤e^x－1^－1恒成立． 四、 解答题(第11，12题各15分，第13题20分，共50分) 11. 求证：e^x^＞x＞ln x. 【解析】 令g(x)＝e^x^－x，所以g′(x)＝e^x^－1， 又因为x＞0， 所以e^x^＞e^0^＝1，即g′(x)＞0，g(x)在区间(0，＋∞)上单调递增； 所以g(x)＝e^x^－x＞g(0)＝1＞0，所以e^x^＞x.① 令h(x)＝x－ln x，则h′(x)＝1－， 当x∈(0，1)时，h′(x)＜0，h(x)在区间(0，1)上单调递减； 当x∈(1，＋∞)时，h′(x)＞0，h(x)在区间(1，＋∞)上单调递增； 所以当x＝1时，h(x)取得极小值，也是最小值， 且h(1)＝1＞0， 所以h(x)＝x－ln x≥h(1)＝1＞0，所以x＞ln x.② 由①②得x＞0时，e^x^＞x＞ln x成立． 12. 已知函数f(x)＝x－ln x，g(x)＝ae^x^. (1) 求函数f(x)的单调区间； (2) 求证：当a≥时，xf(x)≤g(x). 【解析】 (1) 函数f(x)的定义域为(0，＋∞). 由f(x)＝x－ln x，得f′(x)＝1－＝. 当x∈(0，1)时，f′(x)&lt;0； 当x∈(1，＋∞)时，f′(x)&gt;0， 所以f(x)的单调减区间是(0，1)，单调增区间是(1，＋∞). (2) 要证xf(x)≤g(x)， 即证x(x－ln x)≤ae^x^，即证a≥. 设h(x)＝， 则h′(x)＝ ＝， 由(1)可知f(x)≥f(1)＝1，即ln x－(x－1)≤0， 于是，当x∈(0，1)时，h′(x)&gt;0，h(x)单调递增； 当x∈(1，＋∞)时，h′(x)&lt;0，h(x)单调递减． 所以当x＝1时，h(x)取得最大值， h(x)max＝＝， 所以当a≥时，xf(x)≤g(x). 13. 已知函数f(x)＝(a＋1)ln x＋x^2^＋1. (1) 讨论函数f(x)的单调性； (2)若对任意不相等的x1，x2∈(0，＋∞)，恒有|f(x1)－f(x2)|≥4|x1－x2|成立，求非负实数a的取值范围． 【解析】 (1) 因为f(x)的定义域为(0，＋∞)，f′(x)＝＋2x. 所以当a＋1≥0时，f′(x)＞0恒成立， 所以当a≥－1时，函数f(x)在区间(0，＋∞)上单调递增． 当a＋1＜0，即a&lt;－1时，函数f(x)在区间上单调递减，在区间(，＋∞)上单调递增． (2) 不妨设x1＞x2，又因为a≥0， 所以函数f(x)在区间(0，＋∞)上单调递增， |f(x1)－f(x2)|≥4|x1－x2|恒成立等价于f(x1)－f(x2)≥4x1－4x2恒成立， 即f(x1)－4x1≥f(x2)－4x2恒成立． 令g(x)＝f(x)－4x，x∈(0，＋∞)， 则函数g(x)为单调增函数，即g′(x)≥0恒成立． g′(x)＝＋2x－4＝， 令h(x)＝2x^2^－4x＋a＋1，x∈(0，＋∞)， 因为h(x)min＝h(1)＝a－1，所以a≥1， 故a的取值范围为[1，＋∞)."},{"title":"","date":"2022-02-20T06:40:28.288Z","updated":"2022-02-20T06:26:50.740Z","comments":true,"path":"resources/4.5/5.3.5.html","permalink":"https://billma.top/resources/4.5/5.3.5.html","excerpt":"","text":"{width=”7.638888888888889e-3in”height=”0.3229166666666667in”}第5课时 函数极(最)值的应用 {width=”2.1104166666666666in”height=”0.33055555555555555in”} 类型1 函数零点问题 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 若函数f(x)＝x^3^＋ax^2^－bx＋4在x＝－2和x＝1处取得极值． (1) 求函数f(x)的解析式； (2) 讨论方程f(x)＝k实数解的个数． 【解析】 (1)f(x)＝x^3^＋ax^2^－bx＋4，则f′(x)＝x^2^＋2ax－b，由题意得即解得经检验符合题意． (2) 由(1)得f(x)＝x^3^＋x^2^－2x＋4， 所以f′(x)＝x^2^＋x－2＝(x＋2)(x－1). 令f′(x)&gt;0，解得x&lt;－2或*x*&gt;1； 令f′(x)&lt;0，解得－2&lt;x&lt;1， 所以f(x)的增区间为(－∞，－2)，(1，＋∞)，减区间为(－2，1)， 即在x＝1处函数f(x)取得极小值，且为，在x＝－2处函数f(x)取得极大值，且为. 则当k&lt;或k*&gt;时，方程k＝f*(x)有一个解； 当k＝或k＝时，方程k＝f(x)有两个解； 当&lt;k&lt;时，方程k＝f(x)有三个解． {width=”0.22847222222222222in”height=”0.13402777777777777in”} 已知函数f(x)＝e^x^－a(x＋2). (1) 当a＝1时，讨论f(x)的单调性； (2) 若f(x)有两个零点，求a的取值范围． 【解析】 由题意得f(x)的定义域为(－∞，＋∞)， 且f′(x)＝e^x^－a. (1) 当a＝1时，f′(x)＝e^x^－1，令f′(x)＝0，解得x＝0. 所以当x∈(－∞，0)时，f′(x)&lt;0，f(x)单调递减； 当x∈(0，＋∞)时，f′(x)&gt;0，f(x)单调递增． 所以f(x)在(－∞，0)上单调递减，在(0，＋∞)上单调递增． (2)当a≤0时，f′(x)＝e^x^－a&gt;0恒成立，f(x)在(－∞，＋∞)上单调递增，不合题意； 当a&gt;0时，令f′(x)＝0，解得x＝ln a， 当x∈(－∞，ln a)时，f′(x)&lt;0，f(x)单调递减； 当x∈(ln a，＋∞)时，f′(x)&gt;0，f(x)单调递增． 所以f(x)的极小值(也是最小值)为f(ln a)＝a－a(lna＋2)＝－a(1＋ln a). 又当x→－∞时，f(x)→＋∞， 当x→＋∞时，f(x)→＋∞. 所以要使f(x)有两个零点，只要f(ln a)&lt;0即可， 则1＋ln a&gt;0，可得a&gt;. 综上，若f(x)有两个零点，则a的取值范围是. 规律总结：函数零点的个数主要依靠零点存在性定理确定，具体由函数极值正负和极值点左右两侧是否满足存在零点决定． 类型2 导数与实际问题 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 海轮每小时使用的燃料费与它的航行速度的立方成正比，已知某海轮的最大航速为30nmile/h, 当速度为10nmile/h时，它的燃料费是每小时25元，其余费用(无论速度如何)都是每小时400元．如果甲、乙两地相距800n mile，则要使该海轮从甲地航行到乙地的总费用最低，它的航速应为( ) A. 30n mile/h B. 25n mile/h C. 20n mile/h D. 10n mile/h 【答案】 C 【解析】因为海轮每小时使用的燃料费与它的航行速度的立方成正比，设海轮的速度为x(0&lt;x≤30)nmile/h，燃料费用为W元，比例系数为k，则满足W＝kx^3^，当速度为 10nmile/h时，它的燃料费是每小时25元，代入上式可得25＝k×10^3^，解得k＝，其余费用(无论速度如何)都是每小时400元．如果甲、乙两地相距800nmile，则所需时间为h，则总费用为f*(x)＝(x^3^＋400)×＝(0&lt;*x*≤30)，所以*f*′(*x*)＝，令*f*′(*x*)＝0，解得*x*＝20.当0&lt;*x*&lt;20时，*f*′(*x*)&lt;0，所以*f*(*x*)在(0，20)内单调递减；当20&lt;*x*≤30时，*f*′(*x*)&gt;0，所以f*(x)在(20，30]内单调递增，所以当x＝20时，海轮从甲地航行到乙地的总费用最低． {width=”2.1180555555555554in”height=”0.3388888888888889in”} 一、 单项选择题 1. 函数f(x)＝5^x^＋x－19的零点所在的区间为( ) A. (0，1) B. (1，2) C. (2，3) D. (3，4) 【答案】 B 【解析】函数f(x)＝5^x^＋x－19是连续函数且单调递增，因为f(1)＝5＋1－19＝－13＜0，f(2)＝25＋2－19＝8＞0，所以f(1)f(2)＜0，由零点判定定理可知函数f(x)的零点在(1，2). 2.为积极响应”地摊经济”的号召，某个体户计划在市政府规划的摊位同时销售A，B两种小商品．当投资额为x(x≥0)千元时，在销售A，B商品中所获收益分别为f(x)千元与g(x)千元，其中f(x)＝2x，g(x)＝5ln(2x＋1).若该个体户准备共投入5千元销售A，B两种小商品，为使总收益最大，则A商品需投入( ) A. 4千元 B. 3千元 C. 2千元 D. 1千元 【答案】 B 【解析】设投入经销B商品的资金为x千元(0≤x≤5)，则投入经销A商品的资金为(5－x)千元，获得的收益为S(x)千元，则S(x)＝2(5－x)＋5ln(2x＋1)＝5ln(2x＋1)－2x＋10(0≤x≤5)，S′(x)＝－2.当0≤x&lt;2时，S*′(x)&gt;0，函数S*(x)在[0，2)上单调递增；当2&lt;x≤5时，S′(x)&lt;0，函数S(x)在(2，5]上单调递减，所以当x＝2时，函数S(x)取得最大值S(2)＝6＋5ln5，所以当投入经销B商品的资金为2千元，投入经销A商品的资金为3千元时，此时总收益最大． 3.某莲藕种植塘每年的固定成本是2万元，每年最大规模的种植量是10万斤，每种植1斤藕，成本增加1元．销售额y(单位：万元)与莲藕种植量x(单位：万斤)满足函数关系y＝－x^3^＋ax^2^＋x(a为常数).若种植3万斤，利润是万元，则要使销售利润最大，每年需种植莲藕( ) A. 6万斤 B. 8万斤 C. 7万斤 D. 9万斤 【答案】 B 【解析】设销售利润为g(x)万元，则g(x)＝－x^3^＋ax^2^＋x－2－x＝－x^3^＋ax^2^－2(0&lt;x≤10).因为g*(3)＝－×3^3^＋a×3^2^－2＝，所以a＝2，则g(x)＝－x^3^＋2x^2^－2，求导得g′(x)＝－x^2^＋4x＝－x(x－8)，当x∈(0，8)时，g′(x)&gt;0；当x∈(8，10)时，g′(x)&lt;0，所以g*(x)在(0，8)上单调递增，在(8，10)上单调递减，则x＝8时，g(x)取得最大值．所以要使销售利润最大，每年需种植莲藕8万斤． 4.已知函数f(x)＝若g(x)＝f(x)－ax有三个不同的零点，则实数a的取值范围为( ) A. B. C. [1，e) D. [e，＋∞) 【答案】 A 【解析】问题等价于y＝a与y＝h(x)＝有三个交点，画出y＝h(x)的图象如图所示．由图可知当a∈时满足题意． {width=”1.1340277777777779in”height=”0.8583333333333333in”} (第4题) 二、 多项选择题(每个5分，共15分) 5. 设函数f(x)＝x ln^2^x＋x的导函数为f′(x)，则( ) A．f′＝0 B. x＝是f(x)的极值点 C. f(x)存在零点 D. f(x)在上单调递增 【答案】 AD 【解析】 由题可知f(x)＝xln^2^x＋x的定义域为(0，＋∞)，f′(x)＝ln^2^x＋2lnx＋1，所以f′＝ln^2^＋2ln ＋1＝0，故A正确；f′(x)＝ln^2^x＋2lnx＋1＝(lnx＋1)^2^≥0，故函数f(x)单调递增，故无极值点，故B错误，D正确．又f(x)＝xln^2^x＋x＝x(ln^2^x＋1)&gt;0，故函数f(x)不存在零点，故C错误． 6．设函数f(x)＝(x^2^－3)e^x^，则( ) A. f(x)有极小值，且有最小值 B. f(x)有极大值，但无最大值 C. 若方程f(x)＝a恰有一个实根，则a&gt; D. 若方程f(x)＝a恰有三个实根，则0&lt;a&lt; 【答案】 ABD 【解析】因为f(x)＝(x^2^－3)e^x^，所以f′(x)＝(x^2^＋2x－3)e^x^，令f′(x)＝0，解得x＝－3或x＝1.当x∈(－∞，－3)，(1，＋∞)时，f′(x)&gt;0，函数f(x)单调递增；当x∈(－3，1)时，f′(x)&lt;0，函数f(x)单调递减．当x→－∞时，f(x)→0，当x→＋∞时，f(x)→＋∞，所以当x＝1时，函数f(x)取得极小值，且为最小值－2e，当x＝－3时，函数f(x)取得极大值，无最大值，故A，B正确．若方程f(x)＝a恰有一个实根，可得a＝－2e*或a&gt;，故C错误．若方程f(x)＝a恰有三个实根，可得0&lt;a&lt;，故D*正确． 7.如图，外层是类似于”甜筒冰淇淋”的图形，上部分是体积为10π的半球，下面大圆刚好与高度为6的圆锥的底面圆重合，在该封闭的几何体内倒放一个小圆锥，小圆锥底面平行于外层圆锥的底面，且小圆锥顶点与外层圆锥顶点重合，则该小圆锥体积可以为( ) {width=”0.6222222222222222in”height=”1.007638888888889in”} (第7题) A. 10π B. 18π C. 30π D. 40π 【答案】 ABC 【解析】令上部分的半球半径为R，可得πR^3^＝10π，解得R＝.设小圆锥的底面半径为r，小圆锥底面中心到球心距离为h，可知r，h和R构成直角三角形，即r^2^＋h^2^＝15，小圆锥体积V＝πr^2^(h＋6)＝π(15－h^2^)(h＋6)(0&lt;h&lt;).令f(h)＝(15－h^2^)·(h＋6)(0&lt;h&lt;)，则f′(h)＝－3(h＋5)·(h－1)，可知f(h)在(0，1)上单调递增，在(1，)上单调递减，所以当h＝1时，f(h)最大，f(h)max＝f(1)＝98，即Vmax＝π，即A，B，C三个选项都满足题意． 三、 填空题 8. 已知函数f(x)＝2ln x－x^2^，则函数f(x)有________个零点． 【答案】 1 【解析】 f(x)＝2lnx－x^2^，x＞0，所以f′(x)＝－＝，所以当0＜x＜时，f′(x)＞0，f(x)单调递增；当x＞时，f′(x)＜0，f(x)单调递减，故当x＝时，f(x)有极大值，极大值为f()＝1－1＝0，所以f(x)只有一个零点． 9.若函数f(x)＝x^3^－ax^2^＋x－5无极值点，则实数a的取值范围是________． 【答案】 [－1，1] 【解析】f(x)＝x^3^－ax^2^＋x－5，f′(x)＝x^2^－2ax＋1，若函数f(x)在R上无极值点，即f′(x)＝0最多有1个实数根，故Δ＝4a^2^－4≤0，解得a∈[－1，1]. 10. 若函数g(x)＝x^2^－lnx＋m在上有两个零点，则实数m的取值范围为 ________． 【答案】 【解析】 因为g(x)＝x^2^－ln x＋m，x∈， 所以g′(x)＝x－＝， 当x∈时，g′(x)&lt;0，g(x)单调递减， 当x∈(1，e)时，g′(x)&gt;0，g(x)单调递增， 故g(x)在x＝1处取得极小值g(1)＝m＋. 又g＝m＋1＋，g(e)＝e^2^＋m－1， g(e)－g＝－2&gt;0，则g(e)&gt;g， 所以g(x)在上有两个零点的条件是 解得－1－&lt;m&lt;－. 四、 解答题 11. 已知函数f(x)＝ax^3^＋bx^2^－4a(a，b∈R). (1) 当a＝b＝1时，求f(x)的单调增区间； (2) 当a≠0时，若函数f(x)恰有两个不同的零点，求的值． 【解析】 (1) 当a＝b＝1时， f(x)＝x^3^＋x^2^－4，f′(x)＝3x^2^＋2x. 令f′(x)&gt;0，解得x&gt;0或x&lt;－， 所以f(x)的单调增区间是和(0，＋∞). (2) f′(x)＝3ax^2^＋2bx， 令f′(x)＝0，得x＝0或x＝－. 因为函数f(x)恰有两个不同的零点， 所以f(0)＝0或f＝0. 当f(0)＝0时，得a＝0，不合题意，舍去； 当f＝0时， 代入得a＋b－4a＝0， 即－＋－4＝0，所以＝3. 12. 如图，有一生态农庄的平面图是一个半圆形，其中，直径AB长为2km，C，D两点在半圆弧上，且AD＝BC，设∠COB＝θ，现要在景区内铺设一条观光通道，由AB，BC，CD和DA组成． (1) 若θ＝，求观光通道l的长度； (2)现要在农庄内种植经济作物，其中，在△AOD内种植鲜花，在△OCD内种植果树，在扇形COB内种植草坪．已知种植鲜花和种植果树的利润均为2百万元/km^2^，种植草坪的利润为1百万元/km^2^，则当θ为何值时，总利润最大？ {width=”1.1104166666666666in”height=”0.6298611111111111in”} (第12题) 【解析】 (1) 在△COB中，∠COB＝，OB＝OC＝， 所以BC^2^＝OC^2^＋OB^2^－2OB·OC·cos ∠COB＝2＋2－2×××＝4－2＝(－1)^2^， 则BC＝－1，所以AD＝－1.又因为△AOD≌△BOC，所以∠AOD＝∠COB＝，得∠COD＝. 在△DOC中，CD^2^＝OC^2^＋OD^2^－2OC·OD·cos∠COD＝2＋2－2×××＝6，则CD＝.所以l＝AB＋BC＋CD＋AD＝2(＋－1)＋. (2) 由题意得S△AOD＝OA·OD·sin θ＝sin θ， S△COD＝OC·OD·sin (π－2θ)＝sin 2θ， S扇形COB＝OB^2^·θ＝θ. 设总利润为T(θ)百万元， 则T(θ)＝2sin θ＋2sin 2θ＋θ， T′(θ)＝2cos θ＋4cos 2θ＋1＝8cos^2^θ＋2cosθ－3 ＝(4cos θ＋3)(2cos θ－1). 因为θ∈，所以当θ∈时，&lt;*cos* θ&lt;1，T′(θ)&gt;0，T(θ)单调递增； 当θ∈时，0&lt;cos θ&lt;，T′(θ)&lt;0，T(θ)单调递减，所以T(θ)*max*＝T＝2＋. 所以当θ＝时，总利润取得最大值，最大值为百万元．"},{"title":"","date":"2022-02-20T06:40:28.288Z","updated":"2022-02-20T06:26:51.420Z","comments":true,"path":"resources/4.5/5.4.2.html","permalink":"https://billma.top/resources/4.5/5.4.2.html","excerpt":"","text":"{width=”7.638888888888889e-3in”height=”0.3229166666666667in”}习题课 恒成立与能成立问题 题型1 “a≥f(x)”型 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 若函数f(x)＝lnx＋ax^2^－2在区间内存在单调增区间，则实数a的取值范围是( ) A. (－∞，－2] B. C. D. (－2，＋∞) 【答案】 D 【解析】根据题意得f′(x)＝＋2ax，因为f(x)在区间内存在单调增区间，所以f′(x)&gt;0在内有解，即＋2ax&gt;0a&gt;－在内有解，故存在x∈，使得a&gt;－.令g(x)＝－，则g(x)在上单调递增，所以g(x)∈，故a&gt;－2. {width=”0.27569444444444446in”height=”0.12569444444444444in”} 已知函数f(x)＝－mx(e为自然对数的底数)，若f(x)&lt;0在(0，＋∞)上有解，则实数m的取值范围是( ) A. (e，＋∞) B. (－∞，e) C. D. 【答案】 C 【解析】由f(x)＝－mx&lt;0在(0，＋∞)上有解，可得m*&gt;在(0，＋∞)上有解．令g*(x)＝，x&gt;0，则m&gt;g(x)min.由g′(x)＝，则当0&lt;x*&lt;2时，*g*′(*x*)&lt;0，函数*g*(*x*)单调递减；当*x*&gt;2时，g′(x)&gt;0，函数f*(x)单调递增，故当x＝2时，函数g(x)取得最小值g(2)＝，故m&gt;. 题型2 “f(x)≥g(x)”型 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 已知函数f(x)＝x^2^－lnx，g(x)＝－x^3^＋x^2^，求证：当x&gt;1时，函数f(x)的图象恒在函数g(x)的图象的上方． 【解析】令h(x)＝f(x)－g(x)＝x^3^－x^2^－ln x， 则h′(x)＝2x^2^－x－＝＝， 因为x&gt;1，所以h′(x)&gt;0， 所以h(x)在(1，＋∞)上单调递增． 又因为h(1)＝&gt;0，所以f(x)&gt;g(x)， 故当x&gt;1时，f(x)的图象恒在g(x)图象的上方． {width=”0.27569444444444446in”height=”0.12569444444444444in”} 已知函数f(x)＝a ln (1＋x)－bln (1－x)＋a－b在点(0，f(0))处的切线方程为y＝2x. (1) 求f(x)的解析式； (2) 求证：当x∈(－1，0)时，f(x)&lt;x＋. 【解析】(1) f(x)＝a ln (1＋x)－b ln (1－x)＋a－b， 故f′(x)＝＋， 由k＝f′(0)，得a＋b＝2. 由f(0)＝0，得a－b＝0，解得a＝b＝1， 故f(x)＝ln (1＋x)－ln (1－x). (2) 原命题等价于任意x∈(－1，0)，f(x)－&lt;0， 设F(x)＝ln (1＋x)－ln (1－x)－， 则F′(x)＝. 当x∈(－1，0)时，F′(x)&gt;0，函数F(x)在(－1，0)上单调递增， F(x)&lt;F(0)＝0，故任意x∈(－1，0)，f(x)&lt;x＋. 题型3 “f(x1)≥g(x2)”型 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 已知函数f(x)＝，g(x)＝－x^2^＋2x＋a－1，若任意x1，x2∈(0，＋∞)，都有f(x1)≥g(x2)恒成立，则实数a的取值范围为( ) A. (－∞，e) B. (－∞，e] C. D. 【答案】 C 【解析】f(x)＝，g(x)＝－x^2^＋2x＋a－1，若任意x1，x2∈(0，＋∞)，都有f(x1)≥g(x2)恒成立，则f(x)min≥g(x)max(x∈(0，＋∞)).f′(x)＝，当0&lt;x*&lt;1时，*f*′(*x*)&lt;0，*f*(*x*)单调递减；当*x*&gt;1时，f′(x)&gt;0，f*(x)单调递增，故f(x)的最小值为f(1)＝.又因为g(x)max＝a，所以a≤.故实数a的取值范围为. {width=”0.27569444444444446in”height=”0.12569444444444444in”} 已知函数f(x)＝e^x^，g(x)＝ln.若任意x1∈(0，＋∞)，存在x2∈R，使得f(2x1)＋mf(x1)－g(x2)&gt;0成立，求实数m的取值范围． 【解析】g(x)＝ln ≥ln2，当且仅当x＝0时取等号，由题意，任意x1∈(0，＋∞)，存在x2∈R，使得f(2x1)＋mf(x1)&gt;g(x2)成立，即任意x1∈(0，＋∞)，e2x1＋mex1&gt;ln2等价于m&gt;－ex1对任意x1∈(0，＋∞)恒成立． 令t＝ex1，则t&gt;1，且m&gt;－t对t&gt;1恒成立． 设h(t)＝－t(t&gt;1)，易知h(t)在(1，＋∞)内单调递减，所以h(t)&lt;ln2－1等价于m≥ln 2－1， 所以m的取值范围为[ln 2－1，＋∞). 方法提炼： 对于恒成立与能成立问题，如果是单变量问题，一般情况下采取分离参变量转化为相应最值问题等方法．如果是两个变量或多个变量问题时，一般先把其中一个变量当成变量，其余变量当成是常量，这样就把问题转化为单变量的常规题． {width=”7.638888888888889e-3in”height=”0.3229166666666667in”}练习部分 一、 单项选择题(每个5分，共20分) 1.已知f(x)＝(ax－1)e^x^＋1，若f(x)在定义域内单调递减，则a的值为( ) A. 0 B. 1 C. 2 D. 3 【答案】 A 【解析】原问题等价于f(x)的导函数f′(x)≤0恒成立．因为f(x)＝(ax－1)e^x^＋1，所以f′(x)＝(ax＋a－1)e^x^.因为e^x^&gt;0，所以若要使f′(x)≤0恒成立，则a＝0. 2. 若不等式2x lnx≥－x^2^＋ax对x∈[1，＋∞)恒成立，则实数a的取值范围是( ) A. (－∞，0) B. (－∞，1] C. (0，＋∞) D. [1，＋∞) 【答案】 B 【解析】 由2x ln x≥－x^2^＋ax，x∈[1，＋∞)，可知a≤2lnx＋x.设h(x)＝2lnx＋x，x∈[1，＋∞)，则h′(x)＝＋1&gt;0，所以函数h(x)在[1，＋∞)上单调递增，所以h(x)min＝h(1)＝1，所以a≤h(x)min＝1.故a的取值范围是(－∞，1]. 3.设a为正实数，函数f(x)＝x^3^－3ax^2^＋2a^2^，若存在x∈[a，2a]，f(x)&gt;0，则a的取值范围是( ) A. (1，＋∞) B. (0，1) C. D. 【答案】 B 【解析】因为f′(x)＝3x^2^－6ax＝3x(x－2a)，a≤x≤2a时，若f′(x)≤0，当且仅当x＝2a时取等号，故f(x)在[a，2a]上单调递减．因为存在x∈[a，2a]，f(x)&gt;0，所以f(a)＝－2a^3^＋2a^2^&gt;0，故0&lt;a&lt;1. 4. 已知函数f(x)＝x＋a，g(x)＝x lnx＋1，若存在x1∈[1，5]，对任意x2∈，都有f(x1)＝g(x2)，则实数a的取值范围是( ) A. B. (－∞，－4＋e] C. [－4＋e，－] D. 【答案】 C 【解析】 易知f(x)的值域为[1＋a，5＋a].g′(x)＝lnx＋1，x∈[，e]，当x∈[，]时，g′(x)&lt;0，g*(x)单调递减；当x∈[，e]时，g′(x)&gt;0，g*(x)单调递增，g＝1－，g＝1－，g(e)＝e＋1，故g(x)max＝e＋1，g(x)min＝1－，g(x)的值域为.根据题意，存在x1∈[1，5]，对任意x2∈[，e]，都有f(x1)＝g(x2)，相当于g(x)的值域是f(x)值域的子集，则1－≥1＋a，且1＋e≤5＋a，得－4＋e≤a≤－. 二、 多项选择题(每个5分，共15分) 5.已知函数f(x)＝x^3^－2x^2^＋3x＋c，若对任意x∈[0，2]，f(x)≤c^2^－恒成立，则实数c的可能取值是( ) A. －1 B. C. 2 D. － 【答案】 ABC 【解析】f(x)＝x^3^－2x^2^＋3x＋c，f′(x)＝x^2^－4x＋3＝(x－1)(x－3).令f′(x)&gt;0，解得x&lt;1或x*&gt;3；令f′(x)&lt;0，解得1&lt;x&lt;3，所以函数f*(x)在区间[0，1)上单调递增，在区间(1，2]上单调递减，所以f(x)max＝f(1)＝＋c.若对任意x∈[0，2]，f(x)≤c^2^－恒成立，则f(1)≤c^2^－，即＋c≤c^2^－，整理可得c^2^－c－2≥0，解得c≤－1或c≥2.结合选项知A，B，C符合题意． 6. 已知函数f(x)＝x－，g(x)＝a cos＋5－2a(a&gt;0).给出下列四个命题，其中是真命题的为( ) A. 若存在x∈[1，2]，使得f(x)&lt;*a*成立，则*a*&gt;－1 B. 若任意x∈R，使得g(x)&gt;0恒成立，则0&lt;a&lt;5 C.若任意x1∈[1，2]，任意x2∈R，使得f(x1)&gt;g(x2)恒成立，则a&gt;6 D.若任意x1∈[1，2]，存在x2∈[0，1]，使得f(x1)＝g(x2)成立，则3≤a≤4 【答案】 ACD 【解析】对选项A，只需f(x)在[1，2]上的最小值小于a，易知f(x)在[1，2]上单调递增，所以f(x)min＝f(1)＝1－＝－1，所以a&gt;－1，故A为真；对选项B，只需g(x)的最小值大于0，因为acos∈[－a，a]，所以g(x)min＝－a＋5－2a＝5－3a&gt;0，所以0&lt;a*&lt;，故B为假；对选项C，只需*f*(*x*)在[1，2]上的最小值大于*g*(*x*)的最大值，*f*(*x*)min＝－1，*g*(*x*)max＝*a*＋5－2*a*＝5－*a*，即－1&gt;5－a，a&gt;6，故C为真；对选项D，只需g*(x)min≤f(x)min，g(x)max≥f(x)max，f(x)max＝f(2)＝2－＝1，所以当x1∈[1，2]时，f(x1)∈[－1，1]，当x∈[0，1]时，∈，所以g(x)在[0，1]上单调递减，g(x)min＝g(1)＝5－2a，g(x)max＝g(0)＝5－a，所以g(x)∈[5－2a，5－a]，由题意得等价于 3≤a≤4，故D为真． 7.已知命题p：已知函数f(x)＝－x^2^＋ax＋1(a∈R)，若当a∈I时，任意x1，x2∈[0，2]，|f(x1)－f(x2)|≤恒成立，则下列说法不正确的有( ) A. 当I＝(1，2)时，命题p是真命题 B. 当I＝时，命题p是真命题 C. 当I＝时，命题p是真命题 D. 当I＝时，命题p是真命题 【答案】 BD 【解析】命题p为真，只需当x∈[0，2]时，f(x)max－f(x)min≤.只需考查当1&lt;a&lt;2时的情况，由f′(x)＝x^2^－(a＋1)x＋a＝(x－1)(x－a).易知f(x)在[0，1]上单调递增，在[1，a]上单调递减，在[a，2]上单调递增．由于f(2)－f(0)＝，所以只需即所以1&lt;a≤.故选BD. 三、 填空题(每个5分，共15分) 8.若关于x的不等式x^3^－ax^2^＋1≥0在[－1，1]上恒成立，则实数a的取值范围是________． 【答案】 (－∞，0] 【解析】当x＝0时，原不等式显然成立，a∈R．当x≠0时，由原不等式可得a≤x＋，令h(x)＝x＋，－1≤x≤1且x≠0，则h′(x)＝1－＝，易得函数h(x)在[－1，0)上单调递增，在(0，1]上单调递减，故当x＝－1时，h(x)取得最小值h(－1)＝0，所以a≤0. 9.已知函数f(x)＝e^x^－ax，若存在实数x∈(0，＋∞)，使得f(x)≤0成立，则实数a的取值范围是________． 【答案】 [e，＋∞) 【解析】依题意，条件等价于存在实数x∈(0，＋∞)，使得a≥成立．令g(x)＝(x≠0)，则g′(x)＝，x∈(0，＋∞).当0&lt;x*&lt;1时，*g*′(*x*)&lt;0，函数*f*(*x*)单调递减，当*x*&gt;1时，g′(x)&gt;0，函数f*(x)单调递增，所以g(x)min＝g(1)＝e，所以a≥e. 10.若x∈[0，1]时，e^x^－|2x－a|≥0，则a的取值范围为________． 【答案】 [2ln 2－2，1] 【解析】由题意得2x－e^x^≤a≤2x＋e^x^对任意x∈[0，1]恒成立，令f(x)＝2x－e^x^，g(x)＝2x＋e^x^，因为f′(x)＝2－e^x^在[0，1]单调递减，且f′(ln2)＝0，所以f(x)在(0，ln 2)上单调递增，在(ln2，1)上单调递减，所以a≥f(x)max＝f(ln 2)＝2ln2－2.又因为g(x)＝2x＋e^x^在[0，1]上单调递增，所以a≤g(x)min＝g(0)＝1，所以a的取值范围为[2ln2－2，1]. 四、 解答题(第11，12题各15分，第13题20分，共50分) 11. 已知函数f(x)＝ln x－ax(a∈R). (1) 当a＝2时，求函数f(x)的极值； (2) 若对任意x∈(0，＋∞)，f(x)&lt;0恒成立，求a的取值范围． 【解析】 (1) 当a＝2时，f(x)＝lnx－2x，f′(x)＝－2＝(x&gt;0).令f′(x)＝0，得x＝. 当x变化时，f(x)，f′(x)的变化情况如下表： x f′(x) ＋ 0 － f(x) 增 极大值 减所以f(x)在上单调递增，在上单调递减，极大值为f＝－ln2－1，无极小值． (2) 对任意x∈(0，＋∞)，f(x)&lt;0恒成立 对任意x∈(0，＋∞)，&lt;a恒成立 &lt;a，x∈(0，＋∞). 令h(x)＝，h′(x)＝. 当x∈(0，e)时，h′(x)&gt;0，h(x)单调递增； 当x∈(e，＋∞)时，h′(x)&lt;0，h(x)单调递减． 所以h(x)max＝h(e)＝，所以a&gt;. 12. 已知f(x)＝kx－sin 2x＋a sin x(k，a为实数). (1) 当k＝0，a＝2时，求f(x)在[0，π]上的最大值； (2) 当k＝4时，若f(x)在R上单调递增，求a的取值范围． 【解析】 (1) 当k＝0，a＝2时，f(x)＝－sin 2x＋2sin x， f′(x)＝－2cos 2x＋2cos x＝－4cos^2^x＋2cosx＋2＝－2(2cosx＋1)(cos x－1). 令f′(x)＝0，得x＝. 当x变化时，f(x)，f′(x)在[0，π]上的变化情况如下表： x f′(x) ＋ 0 － f(x) 增 极大值 减所以当x＝时，f(x)取得极大值，也是最大值，即f(x)最大值＝f＝. (2) 若f(x)在R上单调递增，则f′(x)＝4－2(2cos^2^x－1)＋acosx≥0对任意x∈R恒成立， 得4cos^2^x－a cosx－6≤0. 设t＝cos x∈[－1，1]，g(t)＝4t^2^－at－6， 则g(t)≤0在[－1，1]上恒成立，由二次函数g(t)的图象知解得－2≤a≤2. 13. 已知函数f(x)＝x^2^ln x. (1) 讨论f(x)的单调性； (2) 若关于x的不等式f(x)－ax＋1≥0恒成立，求实数a的取值范围． 【解析】 (1) 由已知得f′(x)＝2x，x&gt;0. 令f′(x)＝0，得x＝. 当0&lt;x&lt;时，f′(x)&lt;0，f(x)在上单调递减； 当x&gt;时，f′(x)&gt;0，f(x)在上单调递增． 综上，f(x)的单调减区间为，单调增区间为. (2) 因为f(x)－ax＋1≥0恒成立，即x^2^lnx－ax＋1≥0恒成立，等价于a≤x ln x＋恒成立． 令g(x)＝x ln x＋，则g′(x)＝ln x＋1－. 令h(x)＝ln x＋1－，则h′(x)＝＋&gt;0在(0，＋∞)上恒成立． 所以g′(x)＝ln x＋1－在(0，＋∞)上单调递增． 因为g′(1)＝0， 所以当0&lt;x&lt;1时，g′(x)&lt;0，g(x)在(0，1)上单调递减； 当x&gt;1时，g′(x)&gt;0，g(x)在(1，＋∞)上单调递增． 所以g(x)min＝g(1)＝1，所以a≤g(x)min＝1. 综上，a的取值范围是(－∞，1]."},{"title":"","date":"2022-02-20T06:40:28.288Z","updated":"2022-02-20T06:26:51.023Z","comments":true,"path":"resources/4.5/5.4.3.html","permalink":"https://billma.top/resources/4.5/5.4.3.html","excerpt":"","text":"{width=”7.638888888888889e-3in”height=”0.3229166666666667in”}习题课 函数零点问题 题型1 求函数零点 {width=”0.22847222222222222in”height=”0.13402777777777777in”} (1)求函数f(x)＝x^3^－2x^2^－x＋2的零点； (2) 求函数f(x)＝e^2x^＋x－1的零点． 【解析】(1)令f(x)＝x^3^－2x^2^－x＋2＝(x－2)(x－1)(x＋1)＝0，解得x1＝－1，x2＝1，x3＝2，故函数零点为－1，1，2. (2)因为f′(x)＝2e^2x^＋1&gt;0，所以f(x)在R上单调递增，而f(0)＝0，所以函数f(x)＝e^2x^＋x－1有且只有一个零点0. 题型2 判断零点个数 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 已知函数f(x)＝x^2^＋x－2－lnx，试确定该函数零点的个数． 【解析】函数f(x)＝x^2^＋x－2－lnx的定义域为(0，＋∞)，则f′(x)＝2x＋1－＝＝， 令f′(x)&gt;0x&gt;，令f′(x)&lt;00&lt;x&lt;， 即f(x)在上单调递减，在上单调递增， 则当x＝时，函数f(x)有极小值f＝－＋ln2，无极大值，且f(x)的极小值即为最小值． 又有f&gt;0，f＝－＋ln 2&lt;0，*f*(e^2^)&gt;0， 所以函数f(x)在，内各有一零点， 所以f(x)有两个零点． {width=”0.27569444444444446in”height=”0.12569444444444444in”} 已知定义在上的函数f(x)＝sinx·(cos x＋1)－mx，则该函数的零点个数最多为( ) A. 1 B. 2 C. 3 D. 5 【答案】 C 【解析】令g(x)＝sin x(cos x＋1)，则g′(x)＝(2cos x－1)(cosx＋1)，当x∈时，g′(x)&lt;0，g*(x)为减函数；当x∈时，g′(x)&gt;0，g*(x)为增函数；当x∈时，g′(x)&lt;0，g(x)为减函数．分别画出y＝g(x)＝sinx(cosx＋1)与y＝mx的图象，如图所示，则由图象知交点的个数最多为3，故该函数的零点个数最多为3. {width=”1.3229166666666667in”height=”1.023611111111111in”}(变式) 题型3 根据零点个数求参数 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 已知函数g(x)＝＋lnx＋x－2－b(b∈R)在区间[e^－1^，e]上有两个零点，求实数b的取值范围． 【解析】因为g(x)＝＋lnx＋x－2－b，所以g′(x)＝＝，所以g(x)在[e^－1^，1]上是减函数，在(1，e]上是增函数． 因为g(x)在区间[e^－1^，e]上有两个零点， 所以 解得1&lt;b≤＋e－1. {width=”0.27569444444444446in”height=”0.12569444444444444in”} 已知函数f(x)＝ax＋x lnx在x＝1处取得极值． (1) 求f(x)的单调区间； (2)若y＝f(x)－m－1在定义域内有两个不同的零点，求实数m的取值范围． 【解析】(1) 函数f(x)＝ax＋x lnx的定义域为(0，＋∞).f′(x)＝a＋ln x＋1. 因为f′(1)＝a＋1＝0，解得a＝－1. 当a＝－1时，f(x)＝－x＋x ln x， 即f′(x)＝ln x，令f′(x)&gt;0，解得x&gt;1； 令f′(x)&lt;0，解得0&lt;x&lt;1. 所以f(x)在x＝1处取得极小值，f(x)的单调增区间为(1，＋∞)，单调减区间为(0，1). (2)y＝f(x)－m－1在(0，＋∞)内有两个不同的零点，可转化为y＝f(x)与y＝m＋1的图象有两个不同的交点． 由(1)知，f(x)在(0，1)上单调递减，在(1，＋∞)上单调递增，f(x)min＝f(1)＝－1. 由题意得m＋1&gt;－1，即m&gt;－2.① 当0&lt;x&lt;e时，f(x)＝x(－1＋ln x)&lt;0； 当x&gt;e时，f(x)&gt;0. 当x&gt;0且x→0时，f(x)→0； 当x→＋∞时，显然f(x)→＋∞. 由图象可知m＋1&lt;0，即m&lt;－1，② 由①②可得－2&lt;m&lt;－1， 所以m的取值范围是(－2，－1). {width=”1.2597222222222222in”height=”0.9215277777777777in”}(变式) 方法提炼：①研究函数零点情况，可以通过分析函数的单调性、最大值、最小值、变化规律等，明确函数图象的准确走势规律来获取； ②已知函数零点情况时，常通过分离参数法、分类讨论法等确定参数范围； ③确定函数零点具体范围时，需要依据零点存在性定理． {width=”7.638888888888889e-3in”height=”0.3229166666666667in”}练习部分 一、 单项选择题(每个5分，共20分) 1.已知函数f(x)＝2^x^＋2x－5，则函数f(x)的零点所在区间为( ) A. (0，1) B. (1，2) C. (2，3) D. (3，4) 【答案】 B 【解析】经计算可知f(1)＝2＋2－5＝－1&lt;0，*f*(2)＝4＋4－5＝3&gt;0，根据零点存在性定理可得函数的零点所在区间为(1，2). 2. 已知函数f(x)＝sinx＋x^3^＋3x，则函数f(x)的零点个数为( ) A. 0 B. 1 C. 2 D. 3 【答案】 B 【解析】 易知f(x)＝sinx＋x^3^＋3x为奇函数，且f(0)＝0.当x&gt;0时，f′(x)＝cosx＋3x^2^＋3&gt;0恒成立，即f(x)在(0，＋∞)上单调递增，根据奇函数的对称性可知函数f(x)在(－∞，0)上单调递增，故函数f(x)在R上单调递增，f(0)＝0，即函数f(x)只有一个零点． 3. 函数f(x)＝x^2^－6x＋2e^x^的极值点所在的区间为( ) A. (0，1) B. (－1，0) C. (1，2) D. (－2，－1) 【答案】 A 【解析】因为f(x)＝x^2^－6x＋2e^x^，所以f′(x)＝2x－6＋2e^x^，且函数f′(x)单调递增．又因为f′(0)＝－6＋2e^0^＝－4&lt;0，f*′(1)＝－4＋2e&gt;0，所以函数f′(x)在区间(0，1)内存在唯一的零点，即函数f*(x)的极值点在区间(0，1)内． 4.已知函数f(x)＝，若关于x的方程f(x)－m＋1＝0恰好有2个不相等的实数根，则实数m的取值范围为( ) A. B. C. D. 【答案】 A 【解析】f(x)＝，f′(x)＝，则当x&gt;时，f′(x)&lt;0，当0&lt;x*&lt;时，*f*′(*x*)&gt;0，即f*(x)在上单调递增，在上单调递减，f(x)极大值＝f＝.函数f(x)的大致图象如图所示，若关于x的方程f(x)－m＋1＝0恰好有2个不相等的实数根，则0&lt;m－1&lt;，即1&lt;m&lt;1＋. {width=”0.96875in”height=”0.8583333333333333in”} (第4题) 二、 多项选择题(每个5分，共15分) 5.已知函数f(x)＝ax^3^＋bx^2^＋cx(a&lt;0)的导函数y＝f′(x)的两个零点为1，2，则下列结论正确的有( ) A. abc&lt;0 B. f(x)在区间[0，3]上的最大值为0 C. f(x)只有一个零点 D. f(x)的极大值是正数 【答案】 BC 【解析】f(x)＝ax^3^＋bx^2^＋cx(a&lt;0)，f′(x)＝3ax^2^＋2bx＋c，由题意得1，2是方程3ax^2^＋2bx＋c＝0的根，故b＝－a&gt;0，c＝6a&lt;0，故abc&gt;0，故A错误；f(x)＝ax^3^－ax^2^＋6ax，显然f(x)在(－∞，1)上单调递减，在(1，2)上单调递增，在(2，＋∞)上单调递减，故f(x)在[0，1)上单调递减，在(1，2)上单调递增，在(2，3]上单调递减，而f(0)＝0，f(1)＝a&lt;0，f(2)＝2a&lt;0，f(3)＝a&lt;0，故f(x)在[0，3]上的最大值是0，故B正确；函数f(x)的大致图象如图所示，故函数f(x)只有1个零点，故C正确，D错误． {width=”1.1020833333333333in”height=”0.9368055555555556in”} (第5题) 6. 满足h(x)＝f(x)－g(x)在(0，＋∞)上有唯一零点的有( ) A. f(x)＝e^x^，g(x)＝x＋1 B. f(x)＝ln x，g(x)＝x－1 C. f(x)＝ln (x＋1)，g(x)＝x D. f(x)＝ln ，g(x)＝＋1 【答案】 ABD 7. 已知函数f(x)＝ln x－mx有两个零点x1，x2，且x1&lt;x2，则( ) A. 0&lt;x1&lt;1 *B*. x2&gt;e C. 0&lt;m&lt; D. x2－x1的值随m的增大而减小 【答案】 BCD 【解析】 由f(x)＝ln x－mx＝0，得lnx＝mx，即m＝(x&gt;0).令g(x)＝，则g′(x)＝，则当x∈(0，e)时，g′(x)&gt;0，当x∈(e，＋∞)时，g′(x)&lt;0，故g(x)在(0，*e*)上单调递增，在(*e*，＋∞)上单调递减，当x＝*e*时，g(x)取得最大值为g(*e*)＝.又当x→0时，g(x)→－∞，当x→＋∞时，g(x)→0，作出函数g(x)的图象，如图所示，由图象可知：x2&gt;e，0&lt;m&lt;，x2－x1的值随m的增大而变小． {width=”1.3305555555555555in”height=”1.0in”} (第7题) 三、 填空题(每个5分，共15分) 8. 已知函数f(x)＝ln x＋x－2，则该函数的零点个数为________． 【答案】 1 【解析】 由函数f(x)＝lnx＋x－2，x&gt;0，得f′(x)＝＋1&gt;0，故函数f(x)是增函数，又因为f(1)＝－1&lt;0，f(*e*)&gt;0，所以函数f(x)的零点个数为1. 9. 若函数f(x)＝＋1(a&lt;0)没有零点，则实数a的取值范围为________． 【答案】 (－e^2^，0) 【解析】f′(x)＝＝(a&lt;0).当x&lt;2时，f′(x)&lt;0；当x&gt;2时，f′(x)&gt;0，所以当x＝2时，f(x)有极小值f(2)＝＋1.若使函数f(x)没有零点，当且仅当f(2)＝＋1&gt;0，解得a&gt;－e^2^，因此－e^2^&lt;a&lt;0. 10.若函数f(x)＝x^3^＋x^2^－ax－a(a&gt;0)在(－2，0)内含有两个零点，则a的取值范围是________． 【答案】 【解析】因为f(x)＝x^3^＋x^2^－ax－a，所以f′(x)＝x^2^＋(1－a)x－a＝(x－a)(x＋1)，因为函数f(x)＝x^3^＋x^2^－ax－a(a&gt;0)在(－2，0)内含有两个零点，所以 解得0&lt;a&lt;. 四、 解答题(第11，12题各15分，第13题20分，共50分) 11. 已知函数f(x)＝2x ln x－x^2^＋1.求证：函数f(x)只有一个零点． 【解析】 因为函数f(x)的定义域为(0，＋∞)， f′(x)＝2ln x＋2－2x.令g(x)＝f′(x)， 则g′(x)＝－2＝，令g′(x)＝0， 解得x＝1. 所以易知g(x)在(0，1)上单调递增，在(1，＋∞)上单调递减，所以g(x)≤g(1)＝0，即f′(x)≤0， 所以f(x)在(0，＋∞)上单调递减． 又因为f(1)＝0，所以f(x)有唯一的零点1. 12. 已知函数f(x)＝x^3^－x^2^－ax－2的图象过点A. (1) 求函数f(x)的单调增区间； (2) 若函数g(x)＝f(x)－2m＋3有3个零点，求m的取值范围． 【解析】 (1) 因为函数f(x)＝x^3^－x^2^－ax－2的图象过点A， 所以－4a－4a－2＝，解得a＝2. 即f(x)＝x^3^－x^2^－2x－2. 所以f′(x)＝x^2^－x－2. 由f′(x)&gt;0，得x&lt;－1或x&gt;2. 所以函数f(x)的单调增区间是(－∞，－1)，(2，＋∞). (2)由(1)知f(x)极大值＝f(－1)＝－－＋2－2＝－，f(x)极小值＝f(2)＝－2－4－2＝－， 由数形结合可知，要使函数g(x)＝f(x)－2m＋3有三个零点， 则－&lt;2m－3&lt;－，解得－&lt;m&lt;. 所以m的取值范围为. 13. 已知函数f(x)＝ax^2^－1－2ln x(a∈R). (1) 当a＝1时，求证：f(x)≥0； (2) 若函数f(x)有两个零点，求实数a的取值范围． 【解析】 (1) 当a＝1时，f(x)＝x^2^－1－2ln x(x&gt;0)， f(1)＝0，f′(x)＝2x－＝. 当x∈(0，1)时，f′(x)&lt;0； 当x∈(1，＋∞)时，f′(x)&gt;0， 所以f(x)在(0，1)上单调递减，在(1，＋∞)上单调递增，所以当x＝1时，函数f(x)取得最小值， 所以f(x)≥f(1)＝0，即f(x)≥0. (2) 由f(x)＝ax^2^－1－2ln x＝0， 得a＝. 设h(x)＝， 因为f(x)有两个零点，所以a＝h(x)有两个解． h′(x)＝＝－， 由h′(x)&gt;0，得ln x&lt;0，所以0&lt;x&lt;1； 由h′(x)&lt;0，得ln x*&gt;0，所以x*&gt;1， 所以函数h(x)在(0，1)上单调递增，在(1，＋∞)上单调递减，所以h(x)max＝h(1)＝1， 当x→0时，h(x)→－∞，当x→＋∞时，h(x)→0. 作出h(x)＝的草图，如图所示， 由a＝h(x)有两个解，可知0&lt;a&lt;1，故实数a的取值范围是(0，1). {width=”0.9215277777777777in”height=”0.8659722222222223in”} (第13题)"},{"title":"","date":"2022-02-20T06:40:28.288Z","updated":"2022-02-20T06:26:51.710Z","comments":true,"path":"resources/4.5/5.4.4.html","permalink":"https://billma.top/resources/4.5/5.4.4.html","excerpt":"","text":"{width=”7.638888888888889e-3in”height=”0.3229166666666667in”}习题课 曲线的切线 题型1 在某点处的切线 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 若函数f(x)＝e^x^＋sinx在点(0，1)处的切线与直线2x－ay＋1＝0互相垂直，则实数a等于( ) A. －2 B. －4 C. － D. 2 【答案】 B 【解析】由f(x)＝e^x^＋sin x，得f′(x)＝e^x^＋cosx，所以f′(0)＝e^0^＋cos0＝2，由题意可得a≠0，则直线2x－ay＋1＝0的斜率为.又因为函数f(x)＝e^x^＋sinx在点(0，1)处的切线与直线2x－ay＋1＝0互相垂直，所以2×＝－1，即a＝－4. {width=”0.27569444444444446in”height=”0.12569444444444444in”} 已知曲线f(x)＝(x＋a lnx)e^x^在点(1，e)处的切线经过坐标原点，则a等于( ) A. －e B. －2 C. －1 D. e－2 【答案】 C 【解析】由f(x)＝(x＋a lnx)e^x^，得f′(x)＝e^x^，所以f′(1)＝(a＋2)e.由题意知＝(2＋a)e，解得a＝－1. 题型2 过某点的切线 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 已知曲线C：y＝x^3^＋2和点P(1，3)，求过点P且与曲线C相切的直线方程． 【解析】设所求直线与曲线切于点(x0，y0)，则y0＝x＋2. 因为k＝y′|x＝x0＝3x， 所以切线方程为y－(x＋2)＝3x(x－x0). 因为切线过点P(1，3)， 所以3－(x＋2)＝3x(1－x0)， 解得x0＝1或x0＝－，所以k＝3x＝3或， 故所求直线的方程为3x－y＝0或3x－4y＋9＝0. {width=”0.27569444444444446in”height=”0.12569444444444444in”} 若过点A(a，0)的任意一条直线都不与曲线C：y＝(x－1)e^x^相切，则a的取值范围是________． 【答案】 (－3，1) 【解析】设点B(x0，(x0－1)ex0)为曲线C上任意一点，因为y′＝e^x^＋(x－1)e^x^＝xe^x^，所以y′|x＝x0＝x0ex0，则曲线C在点B处的切线l的方程为y－(x0－1)ex0＝x0ex0(x－x0).根据题意，切线l不经过点A，则关于x0的方程－(x0－1)ex0＝x0ex0·(a－x0)，即x－(a＋1)x0＋1＝0无实根，所以Δ＝(a＋1)^2^－4&lt;0，解得－3&lt;a&lt;1，所以a的取值范围是(－3，1). 题型3 公切线 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 若直线l既和曲线C1相切，又和曲线C2相切，则称l为曲线C1和C2的公切线.求曲线C1：y＝x^2^和曲线C2：y＝4e^x－2^的公切线方程． 【解析】y＝x^2^的导数为y′＝2x，y＝4e^x－2^的导数为y′＝4e^x－2^. 设曲线C1，C2的公切线与曲线C1的切点为(x1，x)，则切线的斜率为2x1，与曲线C2的切点为(x2，4ex2－2)，则切线的斜率为4ex2－2，所以2x1＝4ex2－2， 当曲线C1与C2的切点相同时，x1＝x2，x＝4ex2－2，可得x1＝x2＝2，所以切点为(2，4)， 此时公切线的方程为4x－y－4＝0. 当曲线C1与C2的切点不同时，x1≠x2，2x1＝，可得x1＝2x2－2，所以4x2－4＝4ex2－2，即x2－1＝ex2－2，易知y＝x－1与y＝e^x－2^相切，即有且只有一个交点， 所以方程x2－1＝ex2－2有且只有一解：x2＝2，此时x1＝2，与x1≠x2矛盾，故不存在两切点不同的情况． 综上可得，切点的坐标为(2，4)，公切线的方程为4x－y－4＝0. {width=”0.27569444444444446in”height=”0.12569444444444444in”} 已知函数f(x)＝x^2^－2m，g(x)＝3lnx－x，若曲线y＝f(x)与y＝g(x)在公共点处的切线相同，则实数m的值是________． 【答案】 1 【解析】设两曲线y＝f(x)与y＝g(x)的公共点为(a，b)(a&gt;0)， f(x)＝x^2^－2m，其导数f′(x)＝2x，则切线的斜率k＝f′(a)＝2a，g(x)＝3lnx－x，其导数g′(x)＝－1，则切线的斜率k＝g′(a)＝－1，则有2a＝－1，解得a＝1或－(舍去)，则b＝3ln1－1＝－1，则公共点为(1，－1)，则有－1＝1－2m，解得m＝1. 题型4 切线的应用 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 若点P是曲线y＝x^2^－lnx上任一点，则点P到直线x－y－4＝0的最小距离是( ) A. B. 3 C. 2 D. 2 【答案】 C 【解析】设与直线x－y－4＝0平行的直线与曲线y＝x^2^－lnx切于点P(x0，y0)，由y＝x^2^－lnx，得y′＝2x－(x&gt;0)，则y′|x＝x0＝2x0－.由2x0－＝1，解得x0＝1(舍去负值)，所以P点坐标为(1，1)，则点P到直线x－y－4＝0的最小距离是＝2. 方法提炼： ①求曲线在某点处的切线：一般通过切点在切线上、在曲线上及切点处导数即为斜率，得到方程进行求解． ②求曲线过某点的切线：一般先设切点，写出切线方程后代入所过的点得切点后求解． ③求两曲线公切线：一般通过”切线斜率相等”与讨论切点异同时所得方程组求解． {width=”7.638888888888889e-3in”height=”0.3229166666666667in”}练习部分 一、 单项选择题(每个5分，共20分) 1. 若曲线f(x)＝ax＋lnx在点(1，f(1))处的切线斜率为3，则实数a的值为( ) A. 1 B. 2 C. 3 D. 4 【答案】 B 【解析】 由f(x)＝ax＋lnx，得f′(x)＝a＋.因为f(x)在点(1，f(1))处的切线斜率为3，所以f′(1)＝3，所以a＋1＝3，所以a＝2. 2.曲线y＝x＋在点(1，3)处的切线与两坐标轴所围成的三角形的面积为( ) A. 4 B. 2 C. 16 D. 8 【答案】 D 【解析】因为曲线y＝x＋，所以y′＝1－，所以曲线y＝x＋在点(1，3)处的切线斜率为1－2＝－1，切线方程为l：x＋y－4＝0，则直线l与两坐标轴的交点分别为(4，0)，(0，4)，所以直线l与坐标轴围成的三角形面积为×4×4＝8. 3. 曲线y＝在点处的切线方程为( ) A. 2x－y－＋1＝0 B. 2x－y－－1＝0 C. 2x＋y－＋1＝0 D. 2x＋y－－1＝0 【答案】 D 【解析】由y＝，得y′＝＝－，所以y′|x＝＝－＝－2，则曲线y＝在点处的切线方程为y－1＝－2，即2x＋y－－1＝0. 4. 已知直线y＝a(x－1)(a&gt;0)与曲线f(x)＝cosx(x∈(－π，π))相切于点A，与曲线的另一交点为B，若A，B两点对应的横坐标分别为x1，x2(x1&lt;x2)，则(1－x1)tan x1等于( ) A. －1 B. 2 C. 1 D. －2 【答案】 C 【解析】 如图，直线与曲线f(x)＝cos x相切于点A(x1，cosx1)，f′(x)＝－sin x，又直线过定点(1，0)，则＝－sinx1，所以(1－x1)tan x1＝1. {width=”0.96875in”height=”0.6611111111111111in”} (第4题) 二、 多项选择题(每个5分，共15分) 5. 若函数f(x)＝lnx与g(x)＝x^2^＋x－k的图象只有一个公共点P(x0，y0)，且在这个公共点处的切线相同，则下列判断正确的有( ) A. x0＝1或x0＝－3 B. y0＝0 C. k＝ D. 切线方程为y＝x－1 【答案】 BCD 【解析】 设两个函数图象的公共点P的坐标为(x0，y0)， 由题意可得 即 由②得x0＝1或x0＝－3(舍去). 把x0＝1代入①，解得k＝.故A错误，B正确，C正确．所以切线方程为y＝x－1，故D正确． 6. 设直线l是曲线y＝9x^2^－2＋ln x的切线，以下判断正确的有( ) A. 曲线在点x＝处的切线斜率为10 B. 有且只有一条直线l的斜率为6 C. 存在一条直线l的斜率为5 D. 曲线有且仅有一个零点 【答案】 ABD 【解析】 函数y＝9x^2^－2＋lnx的定义域为(0，＋∞)，y′＝18x＋，所以曲线在点x＝处的切线斜率为10，故A正确；再设切点为M(a，b)(a&gt;0)，则y′|x＝a＝18a＋≥2＝6，当且仅当18a＝，即a＝时，直线l的斜率取得最小值6，故B正确，C错误；令y＝9x^2^－2＋lnx＝0，即ln x＝2－9x^2^，又数形结合可得D正确． 7.d表示曲线C：y＝x^4^上的点P到直线l：8x－16y－7＝0的距离，以下判断正确的有( ) A. d＝2时，存在两个这样的点P B. d＝时，有且只有一个这样的点P C. 曲线C在第二象限存在在点P处的切线垂直于直线l D. 过点与曲线C相切的直线有两条 【答案】 AC 【解析】由y＝x^4^，得y′＝4x^3^，设曲线y＝x^4^上的点P的坐标为(x0，y0).若过点P的切线与直线8x－16y－7＝0平行，则4x＝，解得x0＝，所以切点为，则曲线y＝x^4^上的点到直线8x－16y－7＝0的距离的最小值为＝＝，故A正确，B错误．令4x＝－2，存在唯一的负值，所以C正确．由上知，曲线在点P(x0，y0)处的切线方程为y＝4xx－3x，代入，结合图形知有且只有一条切线满足，故D错误． 三、 填空题(每个5分，共15分) 8. 已知直线y＝2x＋b是曲线y＝lnx＋3的一条切线，则b＝________． 【答案】 2－ln 2 【解析】 函数y＝lnx＋3(x&gt;0)的导数为y′＝，由题意知直线y＝2x＋b是曲线y＝lnx＋3(x&gt;0)的一条切线，可知＝2，所以x＝，所以切点坐标为，而切点在直线上，所以b＝y－2x＝ln＋3－1＝2－ln 2. 9.已知曲线C：y＝2x^2^－x^3^，点P(0，－4)，直线l过点P且与曲线C相切于点Q，则点Q的横坐标为________，切线方程为________． 【答案】 －1 7x＋y＋4＝0 【解析】设切点Q的坐标为(a，2a^2^－a^3^)，因为y＝2x^2^－x^3^，所以y′＝(2x^2^－x^3^)′＝4x－3x^2^，所以直线l的斜率为4a－3a^2^，直线l的方程为y－2a^2^＋a^3^＝(4a－3a^2^)(x－a).因为直线过P(0，－4)，所以－4－2a^2^＋a^3^＝－a(4a－3a^2^)，即(a＋1)(a^2^－2a＋2)＝0，所以a＝－1，切线的斜率为4×(－1)－3×(－1)^2^＝－7，切线方程为y－(－4)＝－7(x－0)，即7x＋y＋4＝0. 10. 已知曲线y＝2x－lnx在点(1，2)处的切线与曲线y＝(a－1)x^2^＋(a＋3)x＋5相切，则a＝________． 【答案】 2或10 【解析】 令f(x)＝2x－lnx，g(x)＝(a－1)x^2^＋(a＋3)x＋5，则f′(x)＝2－，f′(1)＝2－1＝1，可得曲线y＝f(x)在点(1，2)处的切线方程为y＝x＋1.联立得(a－1)x^2^＋(a＋2)x＋4＝0，所以解得a＝2或a＝10. 四、 解答题(第11，12题各15分，第13题20分，共50分) 11. 设函数f(x)＝ae^x^ln x＋. (1) 求导函数f′(x)； (2)若曲线y＝f(x)在点(1，f(1))处的切线方程为y＝e(x－1)＋2，求a，b的值． 【解析】 (1) 由f (x)＝ae^x^ln x＋， 得f ′(x)＝(ae^x^ln x)′＋′＝ae^x^ln x＋＋. (2) 由于切点既在曲线y＝f(x)上，又在切线y＝e(x－1)＋2上，将x＝1代入切线方程得y＝2，将x＝1代入函数f(x)得f(1)＝b，所以b＝2.将x＝1代入导函数f′(x)中，得f′(1)＝ae＝e，所以a＝1. 12. 设曲线f(x)＝a ln x＋，a∈R，l是曲线y＝f(x)的一条切线． (1)若曲线y＝f(x)在点(1，f(1))处的切线为l，若l与直线x＋2y－3＝0垂直，求直线l方程； (2) 求证：当a＝0时，l与坐标轴围成的三角形的面积与切点无关． 【解析】 (1)f′(x)＝－，由题意知f′(1)＝a－1＝2，故a＝3，f(1)＝1，所以所求l的方程为2x－y－1＝0. (2) 当a＝0时，f(x)＝，x&gt;0，f′(x)＝－， 设函数f(x)图象上任意一点P， 切线l的斜率为k＝f′(x0)＝－. 过点P的切线方程为y－＝－(x－x0). 令x＝0，解得y＝；令y＝0，解得x＝2x0.则切线与坐标轴围成的三角形面积为S＝||·|2x0|＝2. 所以l与坐标轴围成的三角形的面积与切点无关． 13.若存在过点(1，0)的直线与曲线y＝x^3^和y＝ax^2^＋x－9都相切，求实数a的值． 【解析】 设直线与曲线y＝x^3^的切点坐标为(x0，y0)， 则则切线的斜率k＝3x＝0或k＝. 若k＝0，此时切线的方程为y＝0. 由消去y， 可得ax^2^＋x－9＝0， 其中Δ＝0，即＋36a＝0，解得a＝－； 若k＝，则切线方程为y＝(x－1)， 由消去y， 可得ax^2^－3x－＝0， 又由Δ＝0，即9＋9a＝0，解得a＝－1. 综上，a＝－或－1."},{"title":"","date":"2022-02-20T06:40:28.288Z","updated":"2022-02-20T06:26:50.427Z","comments":true,"path":"resources/4.5/5.3.4.html","permalink":"https://billma.top/resources/4.5/5.3.4.html","excerpt":"","text":"{width=”7.638888888888889e-3in”height=”0.3229166666666667in”}第4课时 函数的最大(小)值 {width=”2.1104166666666666in”height=”0.33055555555555555in”} 类型1 函数的最大(小)值 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 已知函数f(x)＝x^3^＋x^2^－2x，求函数y＝f(x)在[－2，1]上的最大值与最小值． 【解析】令f′(x)＝3x^2^＋x－2＝0，解得x1＝－1，x2＝，当x变化时，f′(x)，f(x)的变化情况如下表： +——-+—-+———+—–+———+——–+———+——-+| x | － | (－2， | －1 | (－1， | | (， | 1 || | 2 | | | | | | || | | －1) | | ) | | 1) | |+=======+====+=========+=====+=========+========+=========+=======+| f′ | | ＋ | 0 | － | 0 | ＋ | || (x) | | | | | | | |+——-+—-+———+—–+———+——–+———+——-+| f | － | 增 | | 减 | － | 增 | － || (x) | 2 | | | | | | |+——-+—-+———+—–+———+——–+———+——-+ 所以－1与是函数f(x)在(－2，1)上的两个极值点，而f(－2)＝－2，f(－1)＝，f＝－，f(1)＝－，所以函数y＝f(x)在[－2，1]上的最大值是f(－1)＝，最小值是f(－2)＝－2. 规律总结：利用导数求函数的极值与闭区间上的最值，设函数f(x)在[a，b]上连续，在(a，b)内可导，求f(x)在[a，b]上的最大值和最小值的步骤如下： 求函数y＝f(x)在(a，b)内的极值，将函数y＝f(x)的各极值与端点处的函数值f(a)，f(b)比较，其中最大的一个为最大值，最小的一个为最小值． {width=”0.22847222222222222in”height=”0.13402777777777777in”} 已知函数f(x)＝x^3^－4x＋4. (1) 求f(x)的极值； (2) 求f(x)在[0，3]上的最值． 【解析】 (1)因为f(x)＝x^3^－4x＋4，f′(x)＝x^2^－4＝(x＋2)(x－2).令f′(x)＝0，解得x＝－2或x＝2， 当x变化时，f′(x)，f(x)的变化情况如下表： x (－∞，－2) －2 (－2，2) 2 (2，＋∞) f′(x) ＋ 0 － 0 ＋ f(x) 增 极大值 减 极小值 增 故当x＝－2时，f(x)取得极大值，f(－2)＝；当x＝2时，f(x)取得极小值，f(2)＝－. (2) 由(1)可知f(x)的极大值为，极小值为－， f(0)＝4，f(3)＝1， 因为－&lt;1&lt;4，所以f(x)在[0，3]上的最大值为4，最小值为－. 类型2 根据最值求参数 {width=”0.22847222222222222in”height=”0.13402777777777777in”} (1)若函数f(x)＝x^3^＋x^2^－2在区间(a－4，a)上存在最小值，则a的取值范围是( ) A. (0，4) B. [0，4) C. [1，4) D. (1，4) 【答案】 C 【解析】因为f(x)＝x^3^＋x^2^－2，所以f′(x)＝x^2^＋2x＝x(x＋2)，令f′(x)&gt;0，解得x&lt;－2或x*&gt;0；令f′(x)&lt;0，解得－2&lt;x&lt;0.故f*(x)的单调增区间为(－∞，－2)和(0，＋∞)，单调减区间为(－2，0)，所以函数f(x)在x＝0处取得极小值，由于函数f(x)在区间(a－4，a)内取到最小值，则由f(a－4)≥f(0)可得(a－4)^3^＋(a－4)^2^－2≥－2，可得(a－4)^2^(a－1)≥0，即解得1≤a&lt;4.因此，实数a的取值范围是[1，4). (2)已知函数f(x)＝(a&gt;0)在[1，＋∞)上的最大值为，则a的值为( ) A. －1 B. C. D. ＋1 【答案】 A 【解析】 由f(x)＝，得f′(x)＝， 当a&gt;1时，若x&gt;，则f′(x)&lt;0，f(x)单调递减； 若1&lt;x*&lt;，则*f*′(*x*)&gt;0，f*(x)单调递增， 故当x＝时，函数f(x)有最大值＝， 解得a＝&lt;1，不符合题意． 当a＝1时，函数f(x)在[1，＋∞)上单调递减，最大值为f(1)＝，不符合题意． 当0&lt;a&lt;1时，函数f(x)在[1，＋∞)上单调递减．此时最大值为f(1)＝＝，解得a＝－1，符合题意．故a的值为－1. 类型3 构造新函数求最值 {width=”0.22847222222222222in”height=”0.13402777777777777in”} 已知函数f(x)＝lnx＋x^2^－3x，若对于任意x1，x2∈[1，10]，当x1&lt;x*2时，不等式f(x1)－f(x2)&gt;－恒成立，求实数m*的取值范围． 【解析】f(x1)－f(x2)&gt;－可变形为f(x1)＋&gt;f(x2)＋，令h(x)＝f(x)＋，则h(x)＝lnx＋x^2^－3x＋(x&gt;0)，不等式可化为h(x1)&gt;h(x2). 因为对任意x1，x2∈[1，10]，当x1&lt;*x*2时，不等式*h*(*x*1)&gt;h(x2)恒成立， 则可知h(x)＝f(x)＋在[1，10]上单调递减． 因为h′(x)＝＋2x－3－＝， 所以2x^3^－3x^2^＋x－m≤0在[1，10]上恒成立， 则m≥2x^3^－3x^2^＋x在[1，10]上恒成立． 令φ(x)＝2x^3^－3x^2^＋x， 则φ′(x)＝6x^2^－6x＋1＝6－≥1&gt;0， 所以φ(x)在[1，10]上单调递增， 所以φ(x)max＝φ(10)＝1 710，所以m≥1 710， 所以实数m的取值范围为[1 710，＋∞). 规律总结：在具体问题情境中，往往需要构造函数之后求相应最值，如：在解决取值范围问题，特别是恒成立问题中，通过分离参变量转化为求新函数最值问题是常用策略． {width=”2.1180555555555554in”height=”0.3388888888888889in”} 一、 单项选择题 1. 函数f(x)＝ln x－x在区间(0，e]上的最大值为( ) A. 1－e B. －1 C. －e D. 0 【答案】 B 【解析】f′(x)＝－1＝，当x∈(0，1)时，f′(x)&gt;0；当x∈(1，e)时，f′(x)&lt;0，所以f(x)在(0，1)上单调递增，在(1，e)上单调递减，故当x＝1时f(x)取得极大值，也为最大值，f(1)＝－1. 2. 函数y＝x＋2cos x在区间上的最大值是( ) A. ＋1 B. ＋ C. ＋ D. 【答案】 C 【解析】 令y′＝1－2sin x＝0，得x＝，易知y＝x＋2cosx在区间上是增函数，在区间上是减函数．当x＝时，y取得最大值，此时y＝＋. 3. 函数f(x)＝ax－lnx≥0(a∈R)恒成立的一个充分不必要条件是( ) A. a∈ B. a∈[0，＋∞) C. a∈[1，＋∞) D. a∈(－∞，e] 【答案】 C 【解析】函数f(x)的定义域为(0，＋∞)，依题意，a≥在(0，＋∞)上恒成立．设g(x)＝，则g′(x)＝，易知函数g(x)在(0，e)上单调递增，在(e，＋∞)上单调递减，所以g(x)max＝g(e)＝，所以a≥，故使得函数f(x)＝ax－ln x≥0(a∈R)恒成立的一个充分不必要条件是a≥1. 4. 已知函数f(x)＝2lnx＋ax^2^－3x在x＝2处取得极小值，则f(x)在内的最大值为( ) A. － B. 2ln 3－ C. －1 D. 2ln 2－4 【答案】 B 【解析】 因为f(x)＝2lnx＋ax^2^－3x，所以f′(x)＝＋2ax－3.由题意可得f′(2)＝4a－2＝0，解得a＝，则f(x)＝2lnx＋x^2^－3x，f′(x)＝＋x－3＝.令f′(x)＝0，可得x＝1或x＝2， 当x变化时，f(x)，f′(x)的变化情况如下表： x 1 (1，2) 2 (2，3] f′(x) ＋ 0 － 0 ＋ f(x) 增 极大值 减 极小值 增所以函数f(x)的极大值为f(1)＝－，极小值为f(2)＝2ln2－4.又因为f＝－2ln 2－，f(3)＝2ln 3－，f(3)－f(1)＝2ln3－＋＝2ln 3－2＝2(ln3－1)&gt;0，即f(1)&lt;f(3)，所以f(x)max＝f(3)＝2ln 3－. 二、 多项选择题 5.已知函数f(x)＝x^3^－2x^2^，x∈[－1，3]，则下列判断正确的是( ) A. 最大值为9 B. 最小值为－3 C. 函数f(x)在区间[1，3]上单调递增 D. x＝0是它的极大值点 【答案】 ABD 【解析】f′(x)＝3x^2^－4x，令f′(x)＝3x^2^－4x&gt;0，解得x&lt;0或x*&gt;.当x∈[－1，0)，时，f′(x)&gt;0，函数f*(x)单调递增；当x∈时，f′(x)&lt;0，函数f(x)单调递减，C错误；0是它的极大值点，D正确．因为f(0)＝0，f(3)＝27－2×9＝9，所以函数f(x)的最大值为9，A正确．因为f(－1)＝－1－2＝－3，f＝－2×＝－，所以函数f(x)的最小值为－3，B正确． 6.若函数f(x)＝2x^3^－ax^2^(a＜0)在上有最大值，则a的取值可能为( ) A. －6 B. －5 C. －4 D. －3 【答案】 ABC 【解析】令f′(x)＝2x(3x－a)＝0，解得x1＝0，x2＝(a＜0).当＜x＜0时，f′(x)＜0；当x＜或x＞0时，f′(x)＞0，则f(x)的单调增区间为，(0，＋∞)，单调减区间为，从而f(x)在x＝处取得极大值f＝－.由f(x)＝－，得＝0，解得x＝或x＝－，又因为f(x)在上有最大值，所以＜≤－，解得a≤－4.所以选项A，B，C符合题意． 7. 若f(x)＝x^a^·cos x，x∈的最大值为M，则( ) A. 当a＝－1时，M&lt; B. 当a＝2时，M&lt; C. 当a＝1时，M&gt; D. 当a＝3时，M&lt; 【答案】 AB 【解析】对于选项A，当a＝－1时，f(x)＝，f′(x)＝&lt;0在区间上恒成立，所以f*(x)在区间上单调递减，所以M＝＝&lt;，故选项A正确．对于选项B，当*a*＝2时，*f*(*x*)＝*x*^2^·cos*x*，则*f*′(*x*)＝*x* cos *x*(2－*x* tan*x*)&gt;0在区间上恒成立，所以f*(x)在区间上单调递增，即M＝&lt;，故选项B正确．对于选项C，当a＝1时，当x∈时，x*&lt;tan*x* 恒成立，所以*f*(*x*)＝*x* cos *x*&lt;tan *x* cos *x*＝sin*x*≤，所以*M*&lt;，故选项C错误．对于选项D，当*a*＝3时，*f*(*x*)＝*x*^3^·cos*x*，则*f*′(*x*)＝*x*^2^cos *x*(3－*x* tan*x*)&gt;0在区间上恒成立，所以f*(x)在区间[，]上单调递增，所以M＝·&gt;，故选项D错误． 三、 填空题 8.函数y＝3x^3^－9x＋5在[－2，2]上的最大值与最小值之差为________． 【答案】 12 【解析】因为y＝3x^3^－9x＋5，所以令y′＝9x^2^－9＝0，解得x1＝1，x2＝－1.令y′&gt;0，解得x&gt;1或x&lt;－1；令y′&lt;0，解得－1&lt;x&lt;1，所以函数f(x)在[－2，－1)上单调递增，在(－1，1)上单调递减，在(1，2]上单调递增．所以当x＝－1时，y取极大值，且极大值是11；当x＝1时，y取极小值，且极小值是－1.而x＝－2时，y＝－1，x＝2时，y＝11，所以函数y的最大值为11，最小值为－1，故函数y的最大值与最小值之差是12. 9.已知函数f(x)＝x^3^＋x^2^－2在区间(a－2，a＋3)上存在最小值，则a的取值范围为________． 【答案】 [－1，2) 【解析】f′(x)＝x^2^＋2x＝x(x＋2)，f′(x)＝0时，x＝－2或x＝0.当x&lt;－2或x*&gt;0时，f′(x)&gt;0，当－2&lt;x&lt;0时，f′(x)&lt;0，所以函数f*(x)的单调增区间是(－∞，－2)和(0，＋∞)，单调减区间是(－2，0)，所以函数的极大值点是－2，极小值点是0，且f(0)＝－2，那么当x^3^＋x^2^－2＝－2时，解得x＝0或x＝－3,所以若函数f(x)在区间(a－2，a＋3)上存在最小值， 则解得－1≤a&lt;2. 10. 设动直线x＝m与函数f(x)＝x^2^，g(x)＝2lnx的图象分别交于M，N，则MN的最小值为________． 【答案】 1 【解析】 根据题意可得点M(m，m^2^)，N(m，2lnm)，所以MN＝m^2^－2ln m(m&gt;0).设h(m)＝m^2^－2lnm(m&gt;0)，h′(m)＝2m－＝(m&gt;0)，所以当m∈(0，1)时，h′(m)&lt;0，h*(m)单调递减；当m∈(1，＋∞)时，h′(m)&gt;0，h*(m)单调递增，所以h(m)min＝h(1)＝1，所以MN的最小值为1. 四、 解答题 11.已知函数f(x)＝(x^2^－4)(2x－a)，a∈R，f′(x)为f(x)的导函数，且f′(－1)＝0. (1) 讨论函数f(x)的单调性； (2) 求函数f(x)在[－2，2]上的最大值和最小值． 【解析】 (1) 由f(x)＝(x^2^－4)(2x－a)， 得f′(x)＝6x^2^－2ax－8. 因为f′(－1)＝0，所以6＋2a－8＝0，所以a＝1， 所以f′(x)＝6x^2^－2x－8＝(2x＋2)(3x－4). 令f′(x)＝0，得x＝－1或x＝. 所以当x&lt;－1或x*&gt;时，f*′(x)&gt;0； 当－1&lt;x&lt;时，f′(x)&lt;0， 所以f(x)在(－∞，－1)，上单调递增，在上单调递减． (2) 由(1)知f(x)在(－2，－1)和上单调递增，在上单调递减． 又因为f(－2)＝f(2)＝0，f(－1)＝9，f＝－， 所以当x∈[－2，2]时，f(x)max＝9，f(x)min＝－. 12. 已知函数f(x)＝(x－k)e^x^. (1) 求f(x)的极值； (2) 求f(x)在区间[0，1]上的最小值． 【解析】 (1)由f(x)＝(x－k)e^x^，得f′(x)＝(x－k＋1)e^x^，令f′(x)＝0，得x＝k－1， 当x变化时，f(x)与f′(x)的变化情况如下表： x (－∞，k－1) k－1 (k－1，＋∞) f′(x) － 0 ＋ f(x) 减 －e^k－1^ 增所以f(x)的单调减区间是(－∞，k－1)，单调增区间是(k－1，＋∞)， f(x)有极小值f(k－1)＝－e^k－1^，无极大值． (2)当k－1≤0，即k≤1时，f′(x)＝(x－k＋1)e^x^≥0在x∈[0，1]上恒成立， 则函数f(x)在[0，1]上单调递增， 所以f(x)在区间[0，1]上的最小值为f(0)＝－k. 当0&lt;k－1&lt;1，即1&lt;k&lt;2时， 由(1)知f(x)在[0，k－1]上单调递减，在(k－1，1]上单调递增， 所以f(x)在区间[0，1]上的最小值为f(k－1)＝－e^k－1^. 当k－1≥1，即k≥2时，函数f(x)在[0，1]上单调递减， 所以f(x)在区间[0，1]上的最小值为f(1)＝(1－k)e. 综上，当k≤1时，f(x)在区间[0，1]上的最小值为f(0)＝－k； 当1&lt;k&lt;2时，f(x)在区间[0，1]上的最小值为f(k－1)＝－e^k－1^； 当k≥2时，f(x)在区间[0，1]上的最小值为f(1)＝(1－k)e. {width=”2.1256944444444446in”height=”0.3388888888888889in”} 1. (多选)下列不等式中恒成立的有( ) A. ln (x＋1)≥，x&gt;－1 B. ln x≤，x&gt;0 C. e^x^≥x＋1 D. cos x≥1－x^2^ 【答案】 ACD 【解析】 选项A，设f(x)＝ln(x＋1)－(x&gt;－1)，则f′(x)＝－＝，当－1&lt;x*&lt;0时，*f*′(*x*)&lt;0，*f*(*x*)单调递减；当*x*&gt;0时，f′(x)&gt;0，f*(x)单调递增．所以f(x)min＝f(0)＝0，即f(x)≥0在(－1，＋∞)上恒成立，ln(x＋1)≥(x&gt;－1)恒成立，故A正确．选项B，设g(x)＝lnx－(x&gt;0)，则g′(x)＝－＝－≤0恒成立，所以g(x)在(0，＋∞)上单调递减，又g(1)＝0，所以g(x)≤0在(0，＋∞)上不可能恒成立，lnx≤(x&gt;0)不恒成立，故B错误．选项C，设h(x)＝e^x^－x－1，则h′(x)＝e^x^－1，令h′(x)＝0，解得x＝0，当x&lt;0时，h*′(x)&lt;0，*h*(*x*)单调递减；当*x*&gt;0时，h′(x)&gt;0，h*(x)单调递增．所以h(x)min＝h(0)＝0，即h(x)≥0在R上恒成立，所以e^x^≥x＋1恒成立，即C正确．选项D，设t(x)＝cosx－1＋x^2^，则t′(x)＝－sinx＋x，令m(x)＝t′(x)＝－sin x＋x，则m′(x)＝－cosx＋1≥0恒成立，即m(x)在R上单调递增，又m(0)＝0，所以当x&lt;0时，m*(x)&lt;0，*t*′(*x*)&lt;0，*t*(*x*)单调递减；当*x*&gt;0时，m*(x)&gt;0，t′(x)&gt;0，t(x)单调递增．所以t(x)min＝t(0)＝0，即t(x)≥0在R上恒成立，cosx≥1－x^2^恒成立，故D正确．"},{"title":"","date":"2022-02-20T06:40:28.288Z","updated":"2022-02-20T06:26:52.660Z","comments":true,"path":"resources/4.5/final.html","permalink":"https://billma.top/resources/4.5/final.html","excerpt":"","text":"章复习 能力整合与素养提升 +—-+———-+—————————————————–+| 概 | 概念 | f(x)在点x0处的导数f′(x0)＝ . || 念 | | || | | || 与 | | || 几 | | || | | || 何 | | || 意 | | || | | || 义 | | |+====+==========+=====================================================+| | 几何意义 | (1) “在”点(x1，y1)处的切线： || | | || | | ①斜率k＝f′(x1)；②切线方程为 || | | __[y－y1＝f′(x1)(x－x1)]{.underline}__． || | | || | | 曲线y＝f(x)在点P(x0，f(x0))处的切线斜率是f′(x || | | 0)，相应地，切线方程是y－y0＝f′(x0)(x－x0). || | | || | | (2) “过”点(x1，y1)的切线． || | | || | | ①设切点(x0，y0)；② || | | 求切线方程；③列方程组：切点(x0，y0)在曲线上，y~ || | | 0＝f(x0)；切点在切线__[y－y1＝f′(x0)(x－x || | | 1)]{.underline}__上；④解方程组，得x0，求切线． |+—-+———-+—————————————————–+| | 物理意义 | __[v＝s′(t)]{.underline}__表示瞬 || | | 时速度．__[a＝v′(t)]{.underline}__表示加速度． |+—-+———-+—————————————————–+| 运 | 基本 | ①C′＝0；②(x^n^)′＝nx^n－1^；③(sin x)′＝cos || 算 | | x；④(cos x)′＝－sin x；⑤(a^x^)′＝a^x^ ln || | 公式 | a；⑥(e^x^)′＝e^x^； || | | || | | ⑦(logax)′＝；⑧(ln x)′＝. |+—-+———-+—————————————————–+| | 运算 | (u±v)′＝__[u′±v′]{.unde || | | rline}__；(uv)′＝__[u′v＋uv′]{.underline}__； || | 法则 | || | | ′＝__[(v≠0)]{.underline}__； || | | || | | 复合函数求导法则： || | | __[[f(g(x))]′＝f′(g(x))g′(x)]{.underline}__． |+—-+———-+—————————————————–+| 研 | 函数的 | ①若f′(x)&gt;0，则f(x || 究 | | )为增函数；若__[f′(x)&lt;0]{.underline}__，则f(x) || 函 | 单调性 | 为减函数；若f′(x)的符号不确定，则f(x)不是单调函数． || 数 | | || 性 | | ②若函数y＝f(x)在区间(a，b)上单调递增，则__[f′(x || 质 | | )≥0]{.underline}__，反之等号不成立；若函数y＝f(x) || | | 在区间(a，b)上单调递减，则f′(x)≤0，反之等号不成立． |+—-+———-+—————————————————–+| | 极值 | 设函数f(x)在点x0附近有定 || | | 义，如果对x0附近所有的点，都有__[f(x)&lt;f(x0)] || | | {.underline}__，就说f(x0)是函数f(x)的一个极大值 || | | ，记作y极大值＝f(x0).如果对x0附近所有的点，都 || | | 有f(x)&gt;f(x0)，就说f(x0)是函数f(x)的一个极小值 || | | ，记作y极小值＝f(x0~).极大值和极小值统称为极值． |+—-+———-+—————————————————–+| | 最值 | 闭区间 || | | 上的连续函数一定存在最大值和最小值，最大值是区间端 || | | 点值和区间内的极大值中的最大者，最小值是区间端点值 || | | 和区间内的极小值中的__[最小者]{.underline}__． |+—-+———-+—————————————————–+ 考法1 导数的几何意义 已知函数f(x)＝xe^2x^－a(2x＋lnx)(a∈R)，若曲线y＝f(x)在点(1，f(1))处的切线方程为y＝－e^2^，求a的值． 【解析】由题意知，f(x)的定义域为(0，＋∞)，f′(x)＝e^2x^＋2xe^2x^－a＝(2x＋1)， 则f′(1)＝3(e^2^－a)，又因为f(1)＝e^2^－2a, 所以曲线y＝f(x)在点(1，f(1))处的切线方程为y－(e^2^－2a)＝3(e^2^－a)(x－1)，即y－(e^2^－2a)＝3(e^2^－a)x＋3a－3e^2,^ 所以解得a＝e^2^. 【题组训练】 1. 已知曲线y＝lnx－x^2^上的一点P(1，f(1))，在点P处的切线的倾斜角为θ，则角θ＝________． 【答案】 【解析】因为y＝lnx－x^2^，所以y′＝－2x，则y′|x＝1＝－1，即tanθ＝－1.而θ∈[0，π)，所以θ＝. 2. 已知函数f(x)＝2sinx＋3xf′(0)，则曲线y＝f(x)在点处的切线方程是________． 【答案】 3x＋y－2＝0 【解析】由f(x)＝2sin x＋3xf′(0)，得f′(x)＝2cosx＋3f′(0)，所以f′(0)＝2cos0＋3f′(0)，得f′(0)＝－1，所以f(x)＝2sinx－3x，f′(x)＝2cos x－3，则f′＝2cos －3＝－3.又因为f＝2sin－3×＝2－，所以曲线y＝f(x)在点处的切线方程为y－2＋＝－3，即3x＋y－2＝0. 3.过曲线y＝2e^x^(e为自然对数的底数)上一点A(1，2e)作曲线的切线，则切线与直线4ex＋y－6e＝0以及y轴所围图形的面积为________． 【答案】 3e 【解析】由已知得y′＝2e^x^，所以切线的斜率为k＝y′|x＝1＝2e，切线方程为y－2e＝2e(x－1)，即y＝2ex.由4ex＋y－6e＝0，得当x＝0时，y＝6e.联立解得所以此时所围图形的面积S＝×6e×1＝3e. 考法2 含参函数的单调性讨论 已知函数f(x)＝ax＋＋(1－a^2^)lnx，a∈R，求函数f(x)的单调区间． 【解析】因为f(x)＝ax＋＋(1－a^2^)ln x，x&gt;0， 所以f′(x)＝a－＋＝＝. 当a＝0时，f′(x)＝&gt;0恒成立，故f(x)在(0，＋∞)上单调递增． 当a≠0时，令f′(x)＝0，解得x＝a或x＝－. 当a&gt;0时，令f′(x)&gt;0，即x&gt;a时，函数单调递增， 令f′(x)&lt;0，即0&lt;x&lt;a时，函数单调递减． 当a&lt;0时，令*f*′(*x*)&gt;0，即0&lt;x&lt;－时，函数单调递增； 令f′(x)&lt;0，即*x*&gt;－时，函数单调递减． 综上所述：当a＝0时，f(x)的增区间为(0，＋∞).当a&gt;0时，f(x)的增区间为(a，＋∞)，减区间为(0，a)；当a&lt;0时，f(x)的增区间为，减区间为. 【题组训练】 1. 已知函数f(x)＝e^2x^－me^x^－m^2^，讨论f(x)的单调性． 【解析】f′(x)＝2e^2x^－me^x^－3m^2^＝(2e^x^－3m)(e^x^＋m). ①当m＝0时，f′(x)＝2e^2x^&gt;0恒成立，所以f(x)在R上单调递增． ②当m&lt;0时，2e^x^－3m*&gt;0，令f′(x)＝0，解得x＝ln (－m*)， 当x&gt;ln (－m)时，f′(x)&gt;0，函数f(x)在(ln(－m)，＋∞)上单调递增；当x&lt;ln (－m)时， f′(x)&lt;0，函数f(x)在(－∞，ln (－m))上单调递减． ③当m&gt;0时，e^x^＋m&gt;0，令f′(x)＝0，解得x＝ln ， 当x&gt;ln 时，f′(x)&gt;0，函数f(x)在上单调递增； 当x&lt;ln 时，f′(x)&lt;0，函数f(x)在上单调递减． 2. 已知函数f(x)＝(x－k)^2^e，求f(x)的单调区间． 【解析】因为f′(x)＝(x^2^－k^2^)e， 令f′(x)＝0，得x＝±k， 当k&gt;0时，f′(x)，f(x)随x的变化情况如下表： x (－∞，－k) －k (－k，k) k (k，＋∞) f′(x) ＋ 0 － 0 ＋ f(x) 增 4k^2^e^－1^ 减 0 增所以f(x)的单调增区间是(－∞，－k)和(k，＋∞)，单调减区间是(－k，k). 当k&lt;0时，f′(x)，f(x)随x的变化情况如下表： x (－∞，k) k (k，－k) －k (－k，＋∞) f′(x) － 0 ＋ 0 － f(x) 减 0 增 4k^2^e^－1^ 减所以f(x)的单调减区间是(－∞，k)和(－k，＋∞)，单调增区间是(k，－k). 考法3 极值与最值 已知函数f(x)＝(ax^2^＋bx＋c)e^x^(a&gt;0)的导函数y＝f′(x)的两个零点为－3和0. (1) 求f(x)的单调区间； (2) 若f(x)的极小值为－1，求f(x)的极大值． 【解析】(1)f′(x)＝(2ax＋b)e^x^＋(ax^2^＋bx＋c)e^x^＝[ax^2^＋(2a＋b)x＋b＋c]e^x^. 令g(x)＝ax^2^＋(2a＋b)x＋b＋c，因为e^x^&gt;0， 所以y＝f′(x)的零点就是g(x)＝ax^2^＋(2a＋b)x＋b＋c的零点，且f′(x)与g(x)符号相同． 因为a&gt;0，所以当x&lt;－3或x*&gt;0时，g*(x)&gt;0，即f′(x)&gt;0； 当－3&lt;x&lt;0时，g(x)&lt;0，即f′(x)&lt;0， 所以f(x)的单调增区间是(－∞，－3)，(0，＋∞)，单调减区间是(－3，0). (2) 由(1)知，x＝0是f(x)的极小值点， 所以有 解得a＝1，b＝1，c＝－1. 所以函数f(x)的解析式为f(x)＝(x^2^＋x－1)e^x^. 又由(1)知，f(x)的单调增区间是(－∞，－3)，(0，＋∞)，单调减区间是(－3，0). 所以函数f(x)的极大值为f(－3)＝(9－3－1)e^－3^＝. 已知函数f(x)＝x^2^－a lnx(a∈R)，求f(x)在[1，e]上的最小值． 【解析】f′(x)＝(x&gt;0)， 当x∈[1，e]时，2x^2^－a∈[2－a，2e^2^－a]. 若a≤2，则当x∈[1，e]时，f′(x)≥0， 所以f(x)在[1，e]上是增函数， 又f(1)＝1，故函数f(x)在[1，e]上的最小值为1. 若a≥2e^2^，则当x∈[1，e]时，f′(x)≤0， 所以f(x)在[1，e]上是减函数，又f(e)＝e^2^－a， 所以f(x)在[1，e]上的最小值为e^2^－a. 若2&lt;a&lt;2e^2^，则当1≤x&lt;时，f′(x)&lt;0，此时f(x)是减函数； 当&lt;x≤e时，f*′(x)&gt;0，此时f*(x)是增函数． 又f＝－ln ， 所以f(x)在[1，e]上的最小值为－ln . 综上可知，当a≤2时，f(x)在[1，e]上的最小值为1； 当2&lt;a&lt;2e^2^时，f(x)在[1，e]上的最小值为－ln ； 当a≥2e^2^时，f(x)在[1，e]上的最小值为e^2^－a. 考法4 导数与函数性质的综合应用 (多选)已知函数f(x)是定义在R上的奇函数，当x&gt;0时，f(x)＝e^x^(x－1)，则下列判断正确的是( ) A. 当x&lt;0时，f(x)＝－e^－x^(x＋1) B. f(x)&lt;0的解集为(－∞，－1)∪(0，1) C. 函数f(x)在R上单调递增 D. 函数f(x)有3个零点 【答案】 BD 【解析】对选项A，当x&lt;0时，－x*&gt;0，所以f*(－x)＝e^－x^(－x－1)＝－f(x)，所以f(x)＝e^－x^(x＋1)，故A错误．对选项B，因为f(x)＝所以x&lt;－1；x*∈；0&lt;*x*&lt;1.综上，*f*(*x*)&lt;0的解集为(－∞，－1)∪(0，1)，故B正确；对选项C，当*x*&gt;0时，f*(x)＝e^x^(x－1)，f′(x)＝e^x^(x－1)＋e^x^＝xe^x^&gt;0，所以f(x)在(0，＋∞)上为增函数．因为f(x)是定义在R上的奇函数，所以函数f(x)在(－∞，0)，(0，＋∞)上单调递增，又当x＝0时，e^0^(0－1)＝－1，故不能说f(x)在R上单调递增，故C错误．对选项D，因为f(x)＝所以x＝－1；x＝1.因为f(0)＝0，所以函数f(x)有3个零点，故D正确． (多选)已知函数f(x)＝＋cosx－(x∈R)，则下列说法正确的有( ) A. 直线y＝0为曲线y＝f(x)的一条切线 B. f(x)的极值点个数为3 C. f(x)的零点个数为4 D. 若f(x1)＝f(x2)(x1≠x2)，则x1＋x2＝0 【答案】 ABD 【解析】因为f(x)＝＋cos x－(x∈R)，所以f′(x)＝－sinx(x∈R)，令f′(x)＝0，即＝sin x.令y1＝sinx，y2＝，在同一平面直角坐标系中作出两函数的图象，如图(1)所示，由图象得当x∈和x∈时，sinx&lt;，所以此时f*′(x)&gt;0，所以f*(x)在和上单调递增；当x∈和x∈时，sinx&gt;，所以此时f′(x)&lt;0，所以f(x)在和上单调递减，且f(0)＝1－，f＝＋cos－＝0，f＝＋cos－＝0，作出函数f(x)的图象，如图(2)所示．对于A，根据函数的图象知A正确．对于B，由图象得f′(x)＝0有3个不同的解，有3个极值点，故B正确．对于C，当x＝或x＝－时，f(x)＝0，所以函数f(x)有2个零点，故C不正确．对于D，因为f(－x)＝＋cos(－x)－＝＋cosx－＝f(x)，所以函数f(x)是偶函数，所以函数f(x)的图象关于y轴对称，若f(x1)＝f(x2)，则f(x1)＝f(x2)＝f(－x2)，所以x1＝－x2，即x1＋x2＝0，故D正确． 图(1)图(2) (变式) 练习部分 一、 单项选择题(每个5分，共20分) 1.已知函数y＝f(x)的导函数的图象如图所示，则下列结论正确的是( ) (第1题) A. －4是函数f(x)的极小值点 B. －1是函数f(x)的极小值点 C. 函数f(x)在区间(－4，1)上单调递减 D. 函数f(x)在区间(－4，－1)上先增后减 【答案】 A 【解析】结合导函数的图象，可知f(x)在(－∞，－4)上单调递减，在(－4，＋∞)上单调递增，所以－4是函数f(x)的极小值点，故A正确；－1不是f(x)的极值点，故B错误；函数f(x)在区间(－4，1)上单调递增，故C错误；函数f(x)在区间(－4，－1)上单调递增，故D错误． 2.已知函数f(x)＝x^2^e^ax＋1^－ax，若曲线y＝f(x)在点(1，f(1))处的切线与直线y＝2x平行，则a等于( ) A. －2 B. －2或－1 C. －1或2 D. －1 【答案】 A 【解析】因为f(x)＝x^2^e^ax＋1^－ax，所以f′(x)＝2xe^ax＋1^＋ax^2^e^ax＋1^＝a.又曲线y＝f(x)在点(1，f(1))处的切线与直线y＝2x平行，所以f′(1)＝2e^a＋1^＋ae^a＋1^－a＝2，即(2＋a)e^a＋1^＝2＋a，所以2＋a＝0，即a＝－2. 3.对于二次函数f(x)＝ax^2^＋bx＋c(a为非零整数)，四位同学分别给出下列结论，其中有且仅有一个结论是错误的，则错误的结论是( ) A. －1是函数f(x)的零点 B. 1是函数f(x)的极值点 C. 3是函数f(x)的极值 D. 点(2，8)在曲线y＝f(x)上 【答案】 A 【解析】由A知a－b＋c＝0；由B知f′(x)＝2ax＋b，2a＋b＝0；由C知f′(x)＝2ax＋b，令f′(x)＝0，可得x＝－，则f＝3，则＝3；由D知4a＋2b＋c＝8.假设A选项错误，则得满足题意，故A结论错误；同理易知，当B或C或D选项错误时，不符合题意，故选A. 4.已知函数f(x)(x∈R)满足f(1)＝1，且f′(x)&lt;1，则不等式f(lg^2^x)&lt;lg^2^x的解集为( ) A． B. ∪(10，＋∞) C. D. (10，＋∞) 【答案】 B 【解析】设g(x)＝f(x)－x，则g′(x)＝f′(x)－1，因为f′(x)&lt;1，所以g*′(x)&lt;0，即函数*g*(*x*)为减函数．因为*f*(1)＝1，所以*g*(1)＝*f*(1)－1＝1－1＝0，则不等式*g*(*x*)&lt;0等价为*g*(*x*)&lt;*g*(1)，则此不等式的解集为*x*&gt;1，即f*(x)&lt;x的解为x*&gt;1.因为f*(lg^2^x)&lt;lg^2^*x*，由lg^2^*x*&gt;1得lgx&gt;1或lgx&lt;－1，解得*x*&gt;10或0&lt;x&lt;，故原不等式的解集为∪(10，＋∞). 二、多项选择题(每个5分，共15分) 5. 对于函数f(x)＝16ln(1＋x)＋x^2^－10x，下列结论正确的是( ) A. x＝3是函数f(x)的一个极值点 B. 函数f(x)的单调增区间是(－1，1)，(2，＋∞) C. 函数f(x)在区间(1，2)上单调递减 D. 直线y＝16ln 3－16与函数f(x)的图象有2个交点 【答案】 AC 【解析】 f′(x)＝＋2x－10＝(x＞－1)，所以当－1＜x＜1时，f′(x)＞0，当1＜x＜3时，f′(x)＜0，当x＞3时，f′(x)＞0，所以f(x)在(－1，1)上单调递增，在(1，3)上单调递减，在(3，＋∞)上单调递增，故3是f(x)的极小值点，故A正确，B错误，C正确；由函数f(x)的单调性可知f(3)＜f(2)＜f(1)，而f(2)＝16ln3－16，故直线y＝16ln 3－16与y＝f(x)的图象有3个交点，故D错误． 6.在平面直角坐标系内，由A，B，C，D四点所确定的”N型函数”指的是三次函数f(x)＝ax^3^＋bx^2^＋cx＋d(a≠0)，其图象过A，D两点，且f(x)的图象在点A处的切线经过点B，在点D处的切线经过点C.若将由A(0，0)，B(1，4)，C(3，2)，D(4，0)四点所确定的”N型函数”记为y＝f(x)，则下列选项正确的是( ) A. 曲线y＝f(x)在点D处的切线方程为y＝－2x＋8 B. f(x)＝x(x－4)(x－8) C. 曲线y＝f(x)关于点(4，0)对称 D. 当4≤x≤6时，f(x)≥0 【答案】 ABC 【解析】因为直线CD的斜率为＝－2，所以直线CD的方程为y－0＝－2(x－4)，即y＝8－2x，所以A正确；因为f(x)的图象经过A(0，0)，D(4，0)，所以f(x)有两个零点0，4，故可设f(x)＝x(x－4)(kx＋m)(k≠0)，f′(x)＝kx(x－4)＋(kx＋m)(2x－4)，由f′(0)＝4，f′(4)＝－2，可得m＝－1，k＝，所以f(x)＝x(x－4)(x－8)，B正确；由f(x)＋f(8－x)＝0，所以曲线y＝f(x)关于点(4，0)对称，C正确；当4≤x≤6时，有x－4≥0，x－8≤0，所以f(x)≤0，即D不正确． 7. 已知偶函数y＝f(x)对于任意的x∈满足 f′(x)cosx＋f(x)sinx＞0(其中f′(x)是函数f(x)的导函数)，则下列不等式中成立的有( ) A. f＜f B. f＞f C. f(0)＜f D. f＜f 【答案】 BCD 【解析】 因为偶函数y＝f(x)对于任意的x∈，满足f′(x)cosx＋f(x)sinx＞0，所以设g(x)＝，g′(x)＝＞0，所以当x∈时，g(x)＝是单调增函数，且是偶函数，所以g＝g，g＝g.对于A，因为g＜g，所以＜，即f＞f，所以f＝f＞f，所以A不正确，B正确．对于C，根据g(x)的单调性可知g＞g(0)，所以＞，所以f(0)＜f，因为f(x)是偶函数，所以f(0)＜f，所以C正确．对于D，因为根据g(x)的单调性可知g＞g，所以＞，即f＞f，所以D正确． 三、 填空题(每个5分，共15分) 8.若过点(2，0)作曲线f(x)＝x^3^的切线l，则直线l的方程为________． 【答案】 27x－y－54＝0或y＝0 【解析】因为点(2，0)不在函数f(x)的图象上，所以它不是切点．f′(x)＝3x^2^.设切点为P(a，a^3^)，k＝3a^2^＝，解得a＝3或a＝0，切线的斜率为27或0.当k＝27时，切线方程为27x－y－54＝0；当k＝0时，切线方程为y＝0. 9.已知函数f(x)＝ax^3^＋2x^2^－4x＋5，当x＝时，函数f(x)有极值，则函数f(x)在[－3，1]上的最大值为________． 【答案】 13 【解析】因为f′(x)＝3ax^2^＋4x－4，当x＝时，函数f(x)有极值，所以f′＝a－＝0，解得a＝1，所以f′(x)＝3x^2^＋4x－4＝(3x－2)(x＋2).当x∈(－3，－2)时，f′(x)&gt;0，f(x)单调递增；当x∈时，f′(x)&lt;0，f*(x)单调递减；当x∈时，f′(x)&gt;0，f*(x)单调递增，所以f(x)在x＝－2处取得极大值f(－2)＝13，且f(－3)＝8，f(1)＝4，所以f(x)在[－3，1]上的最大值为13. 10.在木工实践活动中，要求同学们将横截面半径为R、圆心角为的扇形木块锯成横截面为梯形的木块．甲同学在扇形木块OAB的弧上任取一点D，作扇形的内接梯形OCDB，使点C在OA上，则他能锯出来梯形木块OCDB面积的最大值为________． 【答案】 【解析】 设∠DOB＝x，则CD＝R cos x，OC＝R sinx，SOCDB＝，欲求SOCDB的最大值，先求(1＋cos x)sinx的最大值.令f(x)＝(1＋cos x)sin x，则f′(x)＝cos x(1＋cosx)＋sin x(－sin x)＝2cos^2^x＋cosx－1，当cos x＝或cosx＝－1(舍去)时，f′(x)＝0，此时，x＝.当x∈时，f′(x)＞0；当x∈时，f′(x)＜0，故x＝时，f(x)有最大值为，此时梯形OCDB面积取得的最大值为. 四、 解答题(第11，12题各15分，第13题20分，共50分) 11.在”①f(－1)＝－4，f′(1)＝0；②f(1)＝0，f′(0)＝1；③f(x)在(－1，f(－1))处的切线方程为y＝8x＋4”这三个条件中任选一个，补充在下面问题中，并求解． 已知函数f(x)＝x^3^＋ax^2^＋bx，且________． (1) 求a，b的值； (2) 求函数f(x)的极小值． 【解析】 (1) 方案一：选择①f(－1)＝－4，f′(1)＝0， 因为f′(x)＝3x^2^＋2ax＋b，f(－1)＝－4，f′(1)＝0， 所以解得a＝－2，b＝1. 方案二：选择②f(1)＝0，f′(0)＝1. 因为f′(x)＝3x^2^＋2ax＋b， f(1)＝0，f′(0)＝1，所以 解得a＝－2，b＝1. 方案三：选择③f(x)在(－1，f(－1))处的切线方程为y＝8x＋4. 因为f′(x)＝3x^2^＋2ax＋b， 所以解得a＝－2，b＝1. (2) 由(1)得f(x)＝x^3^－2x^2^＋x， 所以f′(x)＝3x^2^－4x＋1. 由f′(x)＝0，得x1＝，x2＝1. 当x∈时，f′(x)＜0； 当x∈(1，＋∞)时，f′(x)＞0， 当x∈时，f′(x)&gt;0，故f(x)在上单调递减，在，(1，＋∞)上单调递增， 所以f(x)的极小值为f(1)＝0. 12. 已知函数f(x)＝ln x＋x－ax^2^，a∈R． (1) 若f(x)在x＝1处取得极值，求a的值； (2) 设g(x)＝f(x)＋(a－3)x，试讨论函数g(x)的单调性． 【解析】 (1) 因为f(x)＝ln x＋x－ax^2^， 所以f′(x)＝＋1－2ax， 因为f(x)在x＝1处取得极值， 所以f′(1)＝1＋1－2a＝0，解得a＝1. 验证：当a＝1时，f′(x)＝＋1－2x＝－(x&gt;0)， 易得f(x)在x＝1处取得极大值． (2) 因为g(x)＝f(x)＋(a－3)x＝lnx＋x－ax^2^＋(a－3)x＝ln x－ax^2^＋(a－2)x， 所以g′(x)＝－2ax＋(a－2)＝－(x&gt;0). ①若a≥0，则当x∈时，g′(x)&gt;0， 所以函数g(x)在上单调递增； 当x∈时，g′(x)&lt;0， 所以函数g(x)在上单调递减. ②若a&lt;0，*g*′(*x*)＝－(*x*&gt;0)， 当a&lt;－2时，易得函数g(x)在和上单调递增，在上单调递减； 当a＝－2时，g′(x)≥0恒成立，所以函数g(x)在(0，＋∞)上单调递增； 当－2&lt;a&lt;0时，易得函数g(x)在和上单调递增，在上单调递减． 13. 已知a∈R，函数f(x)＝ax－1－ln x在x＝1处取得极值． (1) 求函数f(x)的单调区间； (2)若对任意x∈(0，＋∞)，f(x)≥bx－2恒成立，求实数b的取值范围． 【解析】 (1)f′(x)＝a－＝，由f′(1)＝a－1＝0，解得a＝1，所以f(x)＝x－1－lnx，f′(x)＝. 由f′(x)＞0，得x＞1；由f′(x)＜0，得0＜x＜1， 所以f(x)在(0，1)上单调递减，在(1，＋∞)上单调递增． (2) 因为对任意x∈(0，＋∞)，f(x)≥bx－2恒成立， 所以b≤1＋－.令g(x)＝1＋－， 所以g′(x)＝，令g′(x)＝0，解得x＝e^2^， 由g′(x)＞0，得x＞e^2^，由g′(x)＜0，得0＜x＜e^2^， 所以g(x)在(0，e^2^)上单调递减，在(e^2^，＋∞)上单调递增，所以g(x)min＝g(e^2^)＝1－，所以b≤1－， 所以实数b的取值范围是."}],"posts":[{"title":"C++20与C++23关于Module的引入","slug":"cpp23-module","date":"2022-02-22T12:27:37.000Z","updated":"2022-02-22T13:24:04.219Z","comments":true,"path":"2022/02/22/cpp23-module/","link":"","permalink":"https://billma.top/2022/02/22/cpp23-module/","excerpt":"","text":"废话几天前，C++20 草案已经获得了标准委员会的全票通过，C++2a 草案讨论的几个重要内容，比如“概念（concept）”、“范围库（Ranges Library）”、“协程（Coroutines）” 和 “模块（Module）” 都加到 C++20 的标准中了，剩下的就是看编译器厂商的支持速度了。目前看 CLANG 、GCC 和 Microsoft 是比较积极的三家，语言特性和库支持的最快的是 GCC，其次是 CLANG 和 Visual C++，估计最快到年底就能看到支持全部 C++ 20 特性的编译器了。 毫无疑问，在目前主流的编程语言中，C++ 是最难掌握的编程语言，没有之一。C++ 的内容繁杂，知识点多，当然，“坑”也多，非常适合出题考试。正因如此，C++才被认定为了中国计算机协会唯一信息学奥林匹克竞赛的语言（还可以选C，但差不多）除了对初学者门槛太高，传统的 C++ 语言特性上支持的也很弱，与其他编程语言相比，做同样的功能，C++ 往往需要写更多的代码。不过从 C++11 开始，一直到 C++17，这种情况开始有了明显地改善，各种之前被 C++ 社区讽刺为“语法糖”的语言特性逐步被添加到 C++ 语言规范中，比如 lambda 表达式，比如基于范围的 for 循环。应该说，这都是被 Python “逼”的。Python除了运行较C++慢以外，语言简练，格式清爽，扩展性强，早就超越了C++。身为一个竞赛选手，虽然竞赛语言是C++，但是在业余程序设计上，我还是更喜欢使用Python. 所以，C++20便引入了Module（模块）。我第一次看到这玩意的时候，我草，import不是Python的东西吗？怎么被C++用了？后来我仔细阅读了相关文档，才懂得了更多。 老毛病此处引用CSDN博主「吹泡泡的小猫」的文章进行说明，讲得实在是太好了 1.头文件和源文件C/C++ 语言使用头文件和源文件分离方式迫使程序员养成接口与实现分离的设计习惯的哲学实验事实上是失败了，除了极少的优质项目，大部分的C++项目的源代码组织并没有有效地实施这个原则，反而引入了一大堆头文件难题，extern关键字的“巧用”更是让这个问题雪上加霜。对初学者来说，找不到头文件是最大的“痛”。它就在那儿，为什么编译器就是“视而不见”？那是因为你的包含路径设置不正确，什么绝对路径，什么相对路径，让很多还没入门的初学者过早地体会了“码”生的艰难。学习 C++，从入门到放弃，也许 include 一个“永远”找不到的头文件就够了。 2.剪不断，理还乱对于一个大一点的项目来说，头文件之间那种“剪不断、理还乱”的关系最让人头疼不已。头文件之间的循环依赖、互相依赖，你中有我，我中有你。“要用这个接口，只要包含那个叫 A 的头文件就行了，easy！”，你的同事们是否都这样信誓旦旦地跟你说过类似的话？大部分情况下你会发现这个叫 A 的头文件并不单纯，它可能还有“七大姑八大姨”分别位于不同的代码目录中，如果你不设置好头文件的搜索路径，编译器会告诉你人生有多难。当 Java 的程序员在软件架构层面上考虑对象之间的依赖关系时，C++ 的程序员还在为了解决编译问题而试着调整各个头文件的包含顺序，唉，说多了都是泪。 3.编译速度C++ 的另一个痛点就是编译速度了。相对于 C++ 的各种“难用”，编译速度太慢才是 C++ 最大的诟病。本人曾在一个大型 C 语言项目中引入了一个 C++ 模块，编译的时候编译器对 C 的源文件和 C++ 的源文件的处理速度明显不在一个数量级上。GCC 在编译 C 语言的源文件的时候，处理速度飞起，输出信息刷屏的速度眼花缭乱。但是在处理 C++ 的源文件的时候，基本上就是以每秒 1 - 2 个这样的目视可见的速度推进。C++ 因为引入了泛型和模板库，支持重载，这使得它的预处理需要做很多事情，慢也是必然的。但是对于一个大型项目来说，这种慢会严重拖累自动化编译、测试和部署的速度，换句话说，就是不“敏捷”。 话不多说，接下来进入正题。 概览现在看看 C++20 的 Module 能给我们带来什么。在 Modernes C++ 网站上，可以窥得一些细节，C++20 的 Module 承诺了五个目标： 更快的编译时间（Faster compile times）C++ 的编译器在处理一个源代码文件的时候，首先要做的就是用相应的头文件的内容替换 #include 预编译指令。这就存在一个问题，对每一个源代码文件编译器都要重复一遍内容替换，这会占用大量的处理器时间。替换完的源文件长度也会膨胀数倍，一个源代码文件的处理速度不仅要看这个文件中有多少代码，还要看它包含了多少头文件。使用 Module，只需要 #import 一次（编译器只需要对导入的 Module 做一次解析处理），就可以在所有的源代码文件中使用，没有头文件的替换动作，也不需要重复解析处理 Module，这对编译时间将是一个巨大的优化。 宏的隔离（Isolation of macros）只要你使用 C++ 的时间足够长，你就会碰到这样的代码： 12345#ifdef XXXX#undef XXXX#endif​#define XXXX ... 初次看到这样多此一举的代码，心里肯定会想这是什么鬼？其实见怪不怪，肯定是某个家伙的也定义了一个同样名为 XXXX 的宏，只是值不一样而已。对于同名的宏，如果值也一样，编译器一般“睁一只眼闭一只眼”就放过去了。但是如果值不一样，大多数编译器的默认选项也只是提示一个编译告警，如果你碰巧忽略了这个编译告警，等待你的很可能是痛苦的 Debug 过程。菜鸟们经常抱怨：“我定义的宏的值明明是 5，为什么赋值给变量后变成这个奇怪的值？” 那是因为别人也定义了同名的宏，并且恰巧头文件处理顺序在你的前面。要么调整头文件的包含顺序，要么用上面那段代码，这就是 C++ 程序员的日常工作内容。Module 的使用，可以缓解这种困惑。首先，从语义上讲，可以用 module_name.XXXX 来隔离宏，其次，Module 只需要导入一次，同名宏的先后关系与只与导入顺序一致，不会因为头文件的包含顺序混乱让对某个宏的值你摸不着头脑。 表达代码的逻辑结构（Express the logical structure of the code）从设计层面上考虑，头文件其实包含了过多的实现细节，并不适合向外展示，Module 则很好的规避了这一点。首先，作为一个二进制的包，你不想展示给用户的内容，都可以隐藏起来，只将必要的部分标记为 export 即可。其次，你可以按照代码的实现逻辑设计各个 Module，它们可以自由组合形成不同功能的逻辑包提供给客户，这都比给客户一堆平面表达的头文件，然后让客户自己选择组合使用更能满足客户的需求。 让头文件成为“过去式”（Make header files superfluous）一个 C++ 项目只要对同一使用的 Module 管理规范，可彻底解决各种包含路径问题。当你想使用某个接口的时候，只要 #import A就行了，再也不用关心该死的头文件搜索路径了，谁说这不“香”呢？毫无疑问，有了 Module，再也不会有人走回头路用头文件了。话又说回来，这也让 C++ 的代码与 Java 代码的相似度又增进了一层，搞不好以后要看源代码文件的扩展名才能区分。 摆脱丑陋的宏环境（Get rid of an ugly macro workarounds）前面讲过，C++ 的编译器在对 #include 指令包含的头文件的处理方式是原地展开替换，假如一个源文件包含了头文件 A 和头文件 B，而头文件 B 又不巧间接包含了头文件 A（这种情况在一个大型的 C++ 项目中几乎是常态），那么 A 就会在这个源文件中被展开替换两次。确实是这样的，编译器不仅浪费时间做了展开替换，还会抱怨符号重复定义的错误。所以你会看到每个头文件几乎都是这样用宏环境包裹着自己： 12345#ifndef THIS_HEAD_FILE_H#define THIS_HEAD_FILE_H​.....#endif //THIS_HEAD_FILE_H 也许看的时间长了，觉得这样的代码很规范，其实这是一种多么无奈的选择，还是上面那句话：不用头文件，就不用再浪费时间给每个头文件写这种宏环境了。 细则1 实现一个最简单的modulemodule_hello.cppm：定义一个完整的hello模块，并导出一个say_hello_to方法给外部使用。当前各编译器并未规定模块文件的后缀，本文统一使用”.cppm”后缀名。”.cppm”文件有一个专用名称”模块接口文件”，值得注意的是，该文件不光可以声明实体，也可定义实体。 123456789101112//module_hello.cppmexport module hello;import &lt;iostream&gt;;import &lt;string_view&gt;;void internal_helper()&#123; //do something;&#125;export void say_hello_to(const std::string_view&amp; something)&#123; internal_helper(); std::cout&lt;&lt;&quot;Hello &quot;&lt;&lt;something&lt;&lt;&quot; !&quot;&lt;&lt;std::endl; return;&#125; main函数中可以直接使用hello模块： 123456789//main.cppimport hello;import &lt;string_view&gt;;int main()&#123; say_hello_to(std::string_view&#123;&quot;Netease&quot;&#125;); internal_helper();//error return 0;&#125; 编译脚本如下，需要先编译module_hello.cppm生成一个pcm文件（module缓存文件），该文件包含了hello模块导出的符号。 1234#buildfile.shCXX=&quot;clang -fmodules-ts -std=c++2a&quot;$CXX -o module_hello.pcm --precompile -x c++-module module_hello.cppm$CXX -o hello -fprebuilt-module-path=. main.cpp hello.cpp 以上代码有以下细节需要注意： module hello; 声明了一个模块，前面加一个export，则意味着当前文件是一个模块接口文件（module interface file），只有在模块接口文件中可以导出实体（变量、函数、类、namespace等）。一个模块至少有一个模块接口文件、模块接口文件可以只放实体声明，也可以放实体定义。想要导出一个函数，在函数定义/声明前加一个export关键字即可。import hello；不需加尖括号。且不同于include，import 后跟的不是文件名，而是模块名（文件名为module_hello.cpp）。编译器并未强制模块名必须与文件名一致。import的模块不具有传递性。hello模块包含了string_view，但是main函数在使用hello模块前，依然需要再import ;模块中的import声明需要放在模块声明之后、模块内部其他实体声明之前。即：import ;必须放在export module hello;之后、void internal_helper()之前编译时需要先编译基础的模块，再编译上层模块。buildfile.sh中先将module_hello编译为pcm，再编译main。module_hello.cppm中并未包含say_hello_to函数的声明，而是直接定义实现。编译器会将函数原型等信息放在module_hello.pcm中。 2 接口与实现分离当模块的规模变大、接口变多之后，将所有的实体定义都放在模块接口文件中会非常不利于代码的维护，C++20的模块机制还支持接口与实现分离。module_hello.cppm：我们假设say_hello_to、func_a、func_b等函数十分复杂，.cppm文件中只包含函数的声明（square方法是个例外，它是函数模板，只能定义在.cppm中，不能分离式编译） 1234567891011121314//module_hello.cppmexport module hello;import &lt;iostream&gt;;import &lt;string_view&gt;;void internal_helper();export void say_hello_to(const string_view&amp;);//缩写的函数模板，C++20新糖果export auto square(const auto&amp; x)&#123; return x*x;&#125;export void func_a();export void func_b(); module_hello.cpp：给出hello模块的各个函数声明对应的实现。 12345678910111213141516//module_hello.cppmodule hello;void internal_helper()&#123; //do something;&#125;void say_hello_to(const string_view&amp;)&#123; internal_helper(); std::cout&lt;&lt;&quot;Hello &quot;&lt;&lt;something&lt;&lt;&quot; !&quot;&lt;&lt;std::endl; return;&#125;void func_a()&#123; //do something;&#125;void func_b()&#123; //do something;&#125; 以上代码有以下细节需要注意： 整个hello模块分成了 module_hello.cppm和module_hello.cpp两个文件，前者是模块接口文件(module声明前有export关键字)，后者是模块实现文件（module implementation file）。当前各大编译器并未规定模块接口文件的后缀必须是cppm。模块实现文件中不能export任何实体。函数模板，比如代码中的square函数，定义必须放在模块接口文件中，使用auto返回值的函数，定义也必须放在模块接口文件。 3 可见性控制在模块的最开始的例子中，我们就提到了模块的import不具有传递性：main函数使用hello模块的时候必须import ;。如果想让 hello模块中的string_view模块透给使用者，需使用export import显式声明： 12345//module_hello.cppexport module hello;import &lt;iostream&gt;;export import &lt;string_view&gt;;..... hello模块显示导出string_view后，main文件中便无需再包含string_view了。 123456//main.cppimport hello;//无需再import &lt;string_view&gt;int main()&#123; say_hello_to(std::string_view&#123;&quot;Netease&quot;&#125;);&#125; 4 子模块（submodule）当模块变得再大一些，仅仅是将模块的接口与实现拆分也有点力不从心：模块实现文件会变得非常大，不便于代码的维护。C++20的模块机制支持子模块。这次module_hello.cppm文件不再定义、声明任何函数，而是仅仅显式导出hello.sub_a、hello.sub_b两个子模块，外部需要的方法都由上述两个子模块定义，module_hello.cppm充当一个“汇总”的角色。 1234//module_hello.cppmexport module hello;export import hello.sub_a;export import hello.sub_b; 子模块module hello.sub_a采用了接口与实现分离的定义方式：“.cppm”中给出定义，“.cpp”中给出实现。 123//module_hello_sub_a.cppm（子模块a的接口文件）export module hello.sub_a;export void func_a(); 12345//module_hello_sub_a.cpp（子模块a的实现文件）module hello.sub_a;void func_a()&#123; //do something;&#125; module hello.sub_b同上，不再赘述。 123//module_hello_sub_b.cppm（子模块b的接口文件）export module hello.sub_b;export void func_b(); 12345//module_hello_sub_b.cpp（子模块b的实现文件）module hello.sub_b;void func_b()&#123; //do something;&#125; 这样，hello模块的接口和实现文件各自被拆分到了两个文件中。值得注意的是，C++20的子模块是一种“模拟机制”，模块hello.sub_b是一个完整的模块，中间的点并不代表语法上的从属关系，不同于函数名、变量名等标识符的命名规则，模块的命名规则中允许点存在于模块名字当中。点只是从逻辑语义上帮助程序员理解模块间的逻辑关系。 5 module partition除了子模块之外，处理复杂模块的机制还有module partition module partition分为两种： 12module implementation partitionmodule interface partition module implementation partition可以通俗的理解为：将模块的实现文件拆分成多个。module_hello.cppm文件：给出模块的声明、导出函数的声明。 1234//module_hello.cppmexport module hello;export void func_a();export void func_b(); 模块的一部分实现代码拆分到module_hello_partition_internal.cpp文件，该文件实现了一个内部方法。 12345//module_hello_partition_internal.cpp(parititon internal的实现文件，无需给出接口文件)module hello:internal;void internal_helper()&#123; //do something;&#125; 模块的另一部分实现拆分到module_hello.cpp文件，该文件实现了func_a、func_b，同时引用了内部方法internal_helper。（func_a、func_b当然也可以拆分到两个cpp文件中） 1234567891011//module_hello.cppmodule hello;import :internal;void func_a()&#123; internal_helper(); //....&#125;void func_b()&#123; internal_helper(); //....&#125; 值得注意的是， 模块内部import 一个module partition时，不能import hello:internal;而是直接import :internal; 。 module interface partition可以理解为模块声明拆分到多个文件中。module implementation partition的例子中，函数声明只集中在一个文件中，module interface partition可以将这些声明拆分到多个文件。 首先定义一个内部helper：internal_helper 12345//module_hello_partition_internal.cpp(parititon internal的实现文件，无需给出接口文件)module hello:internal;void internal_helper()&#123; //do something;&#125; hello模块的a部分采用声明+定义合一的方式，定义在module_hello_partition_a.cppm中： 12345//module_hello_partition_a.cppm（partition a的声明+实现）export hello:partition_a;export void func_a()&#123; //do something;&#125; hello模块的b部分采用声明+定义分离的方式，module_hello_partition_b.cppm只做声明： 123//module_hello_partition_b.cppm（partition b的声明）export hello:partition_b;export func_b(); 1234567module_hello_partition_b.cpp给出hello模块的b部分对应的实现：//module_hello_partition_b.cpp（partition b的实现）module hello;//不能使用module hello:partition_b!!!!!!void func_b()&#123; //do something;&#125; module_hello.cppm再次充当了”汇总“的角色，将模块的a部分+b部分导出给外部使用： 12345//module_hello.cppm //primary module interface fileexport module hello;export :partition_a;export :partition_b;//export :internal; //编译错误！！！！ module implementation partition的使用方式较为直观，相当于我们平时编程中“一个头文件声明多个cpp实现”这种情况。module interface partition有点类似于submodule机制，但语法上有较多差异： module_hello_partition_b.cpp 第一行不能使用 import hello:partition_b;虽然这样看上去更符合直觉，但是，就是不允许。一个partition name只能创建一个文件每个module partition interface最终必须被primary module interface file导出，不能遗漏。primary module interface file 不能导出module implementation file，只能导出module interface file。故在module_hello.cppm中export :internal;是错误的。同样作为处理大模块的机制，module partition与子模块最本质的区别在于：子模块可以独立的被外部使用者import，而module partition只在模块内部可见，外部无法使用。 6 全局模块片段（Global module fragments）C++20之前有大量的不支持模块的代码、头文件，这些代码实际被隐式的当作全局模块片段处理，模块代码与这些片段交互方式如下： module; //开启了一个全局模块片段，#include必须出现在该行之后、模块声明之前 123456#include &lt;cmath&gt;//include一个非模块化的文件#include &lt;iostream&gt;export module hello;export void func_a()&#123; //....&#125; 事实上，由于标准库的大多数头文件尚未模块化（VS模块化了部分头文件），2.1～2.5章节的代码在当前编译器环境下(Clang12)是不能直接编译通过的——当前尚不能直接import &lt; iostream &gt; 等模块，通全局模块段则可以进行方便的过渡,另一个过渡方案便是下一节所介绍的module map。 7 module mapmodule map机制可以将普通的头文件映射成module，进而可以使旧的代码吃到module机制的红利。下面便以clang13中的module map机制为例。假设有一个a.h头文件，该头文件历史较久，不支持module： 123// a.h 该头文件历史较为久远void func_a(); 通过给Clang编译器定义一个module.modulemap文件,在该文件中可以将头文件映射成模块： 12345678910111213141516171819202122232425// module.modulemap//改造自定义头文件module A &#123; header &quot;a.h&quot; export *&#125;//改造C库头文件module ctype &#123; header &quot;ctype.h&quot; export *&#125;//改造C++标准库头文件module iostream&#123; requires cplusplus //requires cplusplus11 or requires cplusplus17 header &quot;iostream&quot; export *&#125;//main.cppimport A;import iostream;int main()&#123; func_a(); std::cout&lt;&lt;&quot;import iostream&quot;;&#125; 编译脚本需要依次编译A、ctype、iostream三个模块，然后再编译main文件： 1234567//buildfile.shclang -cc1 -emit-module -o A.pcm -fmodules module.modulemap -fmodule-name=Aclang -cc1 -emit-module -o ctype.pcm -fmodules module.modulemap -fmodule-name=ctypeclang -cc1 -emit-module -o iostream.pcm -fmodules module.modulemap -fmodule-name=iostreamclang -cc1 -emit-obj main.cpp -fmodules -fmodule-map-file=module.modulemap-fmodule-file=A=A.pcm-fmodule-file=iostream=iostream.pcm 首先使用-fmodule-map-file参数，指定一个module map file，然后通过-fmodule指定map file中定义的module，就可以将头文件编译成pcm。main文件使用A、iostream等模块时，同样需要使用fmodule-map-file参数指定mdule map文件，同时使用-fmodule指定依赖的模块名称。 注：关于module map机制能够查到的资料较少，有些细节笔者也未能一一查明，例如，通过module map将一个头文件模块化之后，头文件中暴露的宏会如何处理？假如头文件声明的实体的实现分散在多个cpp中，该如何组织modulemap编译？ 8 module 与 namespacemodule与namespace是两个维度的概念，在module中同样可以导出namespace： 1234567891011121314151617//module_hello.cppmmodule;include &lt;iostream&gt;export module hello;export namespace hello&#123; void say_hello()&#123; std::cout&lt;&lt;&quot;hello&quot;&lt;&lt;std::endl; &#125;&#125;//main.cpimport hello;int main()&#123; hello::say_hello(); return 0;&#125; 总结优势最后，对比最开始提到的头文件的缺点，模块机制有以下几点优势： 无需重复编译：一个模块的所有接口文件、实现文件，作为一个翻译单元，一次编译后生成pcm，之后遇到import该模块的代码，编译器会从pcm中寻找函数声明等信息。该特性会极大加快C++代码的编译速度。隔离性更好。模块内import的内容，不会泄漏到模块外部，除非显式使用export import声明。顺序无关。import多个模块，无需关心这些模块间的顺序。 减少冗余与不一致。小的模块可以直接在单个cppm文件中完成实体的导出、定义。但大的模块依然会把声明、实现拆分到不同文件。 子模块、module partition等机制让大模块、超大模块的组织方式更加灵活。 全局模块段、module map制使得module与老旧的头文件交互成为可能 缺点 编译器支持不稳定。尚未有编译器完全支持module的所有特性、clang13支持的module map特性不一定保留到主干版本。 编译时需要分析依赖关系、先编译最基础的模块。 现有的C++工程需要重新组织pipline，且尚未出现自动化的构建系统，需要人工根据依赖关系组构建脚本，实施难度巨大 module不能做啥？ module不能实现代码的二进制分发。依然需要通过源码分发module pcm文件不能通用，不同编译器的pcm文件不能通用、同一编译器不同参数的pcm不能通用 无法自动构建，现阶段需要人工组织构建脚本 编译器如何实现对外隐藏module内部符号的？ 在module机制出现之前，符号的链接性分为外部连接性(external linkage，符号可在文件之间共享)、内部链接性(internal linkage，符号只能在文件内部使用),可以通过extern、static等关键字控制一个符号的链接性。module机制引入了模块链接性(module linkage)，符号可在整个模块内部共享(一个模块可能存在多个partition文件) 对于模块export的符号，编译器根据现有规则（外部连接性）对符号进行名称修饰(name mangling)对于module内部的符号，统一在符号名称前面添加“_Zw”名称修饰，这样链接器链接时便不会链接到内部符号。 失望之处最后，说说C++20 Module 特性让我失望的地方，那就是没有统一语言层面上的包管理器。从标准上看，依然是准备留给编译器厂商或第三方机构做这个事情。这不仅让我想起来 C++ 到现在都没有一个语言层面上的 UI 库，虽然第三方的 UI 库倒是不少，但是基本上处于“生殖隔离”的状态，互不通用，编程方法千差万别，也各有优缺点，常常让 C++ 程序员无所适从。对于包管理器，微软推出了 NuGet，但是由于跟自家的 IDE 捆绑太紧密，并没有得到 C++ 社区的广泛支持。Python 之所以好用，是因为 Python 语言的缔造者和整个 Python 社区共同维护一个统一的包管理器，对各种库提供统一的包装接口，使用简单，学习也简单。从现在开始到 C++23 发布还有不到三年时间，希望 C++ 标准委员会能领导整个社区弄一个统一的包管理器，对各种库提供一致的接口封装，避免出现同一个库有多个 Module 封装版本的情况出现，让 C++ 程序员再次无所适从。","categories":[{"name":"编程算法","slug":"编程算法","permalink":"https://billma.top/categories/%E7%BC%96%E7%A8%8B%E7%AE%97%E6%B3%95/"}],"tags":[]},{"title":"转载：新冠大流行和数字资本主义的崛起（文/丹尼尔·科恩（Daniel Cohen））","slug":"COVID-19-zbzydjq","date":"2022-02-06T07:18:06.000Z","updated":"2022-02-06T07:25:31.965Z","comments":true,"path":"2022/02/06/COVID-19-zbzydjq/","link":"","permalink":"https://billma.top/2022/02/06/COVID-19-zbzydjq/","excerpt":"","text":"新冠肺炎疫情的暴发，让面对面的交流接触成为了一种负担甚至是一种可怕的行为。为了让人们远离感染的风险，并防止大面积的感染造成的卫生系统的不堪重负，在许多国家，餐馆、咖啡馆、音乐厅和其他对繁荣的城市文明必不可少的文化设施，被关闭了长达一年之久。生活退回到家庭中，足不出户成为常态。 疫情期间的封锁状态，依靠网络的在线工作场景，无需进入实体店的网上购物体验，在不冒险外出的情况下自娱自乐，最大的赢家是亚马逊、苹果和网飞等公司，它们的市值在新冠危机期间不断地飙升。 事实上，这种所谓的数字资本主义恰恰依赖于减少实体互动和消除面对面会议的现实需要。新冠疫情使许多活动转向互联网的线上活动，例如，医疗问诊实现了远程在线服务。因而，疫情大流行让数字领域的巨头们获得了一个机会，得以对虚拟世界如何影响现实世界，进行一次全方位的实验。 2021年1月20日，德国亚琛市，伯利恒医院的医生与亚琛大学医院的医生通过远程医疗系统，讨论针对新冠患者的治疗方案。 要了解为什么数字经济与保护人们免受面对面互动的需要齐头并进，重读法国经济学家让·富雷斯蒂埃（Jean Fourastié）1948年的开创性著作《二十世纪的伟大希望》（The Great Hope of the Twentieth Century）会有所帮助。富雷斯蒂埃对未来世界进行了乐观的展望：在耕耘土壤的农业社会和与物质打交道的工业社会之后，服务社会中的人类最终将耕耘自己，教育、健康和休闲将成为新世界的核心。 “第三产业文明将灿烂辉煌，一半或四分之三的人口将享受高等教育的优势。”富雷斯蒂埃写道，“在几代人之内，即使是低技能工作的主动性，以及交通工具和休闲活动的多样性，都会有利于人类的个人主义倾向。” 因此，他得出的结论是，“这样的时代即将到来：历史已经进步到足以让人类合理地努力阐述新时代的哲学，并在一个不那么压抑的黑暗中努力实现戏剧性的诞生。机器要将人类从‘非生命体’就可自主完成的劳动中解放出来，把我们引向只有人类才能完成的工作：智力培养和道德提升。” 转型成为一个“人性化”社会这一观点得到了诸多人的评论。在1930年代成为法国首位社会党总理的利昂·布卢姆（Léon Blum）就是其中之一，他在此书出版时写下了一段精彩且直指核心问题的评论。此书预测到了一个没有经济增长的世界。富雷斯蒂埃确信服务型社会不会受制于科技，而科技最终会让经济增长消失。如果一个人所能出售的商品是他与别人相处的时间，那么经济增长在理论上受限于人拥有的时间。 疫情期间，亚马逊、网飞等公司成了大赢家。 这就导致了经济学家所说的“鲍莫尔成本病”，这是由威廉·鲍莫尔（William J. Baumol）和威廉·鲍文（William G. Bowen）在1960年代创造的经济术语。无论是医疗、教育还是表演行业，相当于鲍莫尔提出的两部门非均衡增长模型中的停滞部门，这是服务行业显著特征，靠的是人的一对一或一对多的服务，劳动效率难以提高。 如果没有数字技术，所有服务行业的从业人员都将缺少规模经济，从而无法让某个供应商接触到越来越多的客户。规模经济的概念，即企业可以在保持成本不变或只增加一点成本的情况下增加产量，是经济分析的基础。它让一家企业进入一个良性循环：客户群越大，其业务就越繁荣。否则，超过一定规模，公司就会陷入停滞。 服务业为了获得最大的经济利益，需要能使产品受众群体数量级剧增的新兴科技。例如，电影和电视技术让比以往更多的观众能看到演员们的表演。 我们花了很长时间，经过大量的反复试验，才找到了解决成本问题的方法。这也就是当下新兴的数字社会：当我们将人类个体的健康和欲望等肉体和精神的信息转化为数据集，人类就可以成为数字世界的一部分，在那里我们可以被算法管理，为了实现“效率”，每个人都必须成为可以被其他数据位处理的数据位。 人工智能软件将为无限数量的客户提供治疗、咨询和娱乐，只要相关信息事先已经数字化。当我手腕上的手表分析我的生命体征时，算法可以为我的健康问题开发定制的解决方案。2013年的预言电影《她》描绘了一个拥有情感能力的人工智能，“她”有着女演员斯嘉丽·约翰逊（Scarlett Johansson）迷人的声音，同时和数百万人谈情说爱。这就是《数字化人类》（Homo digitalis）所发出的憧憬：一个从人体极限中解放出来的世界。 正如富雷斯蒂埃预测的那样，人类是服务社会的核心，但为了满足当今对增长的永不枯竭的渴望，人类必须首先实现数字化。新冠大流行清楚地表明，一旦人们摆脱了面对面接触的必要性，在线实现增长是完全可能的。 显然，最大的问题是，数字化治疗是否会比疾病本身更糟糕。机器人会取代人类并导致人类因此陷入贫困吗？工业流水线工作是否会通过脸书和网飞让位于思想的泰勒主义？让人类陷入一种思想上的“标准操作方法”？ 通过历史时间的不断轮回，数字世界正在取代工业世界，而工业世界的老问题也正在数字世界中重新浮出水面。因此，我们是否必须重蹈旧世界的每一个阶段，包括道德破产、金融危机和经济不安全，还是我们可以做得更好？ 到2022年，我们可能就会有答案了。 （作者系巴黎经济学院校长、董事会主席，最近著有《不光彩的年代》）","categories":[{"name":"精华转载","slug":"精华转载","permalink":"https://billma.top/categories/%E7%B2%BE%E5%8D%8E%E8%BD%AC%E8%BD%BD/"}],"tags":[]},{"title":"江苏省信息技术合格性考试自制攻略","slug":"xinxitest-gl","date":"2021-12-19T04:46:39.000Z","updated":"2021-12-19T05:20:52.000Z","comments":true,"path":"2021/12/19/xinxitest-gl/","link":"","permalink":"https://billma.top/2021/12/19/xinxitest-gl/","excerpt":"","text":"1.进制转换标准算法十进制—&gt;二进制 对于整数部分，用被除数反复除以2，除第一次外，每次除以2均取前一次商的整数部分作被除数并依次记下每次的余数。另外，所得到的商的最后一位余数是所求二进制数的最高位。 对于小数部分，采用连续乘以基数2，并依次取出的整数部分，直至结果的小数部分为0为止。故该法称“乘基取整法”。 给你一个十进制，比如：6，如果将它转换成二进制数呢？ 10进制数转换成二进制数，这是一个连续除以2的过程： 把要转换的数，除以2，得到商和余数， 将商继续除以2，直到商为0。最后将所有余数倒序排列，得到数就是转换结果。 听起来有些糊涂？结合例子来说明。比如要转换6为二进制数。 “把要转换的数，除以2，得到商和余数”。 那么：要转换的数是6， 6 ÷ 2，得到商是3，余数是0。“将商继续除以2,直到商为0……” 现在商是3，还不是0，所以继续除以2。 那就： 3 ÷ 2, 得到商是1,余数是1。 “将商继续除以2，直到商为0……” 现在商是1，还不是0，所以继续除以2。 那就： 1 ÷ 2, 得到商是0，余数是1 “将商继续除以2，直到商为0……最后将所有余数倒序排列” 好极！现在商已经是0。 我们三次计算依次得到余数分别是：0、1、1，将所有余数倒序排列，那就是：110了！ 6转换成二进制，结果是110。 二进制数转换为十进制数 二进制数第0位的权值是2的0次方，第1位的权值是2的1次方…… 所以，设有一个二进制数：0110 0100，转换为10进制为： 下面是竖式： 0110 0100 换算成十进制 从右往左开始换算 12345678第0位 0 * 2^0 = 0第1位 0 * 2^1 = 0第2位 1 * 2^2 = 4第3位 0 * 2^3 = 0第4位 0 * 2^4 = 0第5位 1 * 2^5 = 32第6位 1 * 2^6 = 64第7位 0 * 2^7 = 0 得到01100100(2)=4+32+64 偷懒算法打开计算器（在开始里面直接搜计算器），打开后点击左上角的选项，在里面选择“程序员”，选择原始进制，输入数字，然后不要点等号，直接选择你要转换的进制即可。 2.IPPv4：本质上是四个八位二进制数，为了方便表达改为四个十进制数 ，以 . 隔开，每一个数字取 0-255−255，例如 12.34.56.78。 IPv6：八个十六进制数，以 : 隔开，主要是防止 IPv4 不够用。 3.缩写大全局域网：LAN（Local Area Network），小范围的网络，1km 以内传输效率极高，结构简单。 城域网：MAN（Metropolitan Area Network），数千米至数十千米内。 广域网：WAN（Wide Area Network），数十千米至数千千米以上。 随机存储器：RAM（Random Access Memory）。 只读存储器：ROM（Read Only Memory）。 万维网：WWW（World Wide Web）。 文件传输协议：FTP（File Transfer Protocol）。 简单邮件传输协议：SMTP（Simple Mail Transfer Protocol）。 对等网络：P2P（peer-t(w)o-peer），音译。 邮局协议第三版 ：POP3（Post Office Protocol - Version 3）。 传输控制协议：TCP（Transmission Control Protocol）。 用户数据报协议：UDP（User Datagram Protocol）。 交互邮件访问协议：IMAP（Internet Message Access Protocol）。 超文本传输协议：HTTP（S）（Hyper Text Transfer Prtcl（over Securesocket ayer）），带 “S”的为增加了传输加密和身份认证。 4.录入程序有时候题目会给你一个程序，让你选出答案。这时候可以录入到Python中进行模拟，可是考试系统是全屏的，无法直接录入，怎么办呢？ 1.打开桌面上的Python IDLE，打开后CTRL+N新建一个文件。2.打开考试系统注意这里：点开考试系统全屏后按住键盘上的Alt按键不要松开，轻点一下tab按键，会出现程序选择的界面。始终不要松开ALT，轻点tab进行选择，直到选择到Python界面，松开alt，你就会发现Python已经浮在了考试系统的上面，然后录入程序即可。 注意：如果程序最后没有print函数，请自行添加，否则计算结果不会出来的。 5.音频大小声卡对声音的处理质量可以用三个基本参数来衡量，即采样频率、采样位数和声道数。 采样频率是指单位时间内的采样次数。采样频率越大，采样点之间的间隔就越小，数字化后得到的声音就越逼真，但相应的数据量就越大。 采样位数是记录每次采样值数值大小的位数。采样位数通常有8bits或16bits两种，采样位数越大，所能记录声音的变化度就越细腻，相应的数据量就越大。 声道数是指处理的声音是单声道还是立体声。单声道在声音处理过程中只有单数据流，而立体声则需要左、右声道的两个数据流。显然，立体声的效果要好，但相应的数据量要比单声道的数据量加倍。 不经过压缩，声音数据量的计算公式为： 数据量（byte）=（采样频率（Hz）×采样位数（bit）×声道数）/8 （其中，单声道的声道数为1，立体声的声道数为2） 例子：请计算对于5分钟双声道、16位采样位数、44.1kHz采样频率声音的不压缩数据量是多少？ 根据公式：数据量=（采样频率×采样位数×声道数×时间）/8 Byte(比特) 得，数据量（MB）=[44.1 × 1000 × 16×2×(5×60)] /(8×1024×1024)=50.47MB 计算时要注意几个单位的换算细节： 时间单位换算：1分=60秒 采样频率单位换算：1kHz=1000Hz 数据量单位换算：1MB=1024KB=1024×1024Byte=1048576Byte 6.图片存贮大小=分辨率*位深/8 分辨率=宽 x 高（如：1024 x 768,640 x 480） 位深：如24位，16位，8位 /8计算的是字节数。 例如： 一幅图像分辨率：1024*768,24位，则其大小计算如下： 大小=1024*768824/8=2359296byte=2304KB","categories":[],"tags":[]},{"title":"转载：《关于CCF无规定选择性取消NOIP选手成绩事件致中国计算机学会、中国计算机学会NOI科学委员会，并致杜子德同志的公开信》及其批判信","slug":"1202ccf","date":"2021-12-04T13:56:38.000Z","updated":"2022-01-09T02:16:26.000Z","comments":true,"path":"2021/12/04/1202ccf/","link":"","permalink":"https://billma.top/2021/12/04/1202ccf/","excerpt":"","text":"关于CCF无规定选择性取消NOIP选手成绩事件致中国计算机学会、中国计算机学会NOI科学委员会，并致杜子德同志的公开信致中国计算机学会、中国计算机学会NOI科学委员会，并致杜子德同志: 首先，请允许我对昨日发生在贵学会的事表达诚挚的告慰和深切的哀思。 昨日，即公历公元二零二一年十二月三日星期五，农历辛丑年十月廿九日。在这个清列的冬日，在夕阳已没入北京地平线下的晚六时零五分七秒，一篇题为《关于个别选手在NOIP2021中使用暴戾语言的处罚公告》的公文赫然出现在贵学会所主办的全国青少年信息学奥林匹克竞赛的官网上。这篇文章实在可恶，作者其人对学会攻击之情、抹黑之义溢于言表。我见此文，不免义愤填膺，一日不为学会据理力争、正本清源，则寝食难安。 在文中，此人决定取消5名选手的NOIP2021成绩;禁止其参加NOI系列活动和认证一年;并对选手所在学校和指导教师通报批评。那么，这些学生到底违反了哪条纪律规定，以至于被取消成绩、禁赛一年呢? 此人一开篇便给出答案了∶这些学生在个人提交程序中使用对CCF的侮辱性网络暴戾语言’∶好吧，原来这些学生是惹了学会不高兴。可是，学会所主办的NOI及其附属NOIP毕竟是一项明确列入《教育部办公厅关于公布2021—2022学年面向中小学生的全国性竞赛活动的通知》的全国性竞赛。这项被教育部认可的竞赛的成绩,总还是和强基计划、I0l集训队保送这些升学机会有所联系的。在这项竞赛中取消选手成绩的能力，不得不说是一种公权力，而公权力向来是法无授权不可为的。想来发文者也懂得此法治道理（毕竟他是熟悉社会主义核心价值观的)，因此他总要找一项规定来安在学生们的头上。可是，他翻遍了故纸堆，不论是人大通过的法律、教育部制订的规章、主管部门的《中国科协全国五项学科竞赛条例》，还是计算机学会自己的《全国青少年信息学奥林匹克竞赛条例》《全国青少年信息学奥林匹克联赛组织指南》，竟然都没规定暴戾语言是一项足以危害竞赛公平、取消成绩的罪行呢! 此人不仅找不到罪行，反倒在《民法典》和司法解释中找到了关于名誉侵权的一般责任，竟然是责令教育、公开道歉、消除影响、赔偿损失。毕竟，中国计算机学会是个独立社团法人。这下，不是和取消成绩的目的毫无关系了吗?于是此人只好寻找那些捕风捉影的帽子了。别说，还真让他找到了一个! 这个帽子是什么呢?这就是国务院办公厅印发的《关于全面加强新时代语言文字工作的意见》。国务院的《意见》的第八条写道: .…加强语言文明教育，强化对互联网等各类新媒体语言文字使用的规范和管理，坚决遏阻庸俗暴戾网络语言传播，建设健康文明的网络语言环境。…”P瞧O瞧，只要我把程序代码定义为”互联网新媒体语言”把取消选手成绩和禁赛定义为“教育”这不就是”贯彻落实国务院意见”了么?至于”教育”到底能否包括在无具体规定的情况下取消成绩并禁赛”，《意见》二十一条中讲的“夯实语言文字工作法治基础”又有何含义，那些”暴戾”的参赛者怎么可能想得到呢! 此人想到这里，似乎终于松了一口气而觉得自己的处罚合理了，似乎终于觉得要求”批评教育道歉赔偿′”和”禁赛”只是处罚的轻重之别了，似乎终于说明学会的公权力可以躲在对国务院文件的随意打扮后头，绕开繁杂的规范为所欲为了。于是，他暂且放下了为取消成绩寻找依据的脚步，转到另一件事上来了。 另一件事是什么呢?那就是按照他写出的处罚理由”暴戾语言”，违犯的学生竟达到数百之多哩!在NOIP2021中仅仅程序代码同时含有’fuck和c两个英文词的选手，就至少有109(壹佰零玫)人。那么，为了“建设健康文明的网络语言环境的索高目的，把这些人全部取消成绩禁赛一年不就好了吗?当然不好了!毕竟要是毫无规定就禁赛数百名选手，必然导致竞赛的大反对，那怎么达到安稳”教育的目的呢!可是，又如何能让自己在数百选手中只看到五个人的暴戾”呢?当然是因为只有他们五个人被”实名举报”了!这样，要是有人问如何举报’，只要搬出对举报人保密的义务;要是有人问责成相关省组织单位进行情况调查为何漏掉了其余数十上百的选手，只要怪省组织单位调查不力，责成重新调查;要是有人问为何不受理其它举报，只要说公示期已经结束不就好了嘛!谁让你们愚蠢，不看到处罚公告就想不到还可以通过举报暴戾语言来取消别人成绩呢? 既然把这两件事——即为何能无视规定条例随意处罚学生，和处罚学生为何在数百人中独爱五人–论述清楚，此人的公文也该作结了，只要最后署名中国计算机学会，就能把以上两个责任和歪理都推在独立社团法人、中国计算机学会的头上啦。只要于星期五傍晚六时发送公告，使学会于周末休息日难以应对，过了两天，事情自然生米煮成熟饭了! 到挪时，被处罚的学校，痛感不公的同志诸君，将只会批判中国计算机学会滥用主办方权力，将未违反法律法规及竞赛条例的选手取消成绩并禁赛了。到那时，他们就还会搬出《中国科协全国五项学科竞赛条例》的第二十七、二十八条，声讨学会事实上擅自更改参赛学生的竞赛成绩，科协应当主管监督了。到那时，他们就怀疑这种无规定依据的选择性判罚给了利益输送、权力寻租以空间，或至少给了私相授受、恶意举报以机会了。到那时，他们就会在最低限度上，至少要求CCF撤回一切以程序中使用对CCF的侮辱性网络暴戾语言”为口实的无规判罚，公告承认错误、说明情况，以维护学科竞赛之教育公平和公信，并作坚决的斗争了!可是这一切，都和处罚公文的作者没有关系了。 如此一篇欲陷学会于不义的公文，竟然堂而皇之地出现在学会主力的竞赛网站首页，不能不让关心学会、热爱计算机教育者痛心。但好在事情尚可收拾，只要立刻撤回一切以程序中使用对CCF的侮辱性网络暴戾语言”为口实的无规判罚，公告说明情况，以维护竞赛之教育公平和公信，广大师生自然会和公义、和法治站在一起,完善教育规范，消除暴戾风气，支持学会加强学科竞赛的精神文明建设。毕竟，当前师生还要借助学会主办的竞赛来参与和发展算法、计算机基础教育。朴素的公正愿望，满足这些也就可以缓和了! 此致 附则1:中国计算机学会主办全国青少年信息学奥林匹克竞赛网站上的处罚公告原文: https:/www.noi.cn/xw/2021-12-03/750909.shtml33 附录：关于个别选手在NOIP 2021中使用暴戾语言的处罚公告NOIP 2021于11月20日在全国31个赛区同时举行。竞赛整体进展平稳顺利，但也发现了极个别严重违反社会主义精神文明建设的行为。CCF现将情况和处罚公告如下。 在NOIP申诉期内，我学会接到多封实名举报，指出个别选手提交的NOIP 2021个人程序中存在对CCF的侮辱性语言。经我学会NOI评测组核实，举报情况属实。我学会责成相关省组织单位进行情况调查。根据调查结果，相关选手确实在个人提交程序中输入了侮辱性等网络暴戾语言。 根据NOIP规则，各省在赛后第一时间公示选手程序，是为了加强选手间的交流和学习，但是这些带有网络暴戾性质语言的程序，也在一定范围内广泛传播，严重破坏了NOI选手的整体形象和道德声誉，也给CCF造成了极为负面的社会影响。 国务院办公厅近日印发的《关于全面加强新时代语言文字工作的意见》指出，要“加强语言文明教育，强化对互联网等各类新媒体语言文字使用的规范和管理，坚决遏阻庸俗暴戾网络语言传播，建设健康文明的网络语言环境。” 为维护NOI竞赛秩序，遏制影响中学生身心健康发展的不良行为，CCF决定，取消GD-0081赖* 旭（华南师范大学中山附属中学）、GD-0785张* 铭（中山市中山纪念中学）、HA-0101王* 康（郑州市第十一中学）、SC-0027毛* 祥（成都外国语学校）、ZJ-0071姜*丞（浙江省衢州第二中学）的 NOIP 2021成绩；即日起，禁止其参加NOI系列活动和认证一年；并对选手所在学校和指导教师通报批评。 CCF认为，在NOI系列竞赛和认证中，选手的道德培养是非常重要的部分。所有选手及其指导教师都应当在培养选手竞赛知识和能力的同时，加强选手的道德文明教育，使选手真正成为社会主义建设的有用之才。 此公告。 中国计算机学会 2021年12月3日 扩展阅读：批判《关于CCF无规定选择性取消NOIP选手成绩事件致中国计算机学会等的公开信》——全面、现实、严肃、深入地分析和解决问题 理论一经掌握群众，也会变成物质力量。理论只要说服人，就能掌握群众，而理论只要彻底，就能说服人。所谓彻底，就是抓住事物的根本，而人的根本就是人本身。——卡尔•马克思 《&lt;黑格尔法哲学批判&gt;导言》 一、《公开信》的目的和片面性我想，各位同学都读过《关于CCF无规定选择性取消NOIP选手成绩事件致中国计算机学会、中国计算机学会NOI科学委员会，并致杜子德同志的公开信》了。 这封信的每一个字，每一句话，每一个段落和论证都是正确的。可是，它有一个最为错误的地方。 那就是，它不够严肃。 或者说，这封信是一个手段，它是为了一个目的而写的。 这个目的是什么呢？那就是，要求撤回对5名选手的取消成绩和禁赛处罚。 正是为了这个目的，它的标题把事件称作“无规定选择性取消NOIP选手成绩事件”，而不是事实的“CCF《关于个别选手在NOIP 2021中使用暴戾语言的处罚公告》事件”。 正是为了这个目的，它是一个宣传材料。一篇鼓动选手用两个论点向CCF进攻的宣传材料。 那么，这个目的足够崇高吗？经过反思了吗？ 我很想说，它是足够崇高的。但是，并不是这样。这个目的——要撤销对选手处罚的目的，是在得知这个消息的第一时刻，从下意识中产生出来的。这个目的是未经反思的，不崇高的，不能说服人的。这个目的为了实现自身，不得不把自身包装成另外的东西。那个东西就是竞赛的良性发展所需的公平正义和法治。 一个被包装出来的事物，由于它要按原本目的对包装作裁剪，总是片面的。片面就在于，它无法站在现实的也即普遍的“竞赛良性发展”角度来考虑问题，而走向了法治之分析法条的片面性；它无法完整把握整件事中密切联系着的选手行为和处罚决定两个方面和它们的关系，而走向了只找处罚问题的片面性；它无法站在全部主体即学会成员和学生、家长、学校、作者本人等各方面考虑问题，而走向了忽视学会成员主体性并赋予它们任意假设的片面性。 这三个片面性，注定了《公开信》与它的读者是冲突的，甚至是南辕北辙的。它的内容对于读者特别不彻底，因而不能通过说服人达到它所用于包装自己的公平正义和法治的现实结果，因而也不可能达到它本身要求的取消判罚的结果。 在这里，我们将把这三个片面性所遮蔽之物全部展开，把理论讲得更彻底，届时一条真正维护竞赛的良性发展所需的公平正义和法治的道路会自然展现在我们面前。 二、现实普遍的竞赛良性发展《公开信》的大致内容，是由两点不合规的事实推出整个处罚的不合规；《公告》的大致内容，则是援引指导性文件对选手进行批判。这两者的共同点，在于从规章、法条、文件这些被赋予了法的权威性的话语中寻找达成事实的条目。否则的话，后者就无需引用内容模糊的文件了。 法治的形式，在于严格的依规依法办事。严格要求法的形式是法律运行和明确约束权力等功能的基础。在当前历史条件下，我国推进依法治国，学会也在推进依法治赛。因此，我当然主张，为了法治权威的大局，应当严格执行规定，采用有据可依的要求道歉和纪律处分等方式解决问题。我们知道，国家法律是社会的统治阶级依照形成它自身的规律，通过它们内部妥协产生的规则和共识，以国家机关这一表示集体意志的形式，依靠国家强制力（暴力机器）和社会权力关系的保障和严格执行的权威来运行的一种强制调节社会矛盾的框架。从法律中延伸出来的各级规则体系，自然也是依照某种集体组织的强制力来规范行为、调节矛盾的。从这个角度看，法治形式本身的局限性就很清楚了。那就是，法治是调节控制矛盾的工具，却不是解决矛盾的方法。例如，本次事件中，有取消判罚诉求的和学会决定矛盾的选手就从规章中寻找自己行事的依据。这当然是法治精神。但是，仅仅是诉诸法治，即诉诸调节矛盾的形式，而因此不考虑解决矛盾的办法，就不可能有进步而只能试图保持既有体系的不崩塌。用法律遮蔽问题，用压制矛盾取消解决矛盾的探索，这是资本主义的法权凌驾于现实的抽象的法治，不是追求解放人发展人的社会主义的法治。 一边用法律维系体系中人的基本生存，一边分析实践探索矛盾的解决之道，才是社会主义的法治精神。 因此，当然地，在这个问题上争论CCF的解释力有多强，“扰乱竞赛秩序”的范围有多大，这些法条问题固然对法律的权威是重要的，但是它们却远远不能遮蔽对矛盾本身的探索。即对选手辱骂CCF这一现象背后各类深浅原因的追问和解决。我对这个追问和解决的详细见解，将在下文中展开。 三、选手错误和惩罚的关系毫无疑问，这个惩罚是针对选手辱骂学会的反应，这一点将在下节得到验证。那些“这次xxx，下次yyy”的无前提的随意类比，都是建立在“辱骂学会本身并非惩罚的原因，而只是一个借口。”的猜想上。但实际情况并非如此，这一点也将在下节得到验证。当然，这样的猜想，是因为学会的处罚公告也和公开信一样，不得不用一般的社会主义精神文明建设和国务院办法来包装自己，因而也产生了片面性。被误解是不奇怪的。 既然辱骂学会就是处罚的原因，那么要解决问题，就必须也搞清楚辱骂学会这一现象的原因。 请想想吧，你现在是否因为这一事件更加气愤，更想辱骂学会了呢？ 许多人的答案是肯定的。那么，请再想想，你是否像本文那样，考虑过你的思维的片面性？ 你是否不加批判地接受网友说的，我们是在维护法治因而我们是完全正义的？ 你是否不加批判地接受网友说的，学会只是找借口，因而选手的行为和学会的做法无关，不需要深入研究如何解决选手的问题？甚至武断地宣判它无解？ 你是否不加批判地接受网友说的，学会就该机械般无条件严格按规则行动，收费或者出错就是倒行逆施？你是否把自己所听说的，抽象的“社会的黑暗”——如金钱至上、官官相护、私相授受、权力寻租，不加考察地代入了学会？你是否尝试考虑过学会成员的想法？ 如果答案为真，那很遗憾。因为你即使是在和自己切身相关的信息学竞赛问题上，也缺乏辩证和批判思维。当然，你是未成年人，在心理发育过程中这是难免的；又，有缺乏信息渠道等种种现实困难阻止你的进一步思考。但无论如何，这样的你对CCF的态度不是你自己的，而是从网友那里记忆来的，是一种网络模因，它在你不思考地吃瓜看乐子时日积月累地改变你的下意识，让你盲目从众，并使你在叛离时，在代码调不出想要宣泄情绪时将矛头对准你下意识中的那个强权——CCF。 所看的言论是哪里来的呢？本来，那些言论所依附的事实都是明确而重要的——CCF收费、比赛故障、题目质量差、取消省队名额等等……在记忆中，每次也有确实分析提出建议的讨论。可是，我们怎么还在这里接受模因，看乐子呢？ 第一个原因，是我们不知道如何严肃面对竞赛问题；或者没有来自竞赛方面现实具体的生活压力。因而就不能从解决问题的角度严肃反思竞赛问题，反而不得不从暴戾语言那里享受一种虚假的反思和批判感。 前者，即无法严肃面对竞赛问题，首先是由无法与教练群体、命题人、CCF、科协、教育部联系的无力感造成的；其次是由与他人或理想自我等反差导致的自卑感或无力感造成的；第三，是由于从各种渠道接受的对社会不公、体制问题等的抽象批判带来的焦虑，对现状和前途的完全迷茫导致的绝望和虚无；第四，就是特殊经历造成的心理创伤。解决这些问题，主要从建立CCF和选手有效联系和心理建设（关于更具体方法，另文详叙）角度考虑，解决更深层动因则需从社会主义原则考虑。 后者，即我们能够不严肃对待竞赛的生活体验基础，就是信息竞赛体制本身所创设的临时的自由。在信息竞赛学习时，学生首先脱离了之前应试班集体的律令体系和集体关系，在学习中缺乏竞赛知识以外的交流，学习过程自治（因为信息竞赛教师往往不直接传授困难知识，需要大量自学），又在信息竞赛社区中受互联网的自由思想影响，很容易形成个人主义倾向。在个人主义倾向下，在社会上计算机行业的热潮下，许多学生容易认为自身在现在或者将来有自我生存的能力（因为当前临时的自学状态和对未来生活方式的小资产阶级理想），缺乏集体观念，缺乏现实人际交流，容易对互联网社区和互联网片段化信息产生认同。而OI社区就是一个互联网社区。如果没有引导，产生把互联网和现实对立起来，把OI社群和CCF或其它方面对立起来，二元对立，认为其中一种的极端化为理想，认同一个而厌恶另一个的思想也不奇怪。这样，就会产生一种完全抽象的批判的姿态，甚至在遇到挫折等后不与人交流以至于走向虚无或走极端。 信息学竞赛提供自由的本意，在于充分发扬学生学习的主体性。要解决这个问题，也即激发学生的主体性。这方面，luogu的月赛日报社区管理，各种OJ、命题和开发社区，各种有具体内容的学术群和文化课群，是第一类经验，即在OI社群内部引导良性内容的经验。教师对教学的详细管理，对具体教学活动的参与，和学生的交流，是第二类经验。家庭教育是第三类经验。另外，有些问题迄今无良好方法，如文化课班级和竞赛的调和（很难既保持集体生活又避免心理压力导致竞赛和文化课的二元对立），以及如何在OI中建立集体体验。 以上两者，是许多学生能够潜移默化接受跟风，辱骂CCF的主要原因。除此之外，对CCF的情绪化宣泄也有其它来源，这构成风气的起点。 第一，部分家长、教练等因为收费、比赛故障、政策内容或政策变动等原因，由于利益受损，对CCF进行攻击。这种攻击有其原因，其存在是可以理解的，由于利益关系的复杂性和成年人思维方式的稳定，在计算机基础教育的内部恐怕无法解决，只能通过改革一定程度缓解以及引导无意义的情绪宣泄为有根据的批评。 第二，部分退役学生（主要是大学生）因为仍然留在OI信息传播社群中，但又脱离了OI的切身利益。因此，他们由于没有深入了解或思考现状，或者个人性格等原因，在之前OI时期的下意识影响下，继续大量传播情绪化信息。由于这些信息直接流入学生互联网社群，也会造成重大影响。 四、学会成员的主体性成年人是怎样的人？ 当然，我们有许多刻板印象。成熟冷静，思想复杂，社会经验丰富，工于心计，注重利益……这些标签，每个都可以贴在某时某刻的某些人身上。 但首先，成年人是人。人有主体性，它本身就不能被符号所完整把握。成年人不是近似于所有刻板印象的总和。更不是我所想象的理想自我的反面。 来看一段话吧： “如果是“赛”，就不让收费……不让收费呢，CCF是没钱的。……500名同学呢 ，你就要失去机会。……今年呢，就是⼀个多事之春，从冬令营开始到现在还没有完全停⽌……总有⼀种⼒量想把我们从正道上拨到邪路上去。……（⼀种态度是）坚信CCF是为⼤家考虑的，是为我们青少年考虑的……我们的宗旨是给那些学有余⼒的学⽣，有兴趣的学⽣，早⼀点接触计算机科学……也确实培养出了⼀批又⼀批的杰出的青年才俊。……（另⼀种态度是）遇到困难的时候顶不住，埋怨CCF。……我想没有第⼆个⼈像我这么热爱NOI，这么投⼊和为NOI着想。我不会把NOI断送掉，可是你们知道CCF的苦楚吗，你们知道我的苦楚吗？……后来我们是列在名单⾥头了，细节我不想跟你讲……有些事我也不便跟你们讲。……如果我实在达不到⽬的……我只能辞职⽽去，但绝不就范，绝对不……失掉真理，失掉正义和⾻⽓。”（《整形溢出》，第113-114页。这是一本出自OI学生之手的纪实文学，笔者引用它来说明部分学生心理。） 想必参加过全国现场赛的同学们，都能感觉到这段讲话出自谁。参加过CTS2019的同学，可能还对此记忆犹新。当然，它出自NOI竞赛委员会主席杜子德。 初听这段话，似乎口气很大，“我想没有第⼆个⼈像我这么热爱NOI，这么投⼊和为NOI着想。”又显得有些矫情，把辞职说成是“绝不就范，绝对不……失掉真理，失掉正义和⾻⽓。”还有些造作，“总有⼀种⼒量想把我们从正道上拨到邪路上去。”而且也有大言不惭之嫌，“坚信CCF是为⼤家考虑的，是为我们青少年考虑的……我们的宗旨是给那些学有余⼒的学⽣，有兴趣的学⽣，早⼀点接触计算机科学……也确实培养出了⼀批又⼀批的杰出的青年才俊。”个别对CCF的收费或者组织失误不满的同学，听到这样的话当然怨气更大，都当做形式主义假大空。有些习惯了骂CCF的同学，看到这位占用他们时间的有权力的老先生，也是付之一笑。有困难的同学和更多离开生活的同学，听到“苦楚”更是暗自腹诽。更有许多人把他的历史名言——例如“做干净的竞赛”之类拿来揶揄。 当然，这是一位脾气倔强的老人，许多饱受争议的决定都是出自他手。例如被揶揄为“连坐”的扣省队名额处分——不过现在取消了。让我们来看看，这个省队处分是怎么一回事吧。 这种“省组织出问题，选⼿承担后果”的处罚形式对CCF⽽⾔早已驾轻就熟。从2015年开始，每年都会有不同的省份由于代码提交不及时或出错，选⼿作弊，题⽬泄漏等原因被CCF加以扣减省队名额或提⾼NOIP分数线这类惩罚。……按照⼀位选⼿的⽐喻，这种惩罚⽅式就好⽐“某省⾼考收 卷出现失误造成批阅延迟，于是该省⼀本线提⾼五分”以及“某省某校考⽣作弊，该省扣除五千个⼀本名额”的⾏径。没有哪个信竞⽣对这种惩戒⽅式持正⾯看法，尤其因为这些选⼿很可能由于省队名额的缩减⽽⽆缘NOI。但即使这类“连坐”式的惩罚⼿段⼀向是被⼜口诛笔伐的对象，CCF也丝毫没有表现出要改进它的意思。有⼈将其描述为“⽆耻的⾏径重复多次，话题度就⼤⼤的降低，以后就会被认为是正常操作。……问题的核⼼始终在于⼀点：通过惩戒选⼿来间接对省组织施加压⼒的⽅式真的有⽤吗？如果有⽤，效果究竟多好？ ……我们不得不⾯对的⼀个事实是，⾃2015年起，在NOIP中出现违规现象的省份数量⼏乎每年都在增加，⽽同⼀个省份连续两年乃⾄三年出现问题的情况也并不罕见。单从结果来看的话，这些惩戒措施即使不说是毫⽆⽤处，也可以被视作收效甚微。这就意味着我们得从另⼀个⾓度来分析这个问题。由于信息学竞赛近年来的热度不断攀升，NOI系列赛事的参赛⼈数每⼀年都在增加。赛事规模越⼤，对组织⽅的要求也就越⾼；但部分省组织单位的能⼒显然暂时不⾜以应付越来越⾼的要求，所以在举办过程中出现种种状况的概率是相当不⼩的。另⼀⽅⾯，CCF并⾮⾏政单位，对省组织单位的管控能⼒相当有限。（事实上，省组织单位都是独⽴的法⼈代表机构。）在省赛区竞赛委员会的诸多职位中，CCF唯⼀有权⼒任免的职位仅限于特派员；⾄于省组织单位的整改，CCF则⼏乎没有任何插⼿的余地。因此，CCF能够采取的有效惩戒⽅式相当之少，除去“对特派员及省组织单位通报批评”之外，唯⼀能体现惩罚效果及决⼼的就只有对这个省的“切⾝利益”，也即省队名额和NOIP⼀等奖名额作扣减了。（⾄于这是选⼿们的切⾝利益还是省组织单位的切⾝利益，则另当别论。）这在很⼤程度上折射出了CCF对此的⽆能为⼒。 由于“连坐”式的惩罚⽅式，俞同学（引用者注：因为博客时间问题引起恐慌被禁赛一年的同学）⼴受争议的遭遇，正式⽐赛中出现的问题，以及其他种种因素，CCF在选⼿中的声誉于2018年底跌到了⼀个最低点。（《整形溢出》，第95-96页。） 在2019年，仍然有这么一段评价： CCF采取的处罚⽅案也毫⽆新意可⾔：迟交数据的省组织单位及特派员被批评并罚款；作弊者被禁赛三年，所在的省份被扣减1个省队名额；江西省被扣减2个省队名额，并被责成进⼀步追究有关⼈员的法律责任。如果说这就是所谓新时代的开端的话，那它和过去⽐起来充其量就是换了层⽪⽽已。CCF及其下属省组织单位的能⼒仍旧令⼈不敢恭维，选⼿们的被动地位也没有任何改变。或许唯⼀的不同之处在于他们已经习惯了这种状况的⼀再发⽣。 （《整形溢出》，第128页。） 诚然，CCF即使不能解决省组织的问题，作出一个对无辜学生不利的处罚也很不合理。因此，学生将作出这一决定的沉默的学会当作反面，就是不足为奇的了。一旦将其认定为反面，那么学会的一切行动都像是虚伪的。杜子德主席说“办干净的奥赛”，好像是沽名钓誉；学会处罚省组织，好像是推卸责任；学会取消连坐，好像是“广大学生的英勇斗争取得了胜利”，又好像是“和某些教练达成了不为人知的交易”；学会取消IOI环境，好像也是把CTSC2018的问题扣在改革和进步者的头上；学会编写大纲，好像是“伙同部分教练固化知识”，又好像是“搞应试教育化”；学会统一省选，好像是“急功近利，制造故障”；学会的三分之一限制，好像是“变相操纵省队”；学会的收费，好像是“吸血NOI学生补贴学会”，甚至“中饱私囊”。这些观点，有些不无道理，有些是捕风捉影，然而它们在许多学生眼中却都是来自于学会负面形象的结论。既然学会是负面形象，那么考虑学会的想法是一个禁忌，对学会非恶意的揣测，对真实意图的考察是不被思想允许的。学会的主体性，完全被它所扮演的负面形象遮蔽了。 这种遮蔽的社会基础，首先在于学会和学生、家长之间信息和权力的不对称，学会和学校等方面之间的利益冲突。在当下的社会中，权力的不对称，信息的不对称，交流的缺乏，容易让人在他们下意识的范围内以最坏的恶意揣测其它主体。 对学生来说，学会是支配他们学习的一方。并且，由于青少年时期心理结构的不完善，容易简单化投射一个主观想象的本质，或者说，容易用主观理解的善恶等简单符号来认识他人。在信息不对称，在学会不主动宣传和接触选手，在接受了社群内刻板印象的宣传，在由于缺乏经验、畏惧权力等原因不愿意、不敢了解学会的情况下，学生很容易用负面形象来短路对学会的认识，这可以说是某种面对权力无能为力时的“自我保护”。这是社会普遍存在的问题，但通过严肃的交流是可以缓解的。 可是，现在学生中这种负面形象完全遮蔽了真实的学会。我在这里问三个问题： 取消连坐，更新语言，编写大纲，开发NOI Linux 2.0，统一省选环境……这些作为是如何进行的？工作推进中产生的问题，是否已有更好的解决方案而被CCF视而不见？换言之，对学会收钱不作为的批评在哪些程度上是具体的？ 有无任何证据，证明CCF NOI科学委员会的成员有不正当或者正当化的不良经济关系？换言之，做干净的奥赛在哪些程度上是具体的？ 总而言之，学会是否在NOI工作上具有大的保守性、拒绝意见、私心或者主观恶性等问题？用对待敌人的态度攻击学会是否总体上利于竞赛和教育的良性发展？ 第一个问题中提到的现象，无疑是学会NOI竞赛委员会领导教师、学生等共同完成的。 如NOILinux，由赵启阳老师及其研究生等共同维护开发。对他们的批评是很多的，如系统内的漏洞和缺陷，如接受建议动作太慢、技术水平不足，如怀疑垄断NOI Linux课题、剥削研究生……但是，这些批评要怎样解决呢？当然，我们可以提出各种各样的解决方案，如增加技术能力更高的人手及时处理缺陷迅速更新系统，如吸收部分技术能力强且主动性强的现役、退役学生参与系统测试和维护并给予应当报酬，以至于以此改革机构……问题在于，对NOI科学委员会来说这些建议是否特别困难？我本人参与赵启阳老师和学生的许多联系工作，包括收集NOILinux 2.0建议等。NOILinux要找到高技术的，同时能够快速迭代和保证安全的开发团队，因为缺乏资金和业务的单一等原因，是困难的；在选手内部，其实技术开发能力也极为不足。大部分的项目都是个人项目，缺少协作和维护经验；小部分质量较高的项目，其有相当技术水平的人员分布也相当分散，且均有利益相关疑虑和学业等掣肘，要用学生团队等代替赵启阳老师大学课题团队，当前不够现实。清华算协、王逸松同学等的项目技术水平，调研能力和创新能力较好，但他们也是另起炉灶，和NOILinux平行开发，待功能成熟后再行借鉴、迭代，似乎比直接替代更适宜。至于省竞赛环境统一遇到的技术和非技术困难，也非调查研究不能解决。目前要发挥学生的主体性，一个是可以建设开源平台让学生的临时、局部想法能够记录，二是需要建立稳定广泛的宣传联系渠道，三是主动到各地产生实际问题的地方进行调研。这些也是我本人和一批同学近期和长期的重大工作。 学会编写大纲、大纲辞典等整理竞赛知识体系，也是解决知识碎片化、不规范等长期问题的一个方案。但是，这项工作在和各校已有的教学体系，和大学、业界的要求和想法，和潜在出题人和毕业学生评判题目的标准，和知识的主力军现役学生的想法之间，会产生各种龃龉。这项工作中被批评的可能问题——如细化、僵化、固化、记背化知识体系，大纲在学界和题目张力之间的范畴，大纲指导命题的具体做法，如何保证OI自治的知识生产/再生产不因此中断或者内卷化……这每一项问题都需对数学、算法、计算机科学的深入学习，对教学论的细致研究，对社会的科学的细致调研。还需要不断联系学会，联系各个实际参与编写的学生和教师。学会要在各方的差异中协调组织编写、审阅等一系列工作。这些也是我本人和一批同学参与的一项重大工作。 在协调竞赛师生、承办方、省组织、政策、高校、业界、部委等各方面，推进竞赛改革的工作上，杜子德主席本人更做了大量突出的工作。他在CTS2019上的讲话，和之前许多看似歌功颂德的讲话（特别著名的比如“做干净的竞赛”），是真情流露。我曾参与一些史料收集工作，也了解到稍许过去的情况（不便透露细节），我个人是信任杜子德主席的，只是我之前也由于自己未能和他交流，对他的巨大影响力的畏惧等原因，不愿意去体会他的感情。我调查过杜子德主席的公开经济信息，也在工作中接触到一些熟悉历史的成员，我没有看到任何谋私利的迹象。当然，如果你把学会当作他的私心，那么在2014-2018年大量增加的竞赛收入事实上的确被运用在了学会的其它方面，在2018年左右每年达到上千万元。不过，在强基改革之后，CCF已经不再把竞赛作为主要盈余来源，转而用发展计算机相关产业等其它手段解决问题。例如说，各个“西西艾弗信息科技有限公司”都是在CCF秘书长交接的2021年成立的。这方面倒也可以深入研究，不过就不要写在一篇面向OIer的文章里了。当然，CCF应该向当事人公开某些被质疑收费不合理活动，例如在线竞赛、教师培训等的支出情况，并改革如疫情取消活动等状况下的的退款工作。 我曾经见到许多选手抱怨某些省区竞赛活动舞弊嫌疑、乱收费、题目质量一言难尽等乱象。但是，当然地，推进统一各省竞赛环境是解决这些问题的主要方式，在这方面，CCF是必须起主要作用的。至于对CCF国级赛事的怀疑，以我个人参与相关活动的经验，除了“某些出题人可能平时太有名讲课太多，或者不遵守保密协议提前让人猜出出题人，导致有可能按人研究出题风格”，“严重疏忽和技术事故导致的出原题、原题重赛”这些问题外，其它明显影响竞赛公平的问题并未见过，这更加不是学会故意造成的。当然，偏题怪题原题等问题，以及比赛过程中的技术问题也是必须通过建立良好的命题管理、技术体系解决的。这其中具体的技术细节，仍然是我们需要参与的工作。 学会NOI竞赛委员会和科学委员会的成员，吴文虎、尹宝林、杜子德、陈文光、王宏、赵启阳、蒋婷婷、韩文弢等每位老师，都是活生生的人，有自己的思想，都在信息学竞赛中做了多年工作。他们对教育的热爱，不谋私利的作风值得我们所有人学习。当然，老师们带有许多个人或者时代的特点，或者由于精力有限、需要保密、沟通不充分等，经常表现得固执、权威、忽视学生等等。作为信息学竞赛教育方面的同志，我们应该对具体的错误展开彻底的批评和自我批评；但是，批评和善恶评判完全是两样东西。完整了解现状和自己的能力后选择不同的工作方式，和喊口号批判现状空想一个没有内容的乌托邦更加是不同的东西。 我们可以看到，学会的每项具体工作都有大量的具体问题，受到大量确实具体的批评。但是，学会并不是不关心结果，不能接受批评和改进工作，更不是不作为；主要受到的是历史惯性、交流缺乏和各种现实客观条件限制。这些并不能否认学会的贡献。更不能否认学会努力改善OI的作用和态度。 总之，学会在NOI方面做了深入复杂的工作，我本人也是许多工作的参与者，深知工作遇到的现实困难，是不能想着打倒学会建立一个没有蓝图的新世界而解决的。既然学会支持我们的实践，既然学会不反对改革，既然学会NOI委员会的领导都是为OI多年无私奉献的讲道理的工作者，我们就没有理由把学会看作对立面，凭着想象和不完整的印象拒绝现实的实践的条件。我们只有在现存的体制中不断实践，在旧办法中创造和验证新办法，因为整体性解决问题的方法只能从具体每项工作的实践中，而不是几个理论家坐在书桌前对着思辨、概念和统计数据的空想中产生。 而要发扬学生的主体性，使建议和个别的经验能够推广，学会和学生的经常交流和通力合作是非常必要的。保护和发扬学生和教师的主体性，鼓励学生主动实践，组织学生，改善OI各方（特别是学生、弱校教师之间和他们与学会之间）的交流条件，是我本人在一个若干年的长时间内做OI工作的总任务。 五、总结因此，我们不要说： 只要立刻撤回一切以“程序中使用对CCF的侮辱性网络暴戾语言”为口实的无规判罚，公告说明情况，以维护竞赛之教育公平和公信，广大师生自然会和公义、和法治站在一起，完善教育规范，消除暴戾风气，支持学会加强学科竞赛的精神文明建设。 那是谈条件，是针对敌人的口气，是针对守护腐朽制度的死硬的保守派既得利益者的口气。不是针对计算机基础教育建设者，我们最亲密同志的口气。更加不是针对一个无私者的口气。 我们要说： 为了信息学竞赛选手的道德教育和精神文明建设，为了选手的主动性和有益建议的及时传达，需要加强CCF和选手的联系，经常地和选手说明历史和现实，说明规则和想法，消除CCF和选手之间由于不交流造成的虚假对立形象。在这一基础上，严格执行规定以贯彻当前提出的依法治赛理念是有必要的。因此，需要考虑选手对自身错误的认识情况，重新考虑目前对禁赛、取消成绩等规定外惩罚措施的使用，后续完善规则对暴戾语言一致处理；并向选手充分宣传CCF做出决定的原因和依据，以及CCF的现实贡献。 也许你会问，这不还是要取消竞赛方面的处罚吗？有什么区别？ 我的回答是：这是真正从竞赛良性发展出发，在更全面的角度分析得到的做法。正因为抱着真正经过反思的崇高的目的，才更能解释和解决下意识产生的冲动的目的。因为崇高的目的之所以崇高，就是因为它和下意识相容。 也许你会问，这不是因为杜主席的个人想法而做的变通吗？这不是因为杜主席的一言堂造成的吗？这是否可以通过学会内部的民主，而不需要修改措辞来解决呢？ 我的回答是：不行。 因为，之前的处罚决定其本身，就是一个民主决定。因为各个在学会为计算机教育事业奉献了多年的人，都很难接受一个被破口大骂的现实，很难接受一个仅靠条文的辩护。这里，不能认为缺乏规则条文所以无法处罚的法条道理必然是至高无上的。 这是一个悲剧，一个来自于误解的悲剧。悲剧的种子早在CCF和选手社区间不存在联系的那一刻就埋下了。 只有站在人的角度把理论讲彻底，抓住解决问题的根本——而不是把法条提高到比主体性更高的位置来指责——才能够消除这样的悲剧。 我们不仅要做干净的奥赛，而且要研究如何做干净的奥赛，懂得如何做干净的奥赛，在未来不断做更干净的奥赛。 而不是，讽刺着奥赛不够干净，然后想象该负责任的是谁。 最后，让我们用《整形溢出》的一段话做结。 是谁被调剂到和竞赛学科毫⽆关联的专业？是选⼿。是谁被弄丢代码，因为莫须有的原因被禁赛，由于同省考⽣的违规⾏为⽽错失省队名额？是选⼿。是谁被不明就⾥的⽹友斥责为所谓“权贵”？是选⼿。是谁整天为政策的变动所担⼼，唯恐⾃⼰的努⼒化为泡影？还是选⼿。可他们同时也是最缺乏话语权的⼀批⼈，在跟⾃⼰的命运息息相关的这些事务中，这些选⼿却⼏乎不能产⽣任何影响。他们唯⼀能采取的有效⼿段就是更加拼命地埋下头去学习各种知识，⼒图使⾃⼰在下⼀场的竞争中拔得头筹，⽽之后等着他们的还有更多的竞争。（《整形溢出》，第134-135页。） 同学们。我们有主体性，我们有话语权，我们掌握知识，信息学归根究底是我们的。我们只不过是被困在二元对立的迷思和对世界与理想的刻板想象里，唯有实践，唯有学习，唯有反思，唯有交流，唯有创作，唯有开放，唯有严肃，唯有同情，才是通向未来的钥匙。","categories":[{"name":"精华转载","slug":"精华转载","permalink":"https://billma.top/categories/%E7%B2%BE%E5%8D%8E%E8%BD%AC%E8%BD%BD/"}],"tags":[]},{"title":"U盘里的文件夹突然变成了“应用程序”后缀名怎么办？","slug":"file-exe","date":"2021-11-12T11:47:58.000Z","updated":"2021-11-12T12:35:36.000Z","comments":true,"path":"2021/11/12/file-exe/","link":"","permalink":"https://billma.top/2021/11/12/file-exe/","excerpt":"","text":"最近学校电脑有很多老师喜欢使用U盘拷贝文件，但是我发现，许多老师的U盘都被感染上了病毒。这种病毒很常见，感染力极强，而且甚至像360系软件等等根本无法查杀。那么，这种病毒如何查杀呢？ 1.病毒介绍文件夹EXE病毒，学名Worm.Win32.AutoRun.soq。这种病毒只会运行在win32系统上。当你把你的U盘插入到一台电脑后，突然发现U盘内生成了以文件夹名字命名的文件，扩展名为exe，并且它们的图标跟windows默认的文件夹图标是一样的，很具有迷惑性。当你双击这个被伪装的exe文件后，木马自动启动并在电脑内下毒。 2.运作原理简而言之，这个病毒就是将你原有的文件夹隐藏起来，然后制造一个exe文件伪装成你的文件夹，其实这个exe就是病毒。在“组织”中，勾选“显示被隐藏的文件和文件夹”，并且取消勾选“隐藏被保护的文件夹”即可看到你的文件夹。 完整病毒机理： 病毒运行后会释放以下文件： 123456789101112com.run dp1.fne eAPI.fne internet.fnekrnln.fnrog.dllog.edt RegEx.fnrfne spec.fne ul.dllXP-290F2C69.EXE（后8位随机） 这些文件会被复制到系统盘的C:\\WINDOWS\\system32里面 随后，新增以下注册表项，以达到病毒随系统启动而自启动的目的。 HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Run 注册表值：XP-290F2C69（后8位随机） 类型：REG_SZ 值：C:\\WINDOWS\\system32\\XP-290F2C69.EXE（后8位随机） 添加以下启动项，实现病毒自启动：“C:\\Documents and Settings\\Administrator\\「开始」菜单\\程序\\启动” 里的“ .lnk”指向病毒文件。 下载病毒文件： （16,896 字节）保存为以下文件，并且运行它们：%Windir%\\System32\\winvcreg.exe %Windir%\\System32\\2080.EXE (名称随机) 然后，被感染的电脑接入移动磁盘后，病毒会遍历移动磁盘根目录下的文件夹，衍生自身到移动磁盘根目录下，更名为检测到的文件夹名称，修改原文件夹属性为隐藏，使用户在其他计算机使用移动磁盘打开其文件夹时运行病毒， 以达到病毒随移动磁盘传播的目的。 3.解决办法：1.杀毒软件360并不能查清此病毒，建议使用毒霸或者电脑管家查杀。注意，该方法只能清除病毒，但不能显示被隐藏的文件夹。 2.手工清除1、结束病毒进程。打开任务管理器，选择进程，结束进程XP-290F2C69.EXE（后8位随机），winvcreg.exe，2080.exe（随机名）。 2、删除病毒在System32生成的以下文件： com.run dp1.fne eAPI.fne internet.fne krnln.fnr og.dll og.edt RegEx.fnr fne spec.fne ul.dll XP-290F2C69.EXE winvcreg.exe 2080.EXE（随机名） 3、删除病毒的启动项，删除以下启动项： “HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Run”里的XP-290F2C69.EXE（后8位随机） “C:\\Documents and Settings\\Administrator\\「开始」菜单\\程序\\启动” 里的“ .lnk” 4、清除你的点击“开始”—输入“cmd” ，进入命令提示符，然后进入你U盘所在的根目录，具体操作如下，比如你的U盘盘符位G(即你的U盘在G盘），那么依次运行如下命令（第一行的“G:”为你的U盘盘符）： 注意：第二句话会删除根目录下包括非病毒在内的所有exe文件，谨慎使用，可以仅使用1、3句话然后手动删除exe文件夹 123cd /d G:for /f &quot;delims=&quot; %a in (&#x27;dir /b /ad&#x27;) do (del /a /f /q &quot;%a.exe&quot;) for /f &quot;delims=&quot; %a in (&#x27;dir /b /adh&#x27;) do (attrib -s -h -r &quot;%a&quot;) 这一步也可以用C++来代替：（不会清除其他文件） 首先删除你跟目录下所有exe文件夹，随后使用此代码： #include &lt;iostream&gt; #include &lt;cstring&gt; #include &lt;windows.h&gt; void listFiles(const char * dir); int main() &#123; using namespace std; char dir[100]; cout &lt;&lt; &quot;Enter a directory (ends with \\&#39;\\\\\\&#39;): &quot;; cin.getline(dir, 100); strcat(dir, &quot;*.*&quot;); listFiles(dir); return 0; &#125; void listFiles(const char * dir) &#123; using namespace std; HANDLE hFind; WIN32_FIND_DATA findData; LARGE_INTEGER size; hFind = FindFirstFile(dir, &amp;findData); if (hFind == INVALID_HANDLE_VALUE) &#123; cout &lt;&lt; &quot;Failed to find first file!\\n&quot;; return; &#125; do &#123; if (strcmp(findData.cFileName, &quot;.&quot;) == 0 || strcmp(findData.cFileName, &quot;..&quot;) == 0) continue; if (findData.dwFileAttributes &amp; FILE_ATTRIBUTE_DIRECTORY) &#123; cout &lt;&lt; findData.cFileName &lt;&lt; &quot;\\t&lt;dir&gt;\\n&quot;; string str=&quot;attrib \\&quot;&quot;; str.append(findData.cFileName); str.append(&quot;\\&quot; -s -h&quot;); system(str.c_str()); &#125; else &#123; size.LowPart = findData.nFileSizeLow; size.HighPart = findData.nFileSizeHigh; cout &lt;&lt; findData.cFileName &lt;&lt; &quot;\\t&quot; &lt;&lt; size.QuadPart &lt;&lt; &quot; bytes\\n&quot;; &#125; &#125; while (FindNextFile(hFind, &amp;findData)); cout &lt;&lt; &quot;Done!\\n&quot;; system(&quot;Pause&quot;); &#125; 输入你U盘所在盘符（例如 G:\\) （\\要反斜杠）即可","categories":[{"name":"日常经验","slug":"日常经验","permalink":"https://billma.top/categories/%E6%97%A5%E5%B8%B8%E7%BB%8F%E9%AA%8C/"}],"tags":[]},{"title":"孔子：黑暗王国里的残烛","slug":"zz_confuzi","date":"2021-10-30T13:49:45.000Z","updated":"2021-10-30T14:07:52.000Z","comments":true,"path":"2021/10/30/zz_confuzi/","link":"","permalink":"https://billma.top/2021/10/30/zz_confuzi/","excerpt":"","text":"原作者：鲍鹏山，民革成员，文学博士，作家，学者。上海开放大学人文学院教授 ，青海师范大学硕士研究生导师 [2] 、上海交通大学兼职教授。中国作家协会会员、中国孔子基金会学术委员会委员。潜心研究先秦诸子数十年，长期从事中国古代文学研究。 前言儒家者流。盖出于司徒之官，助人君顺阴阳明教化者也。游文于六经之中，留意于仁义之际，祖述尧舜，宪章文武，宗师仲尼，以重其言，于道最为高。——《汉书·艺文志》 士不可不弘毅，任重而道远。仁以为己任，不亦重乎！死而后已，不亦远乎！——曾参 一 孔子的长相颇怪。“生而圩顶”，就是说，他天生的脑袋畸型，头顶上中间低，四周高，司马贞说，其形状恰像倒过来的屋顶。名之曰丘，固当。不知命相学家是如何解释的。这种头顶是否暗示着承受天地之甘露阳光？孔子自学而成大才，其天赋必然很高。而其身长亦不凡，“九尺有六寸”，这在那时可以说是“硕人”了，“人皆谓之长人而异之”，人人都说他是长人，感到惊异。真正的一个齐鲁大汉。不过，这个“长人”的身影也确实够长了——长到遮蔽了整个民族漫长的历史，—个民族都—直顺着他的倒影前行两干多年了，我们何时才能走出这漫漫的阴影呢? 据司马迁和《孔子家语》的记载，孔子乃是商代“三仁”之一微子的后代。那个有名的“仁义之师”的统帅宋襄公，便是他的十一世祖——难怪他也像宋襄公那样泥古不化，自讨苦吃。用古老的仁义道德去对付现世的流氓强盗，这也是他家族的祖传秘诀吧，只可惜常常不灵。到孔子的六世祖孔父嘉，“五世亲尽，别为公族”，不再属王族，姓也成了“孔”。后来孔父嘉又为人所逼而奔鲁。所以孔子确实是一位“没落贵族”。到他父亲叔梁纥，便是连人丁也很寥落了：正妻连生九女，—妾生子叫孟皮，却又是个跛子。年近七十的叔梁纥大概非常绝望了。但他还要作最后的努力，于是便向颜氏求婚，颜氏少女颜征“从父命”而嫁给了古稀之年的叔梁纥。所以，司马迁说这是“野合”，“野”与“礼”相对，夫妻双方年龄差别太大，不合周礼，所以这婚姻不是“礼合”，而是“野合”。“野合而生孔子”——这实在太有意味了，为什么呢？孔子终其一生都在为“礼坏乐崩”而头疼，而愤怒，而奔走呼号，要人们“克己复礼”，孰料他本人即是个不合礼的产儿呢。如果他的那位老父亲真的克制自己来恢复周礼，可就没有孔子了。真玄哪。要知道，这不合“礼”的产儿，竟是他们这古老家族之链上最辉煌的一环，也是我们这古老民族历史上最辉煌的人物啊！ 宋人说，“天不生仲尼，万古长如夜”。好抬杠的李贄就此讽刺道，怪不得孔子出生之前，人们都点着蜡烛走路。我想，话不能这么说，也不是这么说的。我觉得，孔子确实是悬挂在那个遥远古世纪的一盏明灯，他使我们对那个遥远的时代不再觉得晦暗和神秘，他使那时代的人与后代乃至于我们沟通了。我们由他知道，即便在那么一个洪荒时代，也是有阳光普照着而万物不探手段地生机勃勃；那时代也发生着我们今天一样的事情：暴力和弱者的呻吟；混乱和宁静的企望；束缚与挣扎；阴谋与流血；理想碰了钉子；天真遇见邪恶；友情温暖，世态炎凉。在他手订的《诗经》中，我们甚至可以体验到最个性的感受——当那些面孔不一情性各异的个人复活时，那个时代不也就复活了吗？ 孔子生活的时代也真像他所说的，确实是混乱无道。他为之伤心不已：辉煌的“郁郁乎文哉”的周王朝已是日薄西山，伟大的周公早已英魂远逝，他制定的“礼”“乐”也土崩瓦解。“弑君三十六，亡国五十二”，到处都是乱臣贼子，且个个生龙活虎。西周古都废墟上的青草与野黍也一茬一茬地青了又黄，黄了又青，根深而茎壮了，掩埋在草丛中瓦裂的陶器早已流尽了最后一滴汁液。九鼎不知去向，三礼流失民间。东周呢？龟缩在洛邑弹九之地，可怜巴巴地看着那些纵横天下的伯霸诸侯，把九州版图闹得瓜分而豆刮。 无可奈何花落去，还有谁来用红巾翠袖，擦去周王混浊的老泪？连孔子本人都不曾去那里。在这种时候，要“兴灭国，继绝世，举逸民”，真无异于痴人说梦。孔子正是这样的一位痴人。痴人往往缺乏现实感。他的精神就常常脱逸出现实的背景，沉浸在过去的辉煌中，追寻着万物逝去的方向。是的，他一生都在追寻，他周游列国，颠颠簸簸，既是在找人，找一个能实施他主张的人，更是在找过去的影子，找东周昔日的文明昌盛。面对这一伟大帝国的文化废墟，孔子领悟到并承诺了自己的使命！但挽狂澜于既倒，或知其不可而为之，只不过是一种令人钦敬的悲剧精神罢了，他最终还是失败了。当他奔波倦极归来，在一条小河边饮他那匹汗马时，他偶然从平静的流水中惊见自己斑驳的两鬓，“甚矣，吾衰矣”（太惨啦！我已经衰老了！）他顿时心凉如水。这衰弱的老人，他的多少雄心都失败了，多少理想都破灭了。壮志不酬，眺望茫茫无语的宇宙，他心事浩茫。人世渺小，天道无情，青山依旧，哲人其萎。于是，一句意味深长的叹息便如一丝凉风，吹彻古今：“逝者如斯夫！” 我在几千年后的漆黑的夜里写这篇文章时，宛如见到他当初衰弱地站在苍茫高天之下的无情逝水边。那无限凄惶的老人的晚景使我大为感动。于是这篇文章的题目也就一闪而现了：这衰弱的，即将随着时间的流水逝去的老人，不就像黑暗旷野上快要燃尽的一枝蜡烛吗？四面飚风，寒意四逼，这支蜡烛艰难地闪耀…… 孔子死后，鲁哀公装模作样地悲痛一番，悼念一番，他写了一篇诔文，似乎感伤得很：“上天太不公平啦。不肯留下一位老人陪我，让我一人在鲁国孤零零的，唉，多么悲痛。”孔子的弟子子贡毫不客气地顶了回去：“生不能用，死而诔之，非礼也！” 其实，对孔子“生不能用”的，岂止—位鲁哀公呢？孔子一生见过不少诸侯，像楚昭王，齐景公，卫灵公……等等，有谁用他呢？天下人事纷纷扬扬，新生事物层出不穷，人人都在玩新花样，搞新名堂，他老先生拿着一把过时的且是万古不变的尺子，东量量，西测测，这也不合“礼”，那也不合“乐”，到处招人惹人，别人对他敬而远之也是很自然的。同时他又像一个蹩脚的推销员，推销过时的、早已更新换代的产品。这产品不是按顾客的需求而设计，而是要以这产品的规格来设计顾客，正如韩非嘲笑他的，不是根据脚的大小来选鞋，而是根据鞋的大小来“削足”。他这么不合时宜，被人拒绝不是很正常的么？子贡以他的经济实力和外交天才，到处为老师打点鼓吹，也没有什么效果。子贡的悲痛心情是可以理解的，但过分责备鲁哀公不能用孔子，就不大合情合理啦。 二 痴人有多种，或因情深而痴，或因智浅而痴，孔子属于前者，而他的很多徒子徒孙，如宋明之际的理学家们，就属于后者了，新儒家们当更是等而下之。因情而痴的孔子常常沉湎在过去的怀想之中，“郁郁乎文哉！吾从周！”“逝者如斯夫！”这时，他就是一位抒情者，抒得很动情，很感人。在一个抽象的、冷酷的、沉闷的老子之后，出现一个一往情深、感怀万端的孔子，使我们再次感受到—种温软，一种熨帖，这实在是让我们大大舒了—口气，历史终于在绝望中咧口而哭出了声，一些可怕的心理能量在孔子的歌哭、幽默、感喟中被释放了。 孔子使一些无序的暴力变成了有目的有方向的努力与企望，他使天下英雄入于他的彀中，并带着这些社会精英致力于建构新的理想。当混乱的历史有了理想与方向时，混乱就不再是一无是处，相反，倒往往显示出一种蓬蓬勃勃、生机无穷的魅力。春秋战国时代是一个刀光剑影的时代，一个流血漂橹的时代，一个杀人盈城、杀人盈野的时代，但它不也是一个充满理想，充满激情，充满公理仁德的时代吗？谁开辟了这样的时代？是孔子。非常具有象征意义的是，当孔子和弟子们周游列国的时候，他往往自己驾车——他确实是在驾着这个时代的马车。弟子们在车上或呼呼大睡或哈欠连天，一脸凄迷与怀疑，只有他永远目光炯炯，自信目标就在前方。 有一次，在一条汤汤而流的小河边他们又找不到渡口了。远处的水田中有两人在耕作，子路便上前去打问。 其中的一个细长个子却不回答子路的询问，而是反问子路： “那个执缰绳的人是谁？” 子路恭敬地回答：“是孔丘。” “是鲁国的那个孔丘吗？”——可见孔子的知名度颇高。 子路答：“是”。这个细高个冷冷的就来了一句：“既然是鲁国的那个孔丘，他应该知道渡口在哪里嘛”。 没奈何，已经由绿林好汉改邪归正到孔子门下的子路，只能按捺住火气，转过身去问另一位。这一位魁梧雄桀，是个大块头。大块头也反问子路：“你是谁？” 子路仍然是恭敬地回答：“我是仲由。” “你是孔丘的门徒吗？” “是。” 现在又轮到大块头来教训子路了：“天下混乱，举世皆然。谁能改变这种局面？我看你身体强壮，是个好庄稼汉。与其跟随孔子这样的避人之士东奔西走，鼓唇摇舌，倒不如跟随我们这些避世之士，躬耕垄亩的好！” 这里我先解释两个词。什么叫“避人”呢？避人就是择人，就是避开那些昏庸无道的诸侯，而去寻找志同道合的有为之君，一同来重整乾坤。良禽择木而栖，贤才择主而事嘛，不择主，只要给富贵就帮他卖力，那是苏秦张仪的作为。孔子一心要的是救世，而不是个人富贵，所以他恓恓惶惶的马车在纵横阡陌间奔走扬尘，就是要避开身后的昏君而去寻找前面的明君。什么是“避世”？在“避人”的基础上再跨一步，彻底冷了心，闭了眼，认定天下不可能有什么诸侯还能与他一起改变这世界，于是彻底绝望；从而彻底不抱希望，回到田园中去，回到自己的内心中去，告别都市、政治与熙熙攘攘的外部世界，就叫避世。 再回头说子路被这两人教训得一愣一愣的，又要注意自己此时的身份，不能发作，只好垂头丧气地回来向孔子汇报。孔子听完，不尽的迷惘。谁说这两位隐士说得不对呢？这不也是孔子自己内心中常有的感触吗？但他历尽艰辛，学而不厌，“十年磨一剑，霜刃未曾试”，难道就此卷而怀之吗？他有教无类，诲人不倦，门徒三千，贤者七十二，就是为了培养一批隐士，或者懂文化的农夫吗？于是他感慨万端：“人总不能与鸟兽一起生活在山林之中啊，我不和芸芸众生生活在一起，与他们共享欢乐共担不幸，我又能和谁生活在一起呢？他们说天下无道，但不正因为天下混乱无道，才需要我们去承担责任吗？假如天下有道，还需要我们吗?” 《论语》中的这一段，很传神，两千多年了，那条汤汤小河边发生的这场争论就好像发生在昨天似的。这几个人好像还在我们身边。我尤其为孔子感动。他恓惶而寂寞，迷惘而执拗。“志于道”的人越来越少了，不少人顺应潮流，从而成了新贵，或成为新贵的红人，其中甚至有他的门徒，比如那个顶善于察言观色的弟子冉求。又有不少人冷了心，折断宝剑为锄犁，平戎策换得种树书，如长沮，桀溺；其中也有他的弟子，如樊迟。樊迟向他问稼，问为圃，大概也是准备避世了吧。望望眼前，路漫漫其修远兮，看看身后，追随者渐渐寥落。“道不行，乘桴浮于海，从我者，其由与！”（道行不通了，我只能乘小船漂荡到大海中去了。到那时还能跟随我的，可能只有一个仲由了吧！） 这位可敬可叹的老人，想凭自己个人的德行与魅力来聚集一批年轻人，让他们传道义之火，文化之火；拯民于水火，匡世于既颠，但年轻人不容易经受得了各种诱惑，“吾未见好德如好色者”（我从未见过一个喜爱德行比得上喜爱美色的人。）“吾未见刚者”（我未见过刚强的人）“吾未见好仁者，恶不仁者”，（我未见过喜好仁厌恶不仁的人）“末闻好学者”（没听说过好学的人）。这些话不也把他的三千弟子甚至七十二贤者都包括在内了吗？要让这些弟子们“无欲则刚”、“好德如好色”都不可能，更何况别人？韩非就曾刻薄尖酸地揶揄孔子，说凭着孔子那么巨大的个人德行，不就只有七十子之徒跟随他么？而下等君主鲁哀公却能让一国人都服从他，孔子本人也不得不向鲁哀公臣服。所以，人是多么容易向权势屈服，而向慕仁义的人是多么少啊。孔子此时的处境，真是令人同情。 但他更让我们尊敬。这就是他的那种“知其不可而为之”的殉道精神。“三军可夺帅也，匹夫不可夺志也”（三军可以更改主帅，匹夫却不能逼他改变志向）。匹夫尚且不能夺志，更何况圣人之志，得天地浩然正气，至大至刚，岂容玷污？天下一团漆黑了，不少原先追求光明的人也练就了猫头鹰的眼睛，从适应黑暗而进于喜欢黑暗，为黑暗辩护，他们把这称为提高了觉悟和认识，并且得道似的沾沾自喜于在黑森林中占据了一棵枝丫，又转过头来嘲笑别人不知变通。而孔子，这位衰弱的老人却在那里一意孤行！我很喜欢“一意孤行”这个词，很喜欢这个词所指称的那种性情与人格。敢于一意孤行的人必有大精神，大人格。 一位楚地的狂生曾经警告过孔子：“往者不可谏，来者犹可追。已而已而，今之从政者殆而！”（你过去糊涂就算了，以后你可改了吧！算了吧算了吧！现在追随政治危险得很啦！）但不能因为政治危险，就置天下苍生于不顾，听任他们受暴政的煎熬，置自己的伦理责任于不顾！“政者，正也”——政治，就是对暴政的矫正！就是正义！所以，孔子庄严宣告：“志士仁人，无求生以害仁，有杀身以成仁。”虽然他也说过“危邦不入，乱邦不居，天下有道则见，无道则隐”之类的话；虽然他也称赞蘧伯玉：“邦有道则仕，邦无道则卷而怀之”，宁武子“邦有道则知，邦无道则愚”，并慨叹“其知可及也，其愚不可及也”（他的聪明别人是比得上，他的糊涂别人就比不上了），大有郑板桥“由糊涂入聪明难，由聪明入糊涂尤难”的意味，但他对自己，却有更高的要求，那就是如史鱼一样，“邦有道，如矢，邦无道，如矢”，永远是如射出的箭一样，正道直行，永不回头。 自魏晋以后，中国的文化传统中，就有了一种极古怪的现象，那就是人格理想与伦理责任的分离。最受人敬仰的人格乃是那些在天下苦难面前卷而怀之、闭目养神的隐君子！他们的伦理关怀哪里去了？他们的道德痛苦哪里去了？作为知识分子，他们的基本人道精神哪里去了？难道我们不应该要求知识分子有起码的价值关怀吗？但我们却偏偏认为他们是涵养最高、道德最纯洁的人！鲁迅禁不住对这些人怒形于色：泰山崩，黄河溢，隐士目无见，耳无闻！这种目不关注人间苦难，耳不听弱者呻吟的人物，不就是饭桶酒囊茶壶甚至权势的尿壶么！现在不少人飘飘然地要“告别鲁迅”，却又腻歪歪地对“茶壶”周作人大为钟情。这种人是难以让人生出敬意的。一个人让人尊敬是有条件的。在孔子那里，在他的学说之中，那种古典的崇高确实让我们这些聪明机灵的后来人愈显扁平而单薄。 三 孔子的哲学核心是“仁”。在《论话》中，“仁”以不同的面目，在不同的背景下出现了无数次。这些闪烁不定的面容并不是因为孔子的“仁”没有“一以贯之”的主旨，而恰恰说明了“仁”内涵的丰富。樊迟问“仁”，孔子答曰“爱人”；颜回问“仁”，孔子答曰“克己”，曾子概括说，“夫子之道，忠恕而已”。朱熹解释说，尽自己的力量去办事叫忠，推己及人叫恕。这样看来，孔子的“仁”，也就是从人我双方立论，相当于我们今天常说的“人类共存意识”吧。 “仁”的内涵里，主要的两方面就是“忠”和“恕”。有了这个“忠”，就会有足够的自我约束；有了这个“恕”，就会有足够的对别人的宽容。这个顶重要了。孟子后来讲“仁”，就不大讲“恕”了，这就一步一步走向专制。孟子就没有孔子可爱。当然，孔子的“仁”，不仅仅是指一个人应当具有的人格境界，而且还应该是一个社会政治应当具有的政治理念。是公理，是正义。因而，在非常时刻应当“杀身以成仁”，而决不能”求生以害仁”。他自己一生，倡导“仁”，实践“仁”，修自身为“仁”，又要改造社会政治为“仁”。修自身成“仁”，他是做到了，改造社会政治为“仁”，他失败了。但他“颠沛必于是，造次必于是”，何曾有—丝—毫的媚俗之态！他正大光明，磊磊落落，他一意孤行，坦坦荡荡。 他亦知道改造社会是不可能的，但他“知其不可而为之”，关键在于做！他肯定已经意识到了他在未来的影响，所以他要用自己的行为树立一个榜样，以自己的生命之汁点亮一盏明灯，使后世一切以各种借口逃避伦理责任的行为无所遁形。——既然他已经在知其不可的情形下做了，而且做得如此艰苦，如此卓绝，如此寂寞，又如此轰轰烈烈，如此失败，又如此辉煌灿烂。因失败而辉煌，我以为这是古典悲剧的基本定律，不失败何以感人心？不辉煌何以长人志？但这失败必须是大失败，必须是必然的失败，是自由在逻辑面前的失败，是个人意志在历史规律面前的失败，而且必须是主人公已经预知的失败。他已经预先知道结局了，但高傲的心性使他无法改变自己人生的方向。在古典悲剧中，生命的投入是人格成就的最后一道工序，如干将莫邪之铸剑，最后必以自身的血肉之躯投入熔炉，用自己的血光赋予宝剑以阳刚杀气。 孔子的“得其真传”的弟子曾参，有一段话：“士不可不弘毅，任重而道远。仁以为己任，不亦重乎？死而后已，不亦远乎？”我无法不为这句话而感动，虽然我已经被那些最靠近话筒，因而最有发言权的某些人的这个“后”那个“后后”，还有什么“解构”，解构得没有什么完整的心智了。曾子的这段话包含着两个推论，所以我们可以把它译成问答句：士为什么要弘大坚定？因为他们任重道远。为什么说他们任重？因为他们是把仁当作自己的人生责任的；又为什么道远？因为他们除非死掉，不然就不能卸下这副担子。这就是自讨苦吃式的崇高。我上文说，让人尊敬是有条件的，不能因为你读了不少书，甚至读了不少洋文书，知道各种主义，就能受人尊敬。你还得有所承担。孔子及其弟子们，在那么—个时代，就已经意识到担当道义是知识分子的最高使命甚至无法摆脱的宿命了，就已经知道执行文化批判而不是文化媚俗文化献媚是知识分子的基本职责了，他们怎能不伟大，又怎能不为这伟大而颠沛，造次！ 那些冷了心肠的隐士讽刺孔子，还有些愤世嫉俗的道理。而下面这位“丈人”对孔子的批评就莫名其妙了： 子路从而后，遇丈人。以杖荷蓧。 子路问曰：“子见夫子乎？” 丈人曰：“四体不勤，五谷不分，孰为夫子？”植其杖而芸（耘）。 子路拱而立。 止子路宿。杀鸡为黍而食之。见其二子焉。 …… 子路曰：“不仕无义。……欲洁其身而乱大伦！君子之仕也，行其义也。道之不行，已知之矣。” 这一段中的“四体不勤，五谷不分”，后来成为不少人批评孔子的口实。是的，在一个小农意识很浓厚的国家里，这种情形较易发生，并且较易引来阵阵喝彩。甚至人们还能这样想：你孔子四肢不勤劳，五谷分不清，你连一个农夫都比不上。这种说法会引来更多的喝彩，因为很多人一下子从孔子的缺点中找回了自己的自信心。——但我要说，这种批评的荒谬性太明显了。在春秋后期，我们缺少一位农夫吗？减少一位卓越的思想家，增添一名普通的农夫，我们就是这样算账的吗？我们这个民族的历史与文化会因此更加辉煌灿烂吗？我们这个“文明古国”就会更加文明吗？ 另外，我们民族在那个时代连养活一位像孔子这样的大思想家的经济能力都没有，还必须让他自己去耕种自存吗？或者，我们这个民族连给孔子这样的大思想家提供必要的生活条件都不愿意，而必欲使之和农夫一样才心满意足吗？这些问法可以换成现代式的：我们必须分给陈景润一块自留地，由他自己播种，收获，磨粉，蒸馒头，吃下去，然后再去桌子边求证他的哥德巴赫猜想吗？如果不是这样，他即使证出了1+2，由于他不会蒸馒头，于是我们就可以鄙夷他连一个馒头师傅都不如吗？我的这种问法不是没有道理的，二十多年前，我们就这么干过。否则，要办那么多的“干校”干什么? 樊迟问稼问为圃，孔子怒不可遏，甚至在背后骂他是“小人”。又有不少人说这是孔子轻视体力劳动，现在的某些大学教材上就有这种说法。这种批评也太师心自用了。问如何种菜种小麦，需要问孔子吗？孔子的回答：“我不如老农民，我不如老菜农”，已经说得很明白了：你樊迟要学这些，你何必到我这儿来？你去问老农即是。要学腌泡菜蒸馒头切土豆丝，需要去中科院生问博士生导师吗？ 以上的问题还在于，培养一个老农易，至少在孔子那时，还不提倡科学种田时是这样。那时候就没有什么农业技术学校，但遍地是老农在种麦子种大头菜。培养一个知识分子就难了。孔子的时代，传播知识，提高人口素质，似乎比自己去亲自参加劳动更迫切。所以，孔子的这些言行，与轻视体力劳动如何扯得上。这一位“植其杖而芸（耘）”的“丈人”，耘来耘去，也就那一亩二分地，所养活的，不过就是他自己及家人。这又如何能与孔子比呢？他自己的言行能够传留后世，还是沾的孔子的光呢。孔子所耘的是什么荒？是文化之荒！所培养的是什么苗？是文化之苗！柳诒徵《中国文化史》云： 孔子者中国文化之中心也，无孔子则无中国文化。自孔子以前数千年之文化赖孔子而传，自孔子以后数千年之文化赖孔子而开。 孔子所给予我们这个民族的，甚至全世界的，又如何能估量？又如何是小农思想满脑子的人所能理喻、所能批评的？ 所以，上述的那些对孔子的批评，让我联想到今天一些人对鲁迅的批评，以及他们莫名其妙的对于鲁迅的优胜感。鲁迅的某些缺点确实让某些人孱弱的心性得到一种自信的证明。但他们对于鲁迅的批评，恰像旧时代老爷家中感觉很幸福从而很温柔的小妾，对现代独身女性的批评；又好比是青铜时代贵族几案上的玲珑的酒器或床底下温静的溺器，对铁器时代绿林好汉手中青锋长剑的批评。 我对古代的隐士评价不高。相应的，我对现代的周作人及其鼓吹者们也心存怀疑。我认为，一个人，比如这几年“告别鲁迅”而麋集到周作人羽翼下的一些人，他在这个社会里占有了比别人好—些的地位、财富、机会，使他能上大学读书，能明理，他理应对这个社会有所回报，有所补偿。按我们现在的大学招生数和报考数，有一个上大学的，就必至少有一个或更多上不了大学的。这种回报与补偿就是把自己的聪明才智贡献出来，使这个社会有所进步，人们的幸福能有所增进。也就是说，他的知识应该有益于社会，而不是把这种知识当成自己的文雅的小妾。我在一篇文章里，就认为周作人是把他的学识当小妾，只让她陪自己喝茶谈玄。而如果把知识当作取媚权力的手段，就更等而下之了。另一方面，出于某种自私的目的，掩盖自己的智慧，就是对社会的背叛；隐匿自己的发现，就是对社会的犯罪——当然，这种行为在专制社会里可能是迫不得已的。 四 因为怕孔子到楚国后说陈蔡诸侯的不是，陈蔡的小政客们便把孔子围在郊野。小政客毕竟是小政客，他们把孔子围住后，却拿不准到底要怎么样。面对一位文化巨人，他们的内心毕竟很虚怯。他们很憎恨孔子文化人格的光芒，所以，他们把他包围起来，试图挡住这光芒的四射，但他们又绝没有胆量去迫近光源——于是在陈蔡之野，便有了这样一种既滑稽又尴尬的场面：里面的人出不去，外面的人也不进来。彼此都迫切希望有一个第三者出现，来给大家一个台阶下。在第三者楚昭王派兵迎接孔子之前，孔子和他的弟子们在饥肠辘辘与满脸菜色中进行一番有趣的对话，其主题是讨论道与势的关系。 孔子的知音司马迁在记叙这一段历险时，把孔子的人格精神写得淋漓尽致。据司马迁记载，此时的孔子，有意识地利用这次挫折，来考验、考查弟子们对道的忠诚贞定。孔子先叫来子路，问他：“难道我的主张不对吗？我为什么落得这个下场？”忠厚的子路疑疑惑惑地说：“是不是我们还不仁呢？人们不信任我们？是不是我们还不智呢？人们不放心我们？”悲愤的孔子说：“仲由啊，你听着，假使仁义的人一定受信任，怎么会有饿死首阳山的伯夷和叔齐？假使智慧的人一定行得通，怎么会有被纣王挖腹剖心的王子比干？”子贡进来了，孔子用同样的问题问他，子贡说：“老师，你的道太伟大了，所以这狭隘的世界容不了你。你能不能稍微降格以求呢？”孔子说：“赐啊，好的农夫只问耕耘不问收获，好的工匠只追求技巧而不追求苟顺人意，作为君子，修习大道，是不能讲苟合的啊。” 最后是颜回入见，这位比孔子小三十岁的小学生，聪慧谦让，悟性高，不爱显山露水，能过苦日子，深受孔子的喜爱。他的回答，令先生愁肠顿开：“夫子之道至大，故天下莫能容。虽然，夫子推而行之，不容何病？不容然后见君子！夫道之不修也，是吾丑也，夫道既已修而不用，是有国者之丑也。不容何病！不容然后见君子！”孔子欣然而笑，说：“说得好啊，颜家小于！将来你发财时，我给你赶车吧！ 五 孔子晚年，倦于奔波。鲁迅曾在一篇颇似游戏的文字中推测孔子晚年有严重的胃病和胃下垂。一个医生对一个常年在坎坷的道路上颠簸的人很容易下这个判断。总之，孔子老了，病了，不能再奔波了，况且奔波又有什么收获呢？于是，在离开鲁国十四年之后，靠弟子冉求的疏通，又回到了鲁国故乡。此时孔子已是知命了，不说心如死灰，但心如止水却是必然的。鲁君无意用他，他也懒洋洋的不求用了。回到自己阔别多年的老屋，撩去门楣窗棂上的蛛网，拂去案几上的积尘，他坐下来，心境一片茫然。这时，外面的世界更混乱了，乱臣贼子们活得更神气了，但也令他更无奈了。宝剑折断，铩羽而归，他还能做些什么呢？他打开了竹简。这是一个有世界意义的举动。孔子现实政治活动的失败使中国少了一位晏婴、子产或管仲式的人物，但却使世界从此有了一个伟大文化的源头。这活力绵绵不绝的文化之源，浩浩荡荡，渐远渐无穷，使整个东方世界都浸润其中。是的，当孔子的现实政治活动失败后，他埋头于古代典籍的整理；在被自己的时代拒绝之后，他成功地通过文化符号进入了未来的世纪；在被几个诸侯国的诸侯和政客拒绝后，他的影响力却遍及全世界，名声响彻天下。 孔子本来是想通过立功来传名后世的，像他终生倾慕的周公一样。但这一点已经毫无疑问地没有可能了。“君子疾没世而名不称焉！”（君子很惧怕死后没有名声留传啊）于是他便想通过立言来不朽。我们知道，在这一点上，他成功了，而且在立言中他还立了德。“三不朽”他完成了两项。据司马迁的记载，“六经”都是经他手订的。也正因了他的手，这些积满时光尘土的古典才成为“经”，而为后世不断地钻研，又在这不断的琢磨中发出历久弥新的光芒。 那本“饥者歌其食，劳者歌其事”的三百零五首“诗”，记录着那么遥远时代的真切的痛苦，更是因为他的手订，由愚夫愚妇引车卖浆者流的歌吟一跃而成为六经之首，“子曰”与“诗云”并称。实际上，就是因为“孔子曰”，孔子的赞誉，《诗》中愚夫愚妇们的“云”，才成为中国古代文学的圣经。他对这三百首《诗》说过些什么呢？他和子夏讨论过“巧笑倩兮，美目盼兮”；他和子贡讨论过“如切如磋，如琢如磨”；他说：“不学《诗》，无以言”，他还说，“《诗》可以怨”！他把《诗》当作教材，传授给弟子们，正是因为这种口耳相传式的传授，才使得《诗经》能避开暴君赢政的焚书之火和莽汉项羽的复仇之火，斯文不灭。他还庄重地为《诗》回护，说：“《诗》三百，一言以蔽之，曰思无邪！”这就使后世很多对《诗经》暗怀不满的人，比如朱熹，只能做些鬼鬼祟祟的歪曲的勾当。孔子是文学的守护神呢。原来他不仅是一位庄严谨恪的人，还是一位情感丰富的人！因此，他不仅要求人类要有道德，就是对人类的情感——包括对人性的弱点，他也有那么多善意的回护与爱惜！他要人们好德，但也不反对人们好色，“国风好色而不淫”，不过分，就行了嘛。 说到这里，插入一件小事。跟孔子学语言修辞的子夏，有一个毛病，那就是吝啬。知生莫如师，孔子深知子夏这一毛病，于是就刻意为他遮掩。一次孔子出门，碰上下雨，而子夏有伞，孔子却不去借，甘冒雨淋之苦。有人问孔子为何不问子夏借伞，孔子说，子夏有这个小毛病，若向他借伞，借，他心里不痛快；不借，不是把他的缺点暴露给众人了吗？如果能掩盖住别人的缺点，我淋点雨算什么呢？ 文学是人学，文学就是人性的表现。不能对人性的优点有极崇高的敬意，对人性的弱点有极宽厚的怜悯，是不可能理解文学的。我们再举一个相反的例子，朱熹。对这个人我老实说没有一丝一毫的好感。且不说他的那一套“存天理，灭人欲”的理论是多么仇视人性，我只想举他对《诗经》中一首诗的评论来说说。《诗经·卫风》中有一首诗叫《氓》，是一位被遗弃女子的哀歌。这个女子坚持要明媒正娶地嫁给她所爱的男人（这就是“乐而不淫”），做了妻子后她辛勤贤慧，但最后还是被抛弃了，即便这样，她也依然那么理智，节制，哀而不伤，怨而不怒。老实说，我读到这首诗的最后“亦已焉哉”（唉，算了吧），是颇失望的，我私下里希望她能报复对方一下。我知道这种想法不对，既不合法也不合理，但我觉得这才合情。美狄亚就实施了惨烈的报复么。孔子也提倡“以直报怨”么。但朱熹对这个不幸女子的评论，使我觉得他很卑鄙，很没有人性。他说：“此淫妇为人所弃，自叙其事以道其悔恨之意也”（这个淫荡的女子被别人始乱终弃了，自己追叙自己的所作所为，倾吐出悔恨之意）”读到这样的议论如果不觉得朱熹卑鄙下流，就不是正派人。因为朱熹凭空污人清白（在这首诗中一点也看不出这个女子有什么淫荡的地方）；他对一位多情的恋人（婚前）一个贤淑的妻子（婚后）毫无首肯之意，理学家之不懂欣赏女人，于此可见一斑，而理学家之仇视—切鲜活的女性，对人间痛苦毫无同情心也在此原形毕露。这些只知“以理杀人”的后儒们，他们何曾及得上孔子的一分—毫啊。 由于孔子丰富的文学情怀，他把人格修养的最高境界理解为一种自由的艺术境界，而不是严谨的道德境界。在这一点上他又和后世的道德家们大相径庭。我们也一直没注意这一点。孔子在道德的熔炉里冶炼自己，而最后出炉的结果却大出我们意料：他熔炼出的不是森森剑戟，而是更加的幽默生动。你看他说的：“志于道，据于德，依于仁，游于艺”，又说“兴于诗，立于礼，成于乐”。他最后的形象是“成于乐”而“游于艺”！他一下子变得亲近了，不再壁垒森严了。你看他：“闻《韶》，三月不知肉味”，这时他能是一位皱着眉头板着面孔不苟言笑的人么？他是一位手之舞之、足之蹈之的老顽童哩！他极爱音乐，即便在围困之中，也是每日“弦歌不衰”，只要附近没死丧，他每日都大声地唱歌。司马迁的《孔子世家》中记载了孔子与音乐的一件轶事：他在师襄子那里学了一首曲子，一连弹了十数天还不换其他曲子，直到他从这首曲子里“听”出了那个肤色黝黑、身材顾长、眼神忧郁的文王的形象！“作《易》者，其有忧患乎！”文王可不就是一个满腹忧患的古之高人么？孔子的精神通过飞翔的音符而与之相通了！ 有这样的音乐修养与音乐情怀，“三百五篇孔子皆弦歌之。”这是多么宏伟壮丽的大乐章啊。我们今天已经不能再聆听孔子弦歌过的音乐了，“此曲只应天上有，人间哪得几回闻”。但那古老而简朴的文字仍留传下来，那远古时代活生生个体的欢乐与哀伤，希望与失望，怨愤与爱慕……仍然如此鲜活，是的，那远古的神经末梢仍在向我们传来敏锐而清晰的刺痛…… 《诗经》中有一百六十首都是采自民间，包括黄河流域，汉水、汝水流域。我们可以由此贴近这片辽阔土地上的风、水、丘陇与庄稼，贴近这片土地上的阳光、情感、悲欢与离合。班固与何休都提到当时有专门采诗的行人，摇着木铎顺着乡间小道去采诗。我有时痴想，没有比这更好的职业了。如果我在那时，我一定做个采诗者。不采诗还干什么呢？还有什么比这更快乐的工作呢？ ——冬日的蛰居过去了，春光融融，芳草萋萋。我立于道口，望农夫荷锄远来，而他的歌声亦悠扬而感伤…… 我在村落间徘徊，看顽童嬉闹；我亦走上田头，看麦苗油油，静观灌溉之水汩汩流淌。 多忧伤的故事啊。有一个人因想念远方的恋人而去了，从此杳无音信；一位多情的女子被人遗弃了，哭泣着回到娘家；而服役归来的人，拄杖立于田头，他的家园已成一片废墟，丘垄上葬着他的亲人…… 在还处飘来的歌声面前，我老泪纵横。 我是被《诗经》感动了。最幸福的时候就是被感动的时候。谁能说当孔子对这三百零五首诗逐一弦歌时，他不也是感怀万端呢？“四方有羡，我独居忧。民莫不逸，我独不敢休”（《十月之交》），这样的句子，如此贴切他忧患人生的情怀，如此真切地反映他奔波为天下的辛苦，他能不感慨吗？而那一位走过周朝旧都，面对废墟上的野黍而“中心摇摇”悲不自禁的诗人，不更是他的同调吗？面对伟大朝代的文化废墟，他不更是忧患满怀吗？“知我者谓我心忧，不知我者谓我何求。悠悠苍天，此何人哉？”（《黍离》），是啊，孔子，他是—位什么样的人呢？ 六 《尚书》之流传具有传奇色彩，我们今天读到的本子乃是东晋豫章内史梅赜所献的《孔传古文尚书》。这个“孔”字乃是孔安国，司马迁的老师。他也是孔子的十一代孙。而这个孔安国所传的《尚书》，乃是汉鲁共王从孔子故居的墙壁中得到的。光这—点，就可知孔子与《尚书》之关系了。 如果说《诗经》是中国历史上最早的诗歌总集，那么，作为“上古之书”的《尚书》乃是中国历史上最早的散文集。同时，如果说《诗经》是民间的（风、雅都可以算作是民间的），那么《尚书》就是朝廷的。《诗》是民间的情感，《书》是朝廷的意志。《诗》是抒情的，《书》是理智的。《诗》是散漫的，《书》是约束的。 《诗》唱个性感受，《书》倡国家价值。《诗》是艺术，《书》是道德。《诗》是大地，是天空，是大地上的野花，是天空中的飞鸟；《书》是庙宇，是碑石，是庙宇中的祖训．是碑石中的缄言。《诗》是音乐《书》是建筑，谢林说，音乐是流动的建筑，建筑是凝固的音乐。没错，《诗》是意志的流动，《书》是情感的凝固……我们民族最古老最本质的东西，都积淀在《诗》、《书》之中了。它们都与孔子有关。 《易》据说最初乃是“大墙文化”，乃是周文王为商纣所拘押，在狱中无聊，又担心自己就此玩完，“没世而名不称”，推演而成。但文王的《周易》，纯属卜筮之书，对一般读者不啻天书。“孔子晚而喜易，序《彖》，《系》，《象》，《说卦》，《文言》，谈《易》，韦编三绝”（《史记》）。他的研究成果，经口授学生，学生整理成册，始有“十翼”，翼者，辅翼，辅助理解也。应该说，孔子是把卜筮之书改造成了哲学之书，综合天地人，探究天道人道，从“究天人之际，通古今之变”而“成一家之言”。所以，就《易》在这个意义上影响中国传统文化，我们又是在这个意义上理解《易》，毋宁说，《易》乃是孔子的著作了。孔子晚年，一边穷年兀兀以研《易》，一边却又担心时不我与，叹息道：“假我数年，若是，我于《易》则彬彬矣”。天不灭斯文，孔子而后，《易》果然彬彬而盛。“易者，易也，不易也。”这截然不同却又相辅相承的训释，恰好表明了天道人道的反复，变与不变的统一。《诗经》说：“鸢飞戾天，鱼跃于渊”（《早鹿》）《易》言：“天行健，君子以自强不息”“天地之大德曰生”，这是一个生机盎然蓬勃如斯的宇宙，这也是一个满腹忧患、自强不息的人生！ 《礼》《乐》亦是孔子的教化工具。孔子对枯燥乏味的周代官制、礼仪的记录《仪礼》进行研究，指出其内涵、作用与本质。这一切都不过是“托古改制”而已。孔子说：“夫礼，先王以承天之道，以治人之情”，仍然是天道与人道。伟大的周公盛世初建，创建周礼，规范一个大帝国的行为与思想，开创了灿烂的周文化；伟大的孔子身当乱世，礼崩乐坏，他所做的，乃是在文化废墟上的考古、整理与保存。帝国的庞大躯体，已然僵仆，他已不能使之复生，他能做的乃是使帝国的精神与文化长存人间。他所唱的，乃是伟大文化的挽歌，世运不可回，人事有兴替，挽歌者，挽留之歌也！ 在《礼运》的记载中，孔子根据可考历史的发展情况，预见着未来的道路。他认为，人类社会之发展经历着三个阶段：据乱世，升平世和太平世。据乱世就是他所处的时代了，而他为后人设想的“太平世”是什么样子呢？ 天下为公，选贤与能，讲信修睦。故人不独亲其亲，不独子其子。使老有所终，壮有所用，幼有所长，鳏寡、孤独、废疾者皆有所养；男有分，女有归。 谁说孔子只是向后看呢？他也展望未来啊！只是这位衰弱的老人自知自己是等不到那黄河清的一天了！ 《乐记》也还是在谈哲学，谈政治： (音乐)清明象天，广大象地。终始象四时，周还象风雨……乐行而伦清，耳目聪明，血气和平，移风易俗，天下皆宁。 好像不能一味指责孔子把文艺都搞成道德教化，都搞成政治蓝图。你看他所处的是什么时代？一个“仁以为己任”的思想家，他不关心天下不宁，还关心什么？他不祈望天下皆宁并为之奋斗，他还祈望什么？让他回到家里，关上门，温壶春酒，泡杯苦茶，弹琴逍遥吗？ 最后就要谈到《春秋》了。这是使一个时代都因此而得名的著作。 晚年的孔子顾视日影，喟然叹息：“不行啊不行啊，君子很惧怕死后没有留下名声啊。我的道行不通了，我凭什么在后世传名呢？”他搬来鲁国历代太史记录的史料，开始著作历史。以前在做官审案时，他很谦虚地与其他陪审官商定判辞，而此时他却突然“专断”起来，“笔则笔，削则削，子夏之徒不能赞一辞”。连插嘴提建议的机会都不给！这本以“微言大义”著称的历史著作，孔子是有意把它写成政治学著作、伦理学著作的！他在这里要审判的，是整个历史！而且他所进行的不止是历史批判，更重要的倒是他的政治批判与道德批判！他希望他的这本书能成为人的道德准则，更希望它能建立一种合理有序的政治运行法则。这就是这本书使“乱臣贼子惧”的原因。 孔子在给弟子们讲授《春秋》时感慨地说：“后世知丘者以《春秋》，而罪丘者亦以《春秋》。”丘吉尔说，影响历史的最好方法就是写历史，“春秋”以后的历史，不都受着《春秋》的影响么？孔子一直在参与着历史进程啊。只是他本人没有到场罢了，对后来的历史而言，他只是一个缺席者。 七 我认为，孔子最伟大的贡献乃是他的“私学”。最初开办私学的人未必就是孔子，但把私学办成传授文化、培养人格、培养知识阶层的场所，则毫无疑问是孔子。正是在他的私学里，才出现了中国历史上第一批真正意义上的知识分子。——这些人既不是世袭贵族，也不是后来的科举士大夫，他们不是官僚机构中的成员。他们是那时代冒出来的“新人”，名称叫“士”，后来孟子宣称“大德者不官不王”，魏文侯之师田子方宣称“行不合，言不用，则去之楚越，如脱屦然。”可以见出这些人的傲慢与偏见——对诸侯的傲慢是那么显眼，对学问的偏见又是那么深固。 谁培养了这一批特行独立的知识分子？是孔子。上引的孟子与田子方都是孔门后学。所以，孔子的私学促成了文化的独立，文化由权势者股掌之间的小妾，蜕变为特行独立的汉子，“大丈夫”（孟子语）。这种文化不以取悦权势换得宠爱为目的，而以社会批判为天职。文化而以社会批判为天职，这就是文化的本质属性了。谁赋予了文化这种本质属性？是孔子。对于世俗政权而言，权力体制自身的制衡是必要的，重要的；而文化批判所产生的文化制衡尤其重要。中国后来漫长的封建社会里，之所以没能在权力体制之中产生制衡，这与封建政权把文化纳入权力体制，取消其独立性，否定其文化批判的必要性合理性有极大的关系。也就是说，当我们否定了文化批判之后，权力内部的制衡也就相应的被消解。官僚系统之内的权力制衡是为了政府及其各职权部门行为的合法有序及防止权力滥用；而文化批判所产生的制衡则是保证整个社会的行为合乎人性，合乎理性。孔子以后的百家私说，不都是在这个意义上讨论世俗政权的合理性么？ 八 孔子曾描述过自己的形象，“学而不厌，诲人不倦，不知老之将至”。在他的身边，一批勤奋好学安贫乐道的年轻人在成长着。看看这些蓬勃的春花，他真的就想不到自己已是秋天的一枚黄叶？这句话我看应该这么理解，正是因为知道自己老冉冉而将逝，才抱定“朝闻道，夕死可矣”的信念与日逐走，学而不厌。同时又把自己的心得传授给弟子们，诲人不倦他已是明白地知道，自己来日无多了！鲁迅晚年自知不久于人世，便一再告诫自己要“赶紧做”。孔子也是在与自己的生命赛跑，赶紧做呵。“天下无道久矣，而莫能宗予，”他已无力回天了，“道不行，乘桴浮于海”，他要离开我们去那道山了！ 颜渊死了，他的精神受到沉重的打击。“天丧予！天丧予！（天要灭我，天要灭我啊！）安贫而乐道的颜回死于贫困，死后连棺材也没有。孔子为之深深恸哭。“我不为他哭还为谁哭呢？”他越来越老了，世道也越来越混乱了，不久，有消息传来，仲由死在卫国了，正中了孔子以前的忧心忡忡的预言：“不得其死”，被人剁为肉酱。仲由是众弟子中唯一敢于冲撞他的学生，小他九岁，总是雄纠纠的样子。孔子知道这个有些粗野的弟子其实最为忠厚义气，他还曾设想，当他远遁人世时，让仲由跟随着他。可现在又死在他前面了。他已经多次承受着这白发人送黑发人的惨痛了。他的心境更为凄凉了。做生意的端木赐（子贡）来看他，给老师一些周济，他正拄着拐杖在门外看西山的落日，那落日如血的余辉最后一次染红大地与天空。孤独的孔子问端木赐：“赐啊，你为什么到现在才来看我呢？”接着便低吟了一首绝命歌，那简单的字句和厚重的内涵使人想到宇宙中最简单而又最本质的哲理，人间的生死竟也牵动着宇宙的毁成： 太山坏乎！ 梁柱摧乎! 哲人萎乎！ 圣人洒泪而尽了。带着他的雄心去了。如蜡烛最后一次耀眼的一跳，熄灭了。天地之间，一片黑暗。但，也就是从那一刻起，他不再仅属于一个时代，而属于千秋万代！ 痴人有多种，或因情深而痴，或因智浅而痴，孔子属于前者，而他的很多徒子徒孙，如宋明之际的理学家们，就属于后者了，新儒家们当更是等而下之。因情而痴的孔子常常沉湎在过去的怀想之中，“郁郁乎文哉!吾从周：”“逝者如斯夫!”这时，他就是一位抒情者，抒得很动情，很感人。在一个抽象的、冷酷的、沉闷的老子之后，出现一个一往情深、感怀万端的孔子，使我们再次感受到一种温软，一种熨帖，这实在是让我们大大舒了一口气，历史终于在绝望中咧口而哭出了声，一些可怕的心理能量在孔子的歌哭、幽默、感喟中被释放了。孔子使一些无序的暴力变成了有目的、有方向的努力与企望，他使天下英雄人于他的彀中，带着这些社会精英致力于建构新的理想。当混乱的历史有了理想与方向时，混乱就不再是一无是处，相反，倒往注显示出一种蓬蓬勃勃、生机无穷的魅力。 春秋战国时代是一个刀光剑影的时代，一个流血漂橹的时代，一个杀人盈城、杀人盈野的时代，但它不也是一个充满理想、充满激情，充满公理仁德的时代吗?谁开辟了这样的时代?是孔子！非常具有象征意义的是，当孔子子和弟子们周游列国的时候，他往往自己驾车一一他确实是在驾着这个时代的马车。弟子们在车上或呼呼大睡或哈欠连天．一脸凄迷与怀疑。只有他永远目光炯炯，自信目标就在前方。 有一次。在一条汤汤而流的小河边。他们又找不到渡口了。远处的水田中有两人在耕作，子路便上前去打问。其中的一个细长个子却不回答子路的询问，而是反问子路： “那个执缰绳的人是谁？” 子路恭敬地回答：“是孔丘。” “是鲁国的那个孔丘吗?”——可见孔子的知名度颇高。 子路答：“是。”这个细高个冷冷地就来了一句：“既然是鲁国的那个孔丘，他应该知道渡口在哪里嘛。” 没奈何，已经由绿林好汉改邪归正到孔子门下的子路，只能捺住火气，转过身去问另一位。这一位魁梧雄桀，是个大块头。大块头也反问子路：“你是谁?” 子路仍然是恭敬地回答：“我是仲由。” “你是孔丘的门徒吗?” “是。” 现在又轮到大块头来教训子路了：“天下混乱，举世皆然。谁能改变这种局面?我看你身体强壮，是个好庄稼汉。与其跟随孔子这样的避人之士东奔西走，鼓唇摇舌，倒不如跟随我们这些避世之士，躬耕垄亩的好!” 这里我先解释两个词。什么叫“避人”呢?避人就是择人，就是避开那些昏庸无道的诸侯，而去寻找志同道合的有为之君，一同来重整乾坤。良禽择木而栖，贤才择主而事嘛，不择主，只要给富贵就帮他卖力，那是苏秦张仪的作为。孔子一心要的是救世，而不是个人富贵，所以他栖 惶惶的马车在纵横阡陌间奔走扬尘，就是要避开身后的昏君而去寻找前面的明君。什么是“避世”?在“避人”的基础上再跨一步，彻底冷了心，闭了眼，认定天下不可能有什么诸侯还能与他一起改变这世界，于是彻底绝望，从而彻底不抱希望，回到田园中去，回到自己的内心中去，告别都市、政治与熙熙攘攘的外部世界，就叫避世。 再回头说子路被这两人教训得一楞一楞的，又要注意自己此时的身份，不能发作，只好垂头丧气地回来向孔子汇报。孔子听完。不尽的迷悯。谁说这两位隐士说得不对呢?这不也是孔子自己内心中常有的感触吗?但他历尽艰辛，学而不厌，“十年磨一剑，霜刃未曾试”，难道就此卷而怀之吗?他有教无类，诲人不倦。门徒三千，贤者七十二，就是为了培养一批隐士，或者懂文化的农夫吗?于是他感慨万端：“人总不能与乌兽一起生活在山林之中啊，我不和芸芸众生生活在一起，与他们共享欢乐共担不幸，我又能和淮生活在一起呢?他们说天下无道，但不正因为天下混乱无道，才需要我们去承担责任吗?假如天下有道，还需要我们吗?” 《论语》中的这一段，很传神，两干多年了，那条汤汤小河边发生的这场争论就好像发生在昨天似的。这几个人好像还在我们身边。我尤其为孔子感动。惜惶而寂寞，迷悯而执拗。“志于道”的人越来越少了，不少人顺应潮流，从而成了新贵，或成为新贵的红人，其中甚至有他的门徒，比如那个顶善于察言观色的弟子冉求。又有不少人冷了心，折断宝剑为锄犁，平戎策换得种树书，如长沮，桀溺；其中也有他的弟子，如樊迟。樊迟向他稼、问为圃，大概也是准备避世了吧。望望眼前。路漫漫其修远今，看看身后，追随者渐渐寥落。”道不行，乘俘浮于海，从我者，其由与!”(道行不通了，我只能乘小船漂荡到大海中去了。到那时还能跟随我的、可能只有一个仲由了吧!)这位可敬可叹的老人，想凭自己个人的德行与魅力来聚集一批年轻人，让他们传道义之火，文化之火；拯民于水火，匡世于既颠，但年轻人不容易经受得了各种诱惑，“吾未见好德如好色者’’(我从未见过一个喜爱德行比得上喜爱美色的人)“吾未见刚者”(我未见过刚强的人)“吾未见好仁者，恶不仁者”(我未见过喜好仁厌恶不仁的人)“末闻好学者’’(没听说过好学的人)。这些话不也把他的三千弟子甚至七十二贤者都包括在内了吗?要让这些弟子们“无欲而刚”“好德如好色”都不可能，更何况别人?韩非就曾刻薄尖酸地椰榆孔子，说凭着孔子那么巨大的个人德行，不就只有七十子之徒跟随他么?而下等君主鲁哀公却能让一国人都服从他，孔子本人也不得不向鲁哀公臣服。所以，人是多么容易向权势屈服，而向幕仁义的人是多么少啊。孔子此时的处境，真是令人同情。 但他更让我们尊敬。这就是他的那种“知其不可而为之”的殉道精神。“三军可夺帅也，匹夫不可夺志也”(三军可以更改主帅、匹夫却不能逼他改变志向)。匹夫尚且不能夺志，更何况圣人之志，得天地浩然正气，至大至刚，岂容站污?天下一团混黑了，不少原先追求光明的人也练就了猫头鹰的眼睛，从适应黑暗而进于喜欢黑暗，为黑暗辩护，他们把这称为提高了觉悟和认识，并且得道似的沾沾自喜于在黑森林中占据了一棵枝丫，又转过头来嘲笑别人不知变通。而孔子，这位衰弱的老人却在那里一意孤行!我很喜欢“一意孤行”这个词，很喜欢这个词所指称的那种性情与人格。敢于一意现行的人必有大精神、大人格。一位楚地的狂生曾经警告过孔子：”往者不可谏，来者犹可追。已而已而，今之从政者殆而!”(你过去糊涂就算啦，以后你可改了吧：算了吧算了吧．现在追随政治危险得很啦：)但不能因为政治危险，就置天下苍生于不顾，听任他们受暴政的煎熬，置自己的伦理责任于不顾！“政者，正也”—一政治，就是对暴政的矫正：就是正义！所以孔子庄严宣告：“志士仁人，无求生以害仁，有系身以成仁。”虽然他也说过：“危邦不入，乱邦不居，天下有道则见，无道则隐’’之类的话；虽然他也称赞遽伯玉“邦有道则仕。邦无道则可卷而怀之”，宁武子“邦有道则知，邦无道则愚”、并慨叹“其知可及也，其愚不可及也”(他的聪明别人能比得上，他的糊涂别人就比不上了)，大有郑板桥“由糊涂入聪明难，由聪明人糊涂尤难”的意味，但他对自己，却有更高的要求，那就是如史色一样，“邦有道，如矢，邦无道，如矢”，永远是如射出的箭一样、正道直行，永不回头。 自魏晋以后。中国的文化传统中，就有了一种极古怪的现象，那就是人格理想与伦理责任的分离。最受人敬仰的人格乃是那些在天下苦难面前卷而怀之，闭目养神的隐君子!他们的伦理关怀哪里去了?他们的道德痛苦哪里去了?作为知识分子，他们的基本人道精神哪里去了?难道我们不应该要求知识分子以起码的价值关怀吗?但我们却偏偏认为他们是涵养最高，道德最纯洁的人!鲁迅禁不住对这种人怒形于色：秦山崩，黄河溢，隐士目无见，耳无闻!这种目不关注人间苦难，耳不听弱者呻吟的人物，不就是饭捅酒囊茶壶甚至权势的尿壶么!现在不少人飘飘然地要“告别鲁迅”，却又腻歪歪地对“茶壶”周作人大为钟情。这种人是难以让人生出敬意的。一个人让人尊敬是有条件的。在孔子那里，在他的学说之中，那种古典的崇高确实让我们这些聪明机灵的后来人愈显扁平而单薄。 孔子的哲学核心是“仁”。在《论语》中，“仁”以不同的面目，在不同的背景下出现了无数次。这些闪烁不定的面容并不是因为孔子的“仁’’没有“一以贯之’’的主旨，而恰恰说明了“仁”内涵的丰富。樊迟问“仁”，孔子答曰“爱人”；颜回问“仁”，孔子答曰：“克己”，曾子概括说，“夫子之道，忠恕而已”。朱熹解释说，尽自己的力量去办事叫忠，推己及人叫恕。这样看来，孔子的“仁”，也就是从人我双方立论，相当于我们今天常说的“人类共存意识”吧。“仁”的内涵里，主要的两方面就是“忠”和“恕”。有了这个“忠”，就会有足够的自我约束；有了这个“恕”，就会有足够的对别人的宽容。这个顶重要了。孟子后来讲“仁”，就不大讲“恕”了，这就一步一步走向专制。孟子就没有孔子可爱。当然，孔子的“仁”，不仅仅是指一个人应当具有的人格境界，而且还应该是一个社会政治应当具有的政治理念。是公理，是正义。因而，在非常时刻应当“杀身以成仁”，而决不能“求生以害仁”。他自己一生，倡导“仁”，实践“仁”，修自身为“仁”，又要改造社会政治为“仁”。修自身成“仁”，他是做到了，改造社会政治为“仁”，他失败了。但他“颠沛必于是造次必于是”，何曾有一丝一毫的媚俗之态!他正大光明，磊磊落落，他一意孤行，坦坦荡荡。他亦知道改造社会是不可能的，但他“知其不可而为之”，关键在于做!他肯定已经意识到了他在未来的影响，所以他要用自己的行为树立一个榜样，以自己的生命之汁点亮一盏明灯，使后世一切以各种借口逃避伦理责任的行为无所遁形。——既然他已经在知其不可的情形下做了．而且做得如此艰苦，如此卓绝，如此寂寞，又如此轰轰烈烈，如此失败，又如此辉煌灿烂。因失败而辉煌，我以为这是古典悲剧的基本定律，不失败何以感人心?不辉煌何以长人志?但这失败必须是大失败，必须是必然的失败，是自由在逻辑面前的失败，是个人意志在历史规律面前的失败，而且必须是主人公已经预知的失败。他已经预先知道结局了，但高傲的心性使他无法改变自己人生的方向。在古典悲剧中，生命的投人是人格成就的最后一道工序，如干将莫邪之铸剑，最后必以自身的血肉之躯投入熔炉，用自己的血光赋予宝剑以阳刚杀气。孔子的“得其真传”的弟子曾参，有一段话：“士不可不弘毅，任重而道远。仁以为己任，不亦重乎?死而后巳，不亦远乎?”我无法不为这句话而感动，虽然我已经被那些最靠近话筒，因而最有发言权的某些人的这个“后”那个“后”，还有什么“解构”，解构得没有什么完整的心智了。曾子的这段话包含着两个推论，所以我们可以把它译成问答句：士为什么要弘大坚定?因为他们任重道远。为什么说他们任重?因为他们是把仁当作自己的人生责任的；又为什么道远?因为他们除非死掉，不然就不能卸下这副担子。这就是自讨苦吃式的崇高。我上文说，让人尊敬是有条件的，不能因为你读 了不少书，甚至读了不少洋文书，知道各种主义，就能受人尊敬。你还得有所承担。孔子及其弟子们，在那么一个时代，就已经意识到担当道义是知识分子的最高使命甚至无法摆脱的宿命了，就已经知道执行文化批判而不是文化媚俗文化献媚是知识分子的基本职责了，他们怎能不伟大，又怎能不为这伟大而颠沛，造次! 那些冷了心肠的隐士讽刺孔子，还有些愤世嫉俗的道理。而下面这位“丈人”对孔子的批评就莫名其妙了： 子路路从而后，遇丈人。以杖荷條。 于路问曰：“子见夫子乎?” 丈人曰：“四体不勤，五谷不分，孰为夫子?”植其杖而罢(耘)。 子路拱而立。 止子路宿。杀鸡为泰而食之。见其二于焉。 子路曰：“不仕无义。……欲洁其身而乱大伦!君子之仕也，行其义也。道之不行，已知之矣。” 这一段中的“四体不勤，五谷不分”，后来成为不少人批评孔子的口实。是的，在一个小农意识很浓厚的国家里，这种情形较易发生，并且较易引来阵阵喝彩。甚至人们还能这样想：你孔子子四肢不勤劳，五谷分不清，你连一个农夫都比不上。这种说法会引来更多的喝彩，因为很多人一下子从孔子的缺点中找回了自己的自信心。——但我要说，这种批评的荒谬性太明显了。在春秋后期，我们缺少一位农夫吗?减少一位卓越的思想家，增添一名普通的农夫，我们就是这样算账的吗?我们这个民族的历史与文化会因此更加辉煌灿烂吗?我们这个“文明古国”就会更加文明吗?另外，我们民族在那个时代连养活一位像孔子这样的大思想家的经济能力都没有，还必须让他自己去耕种自存吗?或者，我们这个民族连给孔子这样的大思想家提供必要的生活条件都不愿意，而必欲使之和农夫一样才心满意足吗?这些问法可以换成现代式的：我们必须分给陈景润一块自留地，由他自己播种，收获，磨粉，蒸馒头，吃下去，然后再去桌子边求证他的哥德巴赫猜想吗?如果不是这样，他即使证出了l十2，由于他不会蒸馒头，于是我们就可以鄙夷他连一个馒头师傅都不如吗?我的这种问法不是没有道理的，20多年前．我们就这么干过。否则，要办那么多的“干校”干什么? 樊迟向他问稼问为圃，孔子怒不可遏，甚至在背后骂他是“小人”。又有不少人说这是孔子轻视体力劳动，现在的某些大学教材上就有这种说法。这种批评也太师心自用了。问如何种菜种小麦，需要问孔子吗?孔子的回答是“我不如老农民，我不如老菜农”，已经说得很明白了：你樊迟要学这些，你何必到我这儿来?你去问老农即是。要学腌泡菜蒸馒头切土豆丝，需要去中科院问博士生导师吗? 以上的问题还在于，培养一个老农易，至少在孔子那时，还不提倡科学种田时是这样。那时候就没有什么农业技术学校，但遍地是老农在种麦子种大头菜。培养一个知识分子就难了。孔子的时代，传播知识，提高人口素质，似乎比自己去亲自参加劳动更迫切。所以，孔子的这些言行，与轻视体力劳动如何扯得上。这一位“植其杖而芸(耘)”的“丈人”，耘来耘去，也就那一亩二分地，所养活的，不过就是他自己及家人。这又如何能与孔子相比呢?他自己的言行能够传留后世，还是沾的孔子的光呢。孔子所耕耘的是什么荒?是文化之荒!所培养的是什么苗?是文化之苗!柳绐徵《中国文化史》云：”孔子者中国文化之中心也，无孔子则无中国文化。自孔子以前数千年之文化赖孔于而传，自孔子以后数千年之文化赖孔于而开。” 孔子所给予我们这个民族的，甚至全世界的，又如何能估量?又如何是小农思想满脑子的人所能理喻、所能批评的? 所以，上述的那些对孔子的批评，让我联想到今天一些人对鲁迅的批评，以及他们莫名其妙的对于鲁迅的优胜感。鲁迅的某些缺点确实让某些人民弱的心性得到一种自信的证明。但他们对于鲁迅的批评，恰像旧时代老爷家中感觉很幸福从而很温柔的小妾，对现代独身女性的批评；又好比是青铜时代贵族几案上的玲珑的酒器或床底下温静的溺器。对铁器时代绿林好汉手中青锋长剑的批评。 我对古代的隐士评价不高。相应的，我对现代的周作人及其鼓吹者们也心存怀疑。我认为，一个人，比如这几年“告别鲁迅”而庚集到周作人羽翼下的一些人，他在这个社会里占有了比别人好一些的地位、财富、机会，使他能上大学读书，能明理，他理应对这个社会有所回报，有所补偿。按我们现在的大学招生数和报考数，有一个上大学的，就必有一个或更多上不了大学的。这种回报与补偿就是把自己的聪明才智贡献出来，使这个社会有所进步，人们的幸福能有所增进。也就是说。他的知识应该有益于社会，而不是把这种知识当成自己的文雅的小妾。我在一篇文章里，就认为周作人是把他的学识当小妾，只让她陪自己喝茶谈玄。而如果把知识当作取媚权力的手段，就更等而下之了。另一方面，出于某种自私的目的．掩盖自己的智慧。就是对社会的背叛：隐匿自己的发现，就是对社会的犯罪——当然．这种行为在专制社会里可能是迫不得已的。 孔子晚年，倦于奔波。鲁迅曾在一篇颇似游戏的文字中推测孔子晚年有严重的胃病和胃下垂。一个医生对一个常年在坎坷的道路上颠簸的人很容易下这个判断。总之，孔子老了，病了。不能再奔波了，况且奔波又有什么收获呢?于是，在离开鲁国十四年之后，靠弟子冉求的疏通，又回到了鲁国故乡。此时孔子已是知命了，不说心如死灰。但心如止水却是必然的。鲁君无意用他。他也懒洋洋的不求用了。回到自己阔别多年的老屋。撩去门楣窗棂上的蛛网，拂去案几上的积尘，他坐下来，心境一片茫然。这时，外面的世界更混乱了。乱臣贼子们活得更神气了。但也令他更无奈了。宝剑折断．铩羽而归，他还能做些什么呢?他打开了竹简。这是一个有世界意义的举动。孔子现实政治活动的失败使中国少了一位晏婴、子产或管仲式的人物，但却使世界从此有了一个伟大文化的源头。这活力绵绵不绝的文化之源，浩浩荡荡，渐远渐无穷，使整个东方世界都浸润其中。是的，当孔子的现实政治活动失败后．他埋头于古代典籍的整理；在被自己的时代拒绝之后，他成功地通过文化符号进入了未来的世纪；在被几个诸侯国的诸侯和政客拒绝后。他的影响力却遍及全世界。名声响彻天下。 孔子本来是想通过立功来传名后世的，像他终生倾慕的周公…样。但这一点已经毫无疑问地没有可能了。“君子疾没世而名不称焉!”(君子很惧怕死后没有名声留传啊)于是他使想通过立言来不朽。我们知道，在这一点上，他成功了，而且在立言中他还立了德。”三不朽”他完成了两项。据司马迁的记载，“六经”都是经他手订的。也正因了他的手，这些积满时光尘土的古典才成为“经”．而为后世不断地钻研．又在这不断的琢磨中发出历久弥新的光芒。那本“饥者歌其食，劳者歌其事”的三百零五首“诗”。记录着那么遥远时代的真切的痛苦。更是因为他的手订．由愚夫愚妇引车卖浆者流的歌吟一跃而成为六经之百。“子曰”与“诗云”并称。实际上，就是因了“孔子曰”．孔子的赞誉。《诗》中愚夫愚妇们的“云”。才成为中国古代文学的圣经。他对这三百首《诗》通过些什么呢?他和子夏讨论过“巧笑倩兮，美目盼兮”：他和子贡讨沦过“如切如磋，如琢如磨”；他说：“不学《诗》，无以言”，他还说。“诗，可以怨”!他把《诗》当作教材。传授结弟子 们，正是因为这种口耳相传式的传授．才使得《诗经》能避开暴君赢政的焚书之火和莽汉项羽的复仇之火．斯文不灭—他还庄重地为《诗》回护。说：《诗》三百，—言以蔽之．曰思无邪！”这就使后世很多对《诗经》暗怀不满的人。比如朱熹．只能做些鬼鬼祟祟的、歪曲的勾当。孔子是文学的守护神呢。原来他不仅是—位庄严谨恪的人。还是一位情感丰富的人!因此，他不仅要求人类要有道德。就是对人类的情感——包括对人性的弱点。他也有那么多善意的回护与爱惜!他要人们好德，但也不反对人们好色，“国风好色而不淫”，不过分，就行了嘛。说到这里。插入一件小事。跟孔子学语言修辞的子夏，有—个毛病．那就是吝啬。知生莫如师。孔子深知子夏这一‘毛病．于是就刻意为他遮掩。一次孔子出门．碰上下雨，而子夏有伞。孔子却不去借，甘冒雨淋之苦。有人间孔子为何不向子夏借伞，孔子说。子夏有这个小毛病，若向他借伞。借，他心里不痛快；不借，不是把他的缺点暴露给众人了吗?如果能掩盖住别人的缺点。我淋点雨算什么呢? 文学是人学，文学就是人性的表现。不能对人性的优点有极祟高的敬意．对人性的弱点有极宽厚的怜悯．是不可能理解文学的。我们再举一个相反的例子，朱熹。对这个人我老实说没有——丝一毫的好感。且不说他的那一套“存天理，灭人欲”的理论是多么仇视人性，我只想举他对《诗经》中一首诗的评论来说说。 《诗经·卫风》中有一首诗叫《氓》，是一位被遗弃女子的哀歌。这个女子坚持要明媒正娶地嫁给她所爱的男人(这就是“乐而不淫”)，做了妻子后她辛勤贤患。但最后还是被抛弃了。即便这样，她也依然那么理智、节制，哀而不伤。怨而不怒。老实说，我读到这首诗的最后“亦已焉哉”(唉，算了吧)．是颇失望的，我私下里希望她能报复对方一下。我知道这种想法不对，既不合法也不合理。但我觉得这才合情。美狄亚就实施了惨烈的报复。孔子也提倡“以直报怨”。但朱熹对这个不幸女子的评论，使我觉得他很卑鄙。很没有人性。他说：“此淫妇为人所弃．自叙其事以道其悔恨之意也。”(这个淫荡的女子被别人始乱终弃了．自己追叙自己的所作所为．倾吐出悔恨之意)读到这样的议论如果不觉得朱烹卑鄙下流．就不是正派人。因为朱熹凭空污人清白(在这首诗中一点也看不出这个女子有什么淫荡的地方)；他对一位多情的恋人(婚前)一个贤淑的妻子(婚后)毫无首肯之意，理学家之不懂欣赏女人．于此可见一斑，而理学家之仇视一切鲜活的女性，对人间痛苦毫无同情心也在此原形毕露。这些只知”以理杀人”的后儒们，他们何曾及得上孔子的一分一毫啊。 由于孔子丰富的文学情怀。他把人格修养的最高境界理解为一种自由的艺术境界，而不是严谨的道德境界。在这一点上他又和后世的道德家们大相径庭。我们也一直没注意这一点。孔子在道德的熔炉里冶炼自己．而最后出炉的结果却大出我们意料：他熔炼出的不是森森剑朝。而是更加的幽默生动。你看他说的：“志于道．据于德，依于仁、游于艺”，又说“兴于诗，立于礼，成于乐”。他最后的形象是”成于乐”而“游于艺”：他一下子变得亲近了．不再壁垒森严了。你看他：“闻《韶》，三月不知肉味”，这时他能是一位皱着眉头板着面孔不苟言笑的人么?他是一位手之舞之，足之蹈之的老顽童哩!他极爱音乐．即便在围困之中，也是每日“弦歌不衰”。只要附近没死丧，他每日都大声地唱歌。司马迁的《孔子世家》中记载了孔子与音乐的一件软事：他在师襄子那里学了一首曲子．一连弹了十数天还不换其他曲子、直到他从这首曲子里“听”出了那个肤色黝黑、身材硕长、眼神忧郁的文王的形象!“作《易》者，其有忧患乎！”文王可不就是一个满腹忧患的古之高人吗?孔子的精神通过飞翔的音符而与之相通了! 有这样的音乐修养与音乐情怀。“三百五篇孔子皆弦歌之”。这是多么宏伟壮丽的大乐章啊。我们今天已经不能再聆听孔子弦歌过的音乐了。“此曲只应天上有．人间哪得几回闻”。但那古老而简朴的文字仍留传下来。那远古时代活生生个体的欢乐与哀伤，希望与失望，怨愤与爱慕……仍然如此鲜活。是的，那远古的神经末梢仍在向我们传来敏锐而清晰的刺痛…… 《诗经》中有一百六十首都是采自民间。包括黄河流域。汉水、汝水流域。我们可以由此贴近这片辽阔土地上的风、水、丘垄与庄稼。贴近这片土地上的阳光、情感、悲欢与离合。班固与何休都提到当时有专门采诗的行人，摇着木铎顺着乡间小道去采诗。我有时痴想，没有比这更好的职业了。如果我在那时，我一定做个采诗者。不采诗还干什么呢?还有什么比这更快乐的工作呢? 冬日的蛰居过去了，春光融融，芳香萋萋。我立于道口，望农夫荷锄远来，而他的歌声亦悠扬而感伤…… 我在村落间徘徊．看顽童嬉闹：我亦走上田头。看麦苗油油，静观灌溉之水汩汩流淌。 那么多忧伤的故事啊。有一个人因想念远方的恋人而去了，从此杳无音信；一位多情的女子被人遗弃了．哭泣着回到娘家；而服役归来的人，拄杖立于田头，他的家园已成一片废墟，丘垄上葬着他的亲人…… 在远处飘来的歌声面前，我老泪纵横。 我是被《诗经》感动了。最幸福的时候就是被感动的时候。谁能说当孔子对这三百零五首诗逐一弦歌时．他不也是感怀万端呢?“四方有羡，我独居忧。民莫不逸，我独不敢休”(《十月之交》)，这样的句子，如此贴切他忧患人生的情怀．如此真切地反映他奔波为天下的辛苦，他能不感慨吗?而那一位走过周朝旧都．面对废墟上的野黍而“中心摇摇”悲不自禁的诗人，不更是他的同调吗?面对伟大朝代的文化废墟，他不更是忧患满怀吗?“知我者谓我心忧，不知我者谓我何求。悠悠苍天，此何人哉?”(《黍离》)，是啊，孔子，他是…位什么样的人呢？","categories":[{"name":"精华转载","slug":"精华转载","permalink":"https://billma.top/categories/%E7%B2%BE%E5%8D%8E%E8%BD%AC%E8%BD%BD/"}],"tags":[]},{"title":"wenyan-compile","slug":"wenyan-compile","date":"2021-10-09T14:54:01.000Z","updated":"2021-10-09T15:16:52.000Z","comments":true,"path":"2021/10/09/wenyan-compile/","link":"","permalink":"https://billma.top/2021/10/09/wenyan-compile/","excerpt":"","text":"1、说在前面中考总分130分。其中古代诗歌默写6分，文言文阅读11分，古诗鉴赏4分。总共21分。 古代文学占17.5% 高考总分150分。文言阅读9分，翻译10分，古诗词鉴赏8分，古诗文默写8分。总共35分。 古代文学占21.3% 可见文言文是十分重要的。 然而。。。你想过用文言文编程吗？？？ 这几年，奇奇怪怪的编程语言逐渐变多，其中一个学霸创建了一个叫文言文的编程语言，风靡github（？ 2、关于wenyan语言的代码与语法2-1、认识wenyan语言咱们都知道，学习一门编程语言是从什么开始的？？ 众OIer orz ：当然是 A+B~ 哦，不对，学习一门语言应该先从理解这个语言的优缺点啊，基础框架啊等等（回想一下你刚开始学 C++ ， Pascal的时候（那时候我C++框架默了5遍都默错））。 但是! wenyan 语言 没有框架！ wenyan就像 Pascal一样，定义好变量后就直接开始打主代码了。不会像 C++一样还有什么万能头啊，什么 STL 啊，没有这么多,简单易懂（还能提升你的文言文阅读水平）。 现在，我们要开始打主代码，我们先从最基本的 Hello world!开始吧~ wenyan打三遍Hello world! 的输出是这样的： 1234吾有一數。曰三。名之曰「甲」。為是「甲」遍。 吾有一言。曰「「問天地好在。」」。書之。云云 编译为Javascript 1234var n = 3;for (var i = 0; i &lt; n; i++) &#123; console.log(&quot;問天地好在。&quot;);&#125; 编译为Python 1234a=3for _rand1 in range(a): _ans1=&quot;問天地好在。&quot; print(_ans1) 编译为Ruby 12345a=3a.times do |_rand1| _ans1=&quot;問天地好在。&quot; p([_ans1].join)end 自译为c/c++ 1234int n = 3;for (int i=0;i&lt;n;++i) &#123; printf(&quot;問天地好在。&quot;);&#125; 运行： 問天地好在。問天地好在。問天地好在。 是不是很生动？很形象？对， wenyan 就是这样！清晰易懂，代码简便…… 现在开始介绍 wenyan的基本语法: 2-2、基本语法2-2-1、定义变量毕竟都说是文言文编程了，肯定不能出现英文字母和数字的嘛~ 1234567吾有一數。曰六。名之曰「甲」。 int a（a就是甲）=6;有數六。名之曰「蒟蒻」。 int juruo=6;吾有一言。曰「「噫吁戲」」。名之曰「乙」。 string b（就是乙）=alas! 2-2-2、ture和falsetrue/false 分别对应 wenyan语言中的陽/陰（繁体的阳/阴），类型就是“爻”（卦符的基本符号）： C++12345吾有一爻。曰陽。名之曰「丙」。 bool c=true;吾有一爻。曰陰。名之曰「丁」。 bool d=false; 2-2-3、if判断作为一个编程语言怎么少了 ifi判断呢？ C++1234若三不大於五者。吾有一言。曰「「OK」」。 if(3&lt;=5) cout&lt;&lt;&quot;OK&quot;;書之。。若非。乃得「「NO」」也 else cout&lt;&lt;&quot;NO&quot;; 2-2-4、运算符加减乘除一应俱全，连逻辑运算符都有! C++123456加一以一。 1+1除七以三。所餘幾何。 7%3減六六六六以六六六。名之曰「甲」。 int a=6666-666; 2-2-5 容器类型容器类型也支持，而且注意一下，首个下标是从一开始的。 C++12345678吾有一列。名之曰「数组」。充「数组」以四。以二。 int shuzu[]=&#123;4,2&#125;;夫「寶劍」之長。 sword.size;夫「蒟蒻」之一。 juruo[1];夫「中国」之「「名」」。 China[&quot;name&quot;] 2-2-6 进价语法一些 wenyan 的进价语法。。。。。。 定义函数wenyan：吾有一術。名之曰「吸星大法」。是術曰。⋯⋯是謂「吸星大法」之術也。 1function f()&#123;...&#125; 定义含参函数wenyan：吾有一術。名之曰「六脈神劍」。欲行是術。必先得六數。曰「甲」。曰「乙」。曰「丙」。曰「丁」。曰「戊」。曰「己」乃行是術曰。⋯⋯是謂「六脈神劍」之術也。 1function f(a,b,c,d,e,f)&#123;...&#125; 定义其他函数wenyan：吾有一術。名之曰「翻倍」。欲行是術。必先得一數。曰「甲」。乃行是術曰。乘「甲」以二。名之曰「乙」。乃得「乙」。是謂「翻倍」之術也。 1function double(a)&#123;var b = a * 2; return b;&#125; wenyan：施「翻倍」於「蒟蒻」。 1double(juruo); wenyan：吾有一數。曰五。書之。 1console.log(5); 2-2-7 循环就是那些 for ， while循环之类的。（注意！ 云云 为 wenyan语言循环的后面必加的东西！） 1234567為是百遍。⋯⋯ 云云。 for(int i=1;i&lt;=100;i++)......恆為是。⋯⋯ 云云。 while(true) ......乃止。 break 目前就这些了…… 3、编写wenyan语言程序运行本人是用洛谷 IDE 进行运行的，当然还有一种网站也可以实现 wenyan语言的编译运行，还可以实现 wenyan转 JavaScript和 Python的功能！（虽然我都不会……）这个网站就是：戳这里 这里面有不少好康和好玩的东西，你也可以在这里面编译。 而且项目文件还有个脚本src/render.js，它可以把程序渲染成古代书籍的样子。 4、关于wenyan语言编程 夫唐、虞之世，結繩而足治，屈指而足算。是時豈料百代之後，計算機械之巧，精於公輸之木鳶，善於武侯之流馬；程式語言之多，繁若《天官》之星宿，奇勝《山經》之走獸。鼠、蟹、鑽、魚，或以速稱。蛇、象、駱、犀，各爭文采。方知鬼之所以夜哭，天之所以雨粟。然以文言編程者 ，似所未有。此非文脈之所以傳，文心之所以保。嗟予小子，遂有斯志。然則數寸之烏絲猶覆於頭，萬卷之素書未破於手；一身長羁于远邦，兩耳久旷于雅言。然夫文章者吾之所宿好，程式者偶承時人之謬譽。故希孟不慚年少，莊生不望無涯。乃作斯言。未能嘔瀝長吉之心血，亦庶幾免於義山之流沫。既成之後，復學干將鑄劍而自飼，越王嚐糞而當先。自謂偶追《十書》之筆意，但恨少八家之淋漓。此子山所謂士衡抚掌而甘心，平子見陋而固宜。然則雖實覆甕之質，尚存斧正之望；雖乏呂相之金，易字之渴蓋同。此亦開源之大義，吾輩之所以勉勵也。一笑。 —-Huang Lingdong（wenyan语言作者） Huang Lingdong，来自卡耐基梅隆大学，如今大四，明年即将毕业。高中则毕业自上海世界外国语中学。 就是这个小伙子，做出了这个风靡 github的 wenyan语言！ 5、写在最后到最后，不知道大家看懂没（反正我是看懂了）。 真的是奇葩多。。。 附录：奇奇怪怪的编程语言EsolangEsoteric programming language，简称 Esolang，它们的设计被用于测试计算机语言设计的极限，作为一个概念的证明，或仅仅是一个玩笑。Esolang 创作者通常并不打算让它成为主流编程语言，他们几乎不会在意语言的可用性，甚至恰恰相反，会故意增加使用难度。（我介绍这个你们自己品） 比如 Brainfuck，它是在 1993 年被创造的编程语言，语法仅包含八种符号，没有任何单词，用它打印 Hello world 是这样的： 123++++++++++[&gt;+++++++&gt;++++++++++&gt;+++&gt;+&lt;&lt;&lt;&lt;-]&gt;++.&gt;+.+++++++..+++.&gt;++.&lt;&lt;+++++++++++++++.&gt;.+++.------.--------.&gt;+.&gt;. 再比如 MarioLANG，它同样只能使用符号，需要使用形似马里奥关卡的语法来书写： 123456++++: &gt; &gt; +:+:+:+:+:+:+:::::====+ &gt;^=== &quot;&quot;&quot;================= +:-):(:^= = ! ========= = # = ! .+.,:-&lt; =### ======&quot; Parenthesis Hell，言如其名，括号地狱，只能使用括号来书写： 123(()()(()()(()()()()((()()(()(()((()((()()()((()((()()()((()((((()()(()()()()()()(((()(((()((()((((()(((()()(()()((()((()()()((()()(()()()()(()()()()(()()()()(()(())))))))))))))))))))))))))))))))))))))))))))))))))","categories":[],"tags":[]},{"title":"洛谷P5380鸭旗解法","slug":"cppluogu-p5380","date":"2021-10-05T06:58:06.000Z","updated":"2021-10-05T07:06:42.000Z","comments":true,"path":"2021/10/05/cppluogu-p5380/","link":"","permalink":"https://billma.top/2021/10/05/cppluogu-p5380/","excerpt":"","text":"第一步 初始化就按上图的格式进行初始化棋盘，注意棋盘的方向与数组下标，代码如下： 123456789101112131415161718192021void begining()&#123; //Blue //underline character mapp[1][1][0]=5,mapp[1][2][0]=4,mapp[1][3][0]=3,mapp[1][4][0]=2,mapp[1][5][0]=1; mapp[1][6][0]=2,mapp[1][7][0]=3,mapp[1][8][0]=4,mapp[1][9][0]=5; //duck mapp[3][1][0]=6,mapp[3][9][0]=6; //soldier mapp[4][1][0]=7,mapp[4][3][0]=7,mapp[4][5][0]=7,mapp[4][7][0]=7,mapp[4][9][0]=7; //Red //underline character mapp[10][1][1]=5,mapp[10][2][1]=4,mapp[10][3][1]=3,mapp[10][4][1]=2,mapp[10][5][1]=1; mapp[10][6][1]=2,mapp[10][7][1]=3,mapp[10][8][1]=4,mapp[10][9][1]=5; //duck mapp[8][1][1]=6,mapp[8][9][1]=6; //soldier mapp[7][1][1]=7,mapp[7][3][1]=7,mapp[7][5][1]=7,mapp[7][7][1]=7;mapp[7][9][1]=7; &#125; 这里我调换了红蓝双方的顺序，所以就不用翻转棋盘。 第二步 基础操作函数：①attack 移动/攻击因为移动也是一种特殊的攻击，所以也可以把移动归入攻击一栏,通过from，to参数，考虑攻击前后的敌我关系，具体代码如下： 12345void attack(int x1,int y1,int x2,int y2,int from,int to)&#123; mapp[x2][y2][from]=mapp[x1][y1][from]; mapp[x1][y1][from]=0; if(to!=-1)mapp[x2][y2][to]=0;&#125; ②getgroup 分组对于一个坐标的棋子，我们肯定要知道它属于哪一方，自然要写一个函数来获取分组。 12345int getgroup(int x,int y)&#123; if(mapp[x][y][0])return 0; else if(mapp[x][y][1])return 1; else return -1;&#125; ③getcaptain 获取主帅位置这一函数将在最后判断将军时用到。比较好理解。 1234567891011Node getcaptain(int gr)&#123; Node t; for(int i=1;i&lt;=10;i++)&#123; for(int j=1;j&lt;=9;j++)&#123; if(mapp[i][j][gr]==1)&#123; t.x=i,t.y=j; return t; &#125; &#125; &#125;&#125; 第三步 判断每个棋子移动的合法性这是整道题的重中之重，这里将一一讲解： ①captain 将的移动这是最为简单的移动之一，只要求移动前后的坐标差即可。 123456bool captain(int x1,int y1,int x2,int y2,int from,int to)&#123; int tx=abs(x1-x2),ty=abs(y1-y2); if(tx==1&amp;&amp;ty==0)return true; else if(tx==0&amp;&amp;ty==1)return true; else return false;&#125; ②guard 士的移动这个移动与将差不多，同样求坐标差 123456bool guard(int x1,int y1,int x2,int y2,int from,int to)&#123; int tx=abs(x1-x2),ty=abs(y1-y2); if(tx==1&amp;&amp;ty==1) return true; else return false;&#125; ③elephant 象的移动这个移动就有点复杂，注意要判断是否移动受阻，可以单独开一个数组判断障碍，这个思路就有点像大家初学BFS的时候模拟移动。 1234567891011121314bool elephant(int x1,int y1,int x2,int y2,int from,int to)&#123; int aimx[4]=&#123;-2,-2,2,2&#125;,aimy[4]=&#123;-2,2,-2,2&#125;; int stx[4]=&#123;-1,-1,1,1,&#125;,sty[4]=&#123;-1,1,-1,1&#125;; for(int i=0;i&lt;4;i++)&#123; int tx=x1+aimx[i],ty=y1+aimy[i]; if(tx==x2&amp;&amp;ty==y2)&#123; int ttx=x1+stx[i],tty=y1+sty[i]; if(mapp[ttx][tty][0]==0&amp;&amp;mapp[ttx][tty][1]==0)&#123; return true; &#125; &#125; &#125; return false;&#125; ④horse 马的移动与象差不多，只要注意马的移动的x,y轴要一一对应，而障碍位置就是马的上下左右4个点。 1234567891011121314bool horse(int x1,int y1,int x2,int y2,int from,int to)&#123; int aimx[8]=&#123;-2,-2,-1,1,2,2,1,-1&#125;,aimy[8]=&#123;-1,1,2,2,1,-1,-2,-2&#125;; int stx[8]=&#123;-1,-1,0,0,1,1,0,0&#125;,sty[8]=&#123;0,0,1,1,0,0,-1,-1&#125;; for(int i=0;i&lt;8;i++)&#123; int tx=x1+aimx[i],ty=y1+aimy[i]; if(tx==x2&amp;&amp;ty==y2)&#123; int ttx=x1+stx[i],tty=y1+sty[i]; if(mapp[ttx][tty][0]==0&amp;&amp;mapp[ttx][tty][1]==0)&#123; return true; &#125; &#125; &#125; return false;&#125; ⑤car 车的移动车的移动相对简单，只要一重循环模拟即可。注意一点：要先判断两点时候同行或者同列，否则模拟是无意义的。 1234567891011121314151617bool car(int x1,int y1,int x2,int y2,int from,int to)&#123; if(x1!=x2&amp;&amp;y1!=y2)return false; if(x1==x2)&#123; for(int i=min(y1,y2)+1;i&lt;=max(y1,y2)-1;i++)&#123; if(mapp[x1][i][0]||mapp[x1][i][1]) return false; &#125; &#125; if(y1==y2)&#123; for(int i=min(x1,x2)+1;i&lt;=max(x1,x2)-1;i++)&#123; if(mapp[i][y1][0]||mapp[i][y1][1])&#123; return false; &#125; &#125; &#125; return true;&#125; ⑥duck 鸭的移动鸭这个棋子是所有棋子中最难模拟的，但仔细分析，可以发现，鸭的障碍就是马对应方向的障碍与立足点，所以开2个数组去判断鸭的两层障碍即可。 12345678910111213141516bool duck(int x1,int y1,int x2,int y2,int from,int to)&#123; int aimx[8]=&#123;-3,-3,-2,2,3,3,2,-2&#125;,aimy[8]=&#123;-2,2,3,3,2,-2,-3,-3&#125;; int stx[8]=&#123;-2,-2,-1,1,2,2,1,-1&#125;,sty[8]=&#123;-1,1,2,2,1,-1,-2,-2&#125;; int subx[8]=&#123;-1,-1,0,0,1,1,0,0&#125;,suby[8]=&#123;0,0,1,1,0,0,-1,-1&#125;; for(int i=0;i&lt;8;i++)&#123; int tx=x1+aimx[i],ty=y1+aimy[i]; if(tx==x2&amp;&amp;ty==y2)&#123; int ttx=x1+stx[i],tty=y1+sty[i]; int tttx=x1+subx[i],ttty=y1+suby[i]; if(mapp[ttx][tty][0]==0&amp;&amp;mapp[ttx][tty][1]==0&amp;&amp;mapp[tttx][ttty][0]==0&amp;&amp;mapp[tttx][ttty][1]==0)&#123; return true; &#125; &#125; &#125; return false;&#125; ⑦soldier 兵的移动仔细观察，不难发现，兵的移动就是将的移动加上士的移动。所以直接调用上面的函数即可。 12345bool soldier(int x1,int y1,int x2,int y2,int from,int to)&#123; if(captain(x1,y1,x2,y2,from,to))return true; if(guard(x1,y1,x2,y2,from,to))return true; return false;&#125; 第三步 移动操作有了之前的几个函数做铺垫，这个操作就好写很多，先判断是否符合题目中要求，比如同方，起始点无己方棋子等等，然后一一判断是哪种棋子，调用对应的函数即可。如果合法，那么就移动/对敌方棋子攻击，调用attack函数，否则输出无解，注意一点，在移动棋子前要先输出前两个信息，即移动的棋子和被攻击的棋子，因为在移动后信息会被改变。 最后输出后两个信息，在下文会讲到。 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144void move(int x1,int y1,int x2,int y2,int from,int to)&#123; //nowgame(); if(from!=roun)&#123; cout&lt;&lt;&quot;Invalid command&quot;&lt;&lt;endl; return; &#125; //check the size if(x1&lt;1||x2&lt;1||x1&gt;10||x2&gt;10||y1&lt;1||y2&lt;1||y1&gt;9||y2&gt;9)&#123; cout&lt;&lt;&quot;Invalid command&quot;&lt;&lt;endl; return; &#125; //check the gruops if(from==to)&#123; cout&lt;&lt;&quot;Invalid command&quot;&lt;&lt;endl; return; &#125; //check the from if(from==-1)&#123; cout&lt;&lt;&quot;Invalid command&quot;&lt;&lt;endl; return; &#125; //check if the game is over if(flg==1)&#123; cout&lt;&lt;&quot;Invalid command&quot;&lt;&lt;endl; return; &#125; //captain if(mapp[x1][y1][from]==1)&#123; if(captain(x1,y1,x2,y2,from,to))&#123; int ta=mapp[x1][y1][from]; int tb=mapp[x2][y2][to]; cout&lt;&lt;group[from]&lt;&lt;&#x27; &#x27;&lt;&lt;name[ta]&lt;&lt;&#x27;;&#x27;; if(to==-1)cout&lt;&lt;&quot;NA;&quot;; else cout&lt;&lt;group[to]&lt;&lt;&#x27; &#x27;&lt;&lt;name[tb]&lt;&lt;&#x27;;&#x27;; attack(x1,y1,x2,y2,from,to); print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,0); &#125; else print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,1); &#125; //guard if(mapp[x1][y1][from]==2)&#123; if(guard(x1,y1,x2,y2,from,to))&#123; int ta=mapp[x1][y1][from]; int tb=mapp[x2][y2][to]; cout&lt;&lt;group[from]&lt;&lt;&#x27; &#x27;&lt;&lt;name[ta]&lt;&lt;&#x27;;&#x27;; if(to==-1)cout&lt;&lt;&quot;NA;&quot;; else cout&lt;&lt;group[to]&lt;&lt;&#x27; &#x27;&lt;&lt;name[tb]&lt;&lt;&#x27;;&#x27;; attack(x1,y1,x2,y2,from,to); print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,0); &#125; else print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,1); &#125; //elephant if(mapp[x1][y1][from]==3)&#123; if(elephant(x1,y1,x2,y2,from,to))&#123; int ta=mapp[x1][y1][from]; int tb=mapp[x2][y2][to]; cout&lt;&lt;group[from]&lt;&lt;&#x27; &#x27;&lt;&lt;name[ta]&lt;&lt;&#x27;;&#x27;; if(to==-1)cout&lt;&lt;&quot;NA;&quot;; else cout&lt;&lt;group[to]&lt;&lt;&#x27; &#x27;&lt;&lt;name[tb]&lt;&lt;&#x27;;&#x27;; attack(x1,y1,x2,y2,from,to); print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,0); &#125; else print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,1); &#125; //horse if(mapp[x1][y1][from]==4)&#123; if(horse(x1,y1,x2,y2,from,to))&#123; int ta=mapp[x1][y1][from]; int tb=mapp[x2][y2][to]; cout&lt;&lt;group[from]&lt;&lt;&#x27; &#x27;&lt;&lt;name[ta]&lt;&lt;&#x27;;&#x27;; if(to==-1)cout&lt;&lt;&quot;NA;&quot;; else cout&lt;&lt;group[to]&lt;&lt;&#x27; &#x27;&lt;&lt;name[tb]&lt;&lt;&#x27;;&#x27;; attack(x1,y1,x2,y2,from,to); print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,0); &#125; else print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,1); &#125; //car if(mapp[x1][y1][from]==5)&#123; if(car(x1,y1,x2,y2,from,to))&#123; int ta=mapp[x1][y1][from]; int tb=mapp[x2][y2][to]; cout&lt;&lt;group[from]&lt;&lt;&#x27; &#x27;&lt;&lt;name[ta]&lt;&lt;&#x27;;&#x27;; if(to==-1)cout&lt;&lt;&quot;NA;&quot;; else cout&lt;&lt;group[to]&lt;&lt;&#x27; &#x27;&lt;&lt;name[tb]&lt;&lt;&#x27;;&#x27;; attack(x1,y1,x2,y2,from,to); print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,0); &#125; else print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,1); &#125; //duck if(mapp[x1][y1][from]==6)&#123; if(duck(x1,y1,x2,y2,from,to))&#123; int ta=mapp[x1][y1][from]; int tb=mapp[x2][y2][to]; cout&lt;&lt;group[from]&lt;&lt;&#x27; &#x27;&lt;&lt;name[ta]&lt;&lt;&#x27;;&#x27;; if(to==-1)cout&lt;&lt;&quot;NA;&quot;; else cout&lt;&lt;group[to]&lt;&lt;&#x27; &#x27;&lt;&lt;name[tb]&lt;&lt;&#x27;;&#x27;; attack(x1,y1,x2,y2,from,to); print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,0); &#125; else print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,1); &#125; //soldier if(mapp[x1][y1][from]==7)&#123; if(soldier(x1,y1,x2,y2,from,to))&#123; int ta=mapp[x1][y1][from]; int tb=mapp[x2][y2][to]; cout&lt;&lt;group[from]&lt;&lt;&#x27; &#x27;&lt;&lt;name[ta]&lt;&lt;&#x27;;&#x27;; if(to==-1)cout&lt;&lt;&quot;NA;&quot;; else cout&lt;&lt;group[to]&lt;&lt;&#x27; &#x27;&lt;&lt;name[tb]&lt;&lt;&#x27;;&#x27;; attack(x1,y1,x2,y2,from,to); print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,0); &#125; else print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,1); &#125; &#125; 第四步 判断将军将军这个问题看似很难解决，其实换一种思路即可，假设每个敌方棋子都可以将军，然后调用之前的函数，判断假设是否成立，如果成立，说明存在将军，否则则不存在将军。 这样一来，代码就非常好写了：遍历每个点，对于有敌方棋子的点，就做出假设，然后判断假设。并且这里要用到之前的getcaptain函数来获取两方将的位置。 代码如下： 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455bool cankill()&#123; Node blue,red; blue=getcaptain(0),red=getcaptain(1); for(int i=1;i&lt;=10;i++)&#123; for(int j=1;j&lt;=9;j++)&#123; if(mapp[i][j][0])&#123; if(mapp[i][j][0]==1) if(captain(i,j,red.x,red.y,0,1)) return true; if(mapp[i][j][0]==2) if(guard(i,j,red.x,red.y,0,1)) return true; if(mapp[i][j][0]==3) if(elephant(i,j,red.x,red.y,0,1)) return true; if(mapp[i][j][0]==4) if(horse(i,j,red.x,red.y,0,1)) return true; if(mapp[i][j][0]==5) if(car(i,j,red.x,red.y,0,1)) return true; if(mapp[i][j][0]==6) if(duck(i,j,red.x,red.y,0,1)) return true; if(mapp[i][j][0]==7) if(soldier(i,j,red.x,red.y,0,1)) return true; &#125; if(mapp[i][j][1])&#123; if(mapp[i][j][1]==1) if(captain(i,j,blue.x,blue.y,1,0)) return true; if(mapp[i][j][1]==2) if(guard(i,j,blue.x,blue.y,1,0)) return true; if(mapp[i][j][1]==3) if(elephant(i,j,blue.x,blue.y,1,0)) return true; if(mapp[i][j][1]==4) if(horse(i,j,blue.x,blue.y,1,0)) return true; if(mapp[i][j][1]==5) if(car(i,j,blue.x,blue.y,1,0)) return true; if(mapp[i][j][1]==6) if(duck(i,j,blue.x,blue.y,1,0)) return true; if(mapp[i][j][1]==7) if(soldier(i,j,blue.x,blue.y,1,0)) return true; &#125; &#125; &#125; return false;&#125; 第五步 判断游戏是否结束这个问题非常好解决，跑一遍二重循环，统计将的个数，如果小于2，游戏一定结束，注意游戏结束后要设置一个flg，使对接下来命令的处理都是无解。 代码如下： 1234567891011121314151617bool isend()&#123; int t=0; for(int k=0;k&lt;=1;k++)&#123; for(int i=1;i&lt;=10;i++)&#123; for(int j=1;j&lt;=9;j++)&#123; if(mapp[i][j][k]==1)t++; &#125; &#125; &#125; if(t&lt;2)&#123; flg=1; return true; &#125; else return false; &#125; 第六步 输出因为在move函数中已经将前两个信息输出，所以这里只要输出后两个信息即可，直接调用上面的函数，同时在输出的时候更新当前应当走棋的阵营。 对于不合法的调用，输出无解即可。 代码如下： 12345678910111213141516171819void print(int M_C,int M_G,int K_C,int K_G,int canmove)&#123; //canmove? if(canmove==1)&#123; cout&lt;&lt;&quot;Invalid command&quot;&lt;&lt;endl; return; &#125; roun=1-roun; //End? if(isend())&#123; cout&lt;&lt;&quot;no;yes&quot;&lt;&lt;endl; &#125; else &#123; if(cankill())cout&lt;&lt;&quot;yes;&quot;; else cout&lt;&lt;&quot;no;&quot;; cout&lt;&lt;&quot;no&quot;&lt;&lt;endl; &#125;&#125; Tip：主程序中对于每条指令，调用move函数即可。 完整代码献上完整代码，10K,396行: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396#include&lt;bits/stdc++.h&gt;using namespace std;//begining wordsint Q;struct Node&#123; int x,y;&#125;;int mapp[20][20][2];string name[10]=&#123;&quot;&quot;,&quot;captain&quot;,&quot;guard&quot;,&quot;elephant&quot;,&quot;horse&quot;,&quot;car&quot;,&quot;duck&quot;,&quot;soldier&quot;&#125;;string group[3]=&#123;&quot;red&quot;,&quot;blue&quot;&#125;;bool flg=0;bool roun=0;void begining()&#123; //Blue //underline character mapp[1][1][0]=5,mapp[1][2][0]=4,mapp[1][3][0]=3,mapp[1][4][0]=2,mapp[1][5][0]=1; mapp[1][6][0]=2,mapp[1][7][0]=3,mapp[1][8][0]=4,mapp[1][9][0]=5; //duck mapp[3][1][0]=6,mapp[3][9][0]=6; //soldier mapp[4][1][0]=7,mapp[4][3][0]=7,mapp[4][5][0]=7,mapp[4][7][0]=7,mapp[4][9][0]=7; //Red //underline character mapp[10][1][1]=5,mapp[10][2][1]=4,mapp[10][3][1]=3,mapp[10][4][1]=2,mapp[10][5][1]=1; mapp[10][6][1]=2,mapp[10][7][1]=3,mapp[10][8][1]=4,mapp[10][9][1]=5; //duck mapp[8][1][1]=6,mapp[8][9][1]=6; //soldier mapp[7][1][1]=7,mapp[7][3][1]=7,mapp[7][5][1]=7,mapp[7][7][1]=7;mapp[7][9][1]=7; &#125;void attack(int x1,int y1,int x2,int y2,int from,int to)&#123; mapp[x2][y2][from]=mapp[x1][y1][from]; mapp[x1][y1][from]=0; if(to!=-1)mapp[x2][y2][to]=0;&#125;int getgroup(int x,int y)&#123; if(mapp[x][y][0])return 0; else if(mapp[x][y][1])return 1; else return -1;&#125;Node getcaptain(int gr)&#123; Node t; for(int i=1;i&lt;=10;i++)&#123; for(int j=1;j&lt;=9;j++)&#123; if(mapp[i][j][gr]==1)&#123; t.x=i,t.y=j; return t; &#125; &#125; &#125;&#125;bool captain(int x1,int y1,int x2,int y2,int from,int to)&#123; int tx=abs(x1-x2),ty=abs(y1-y2); if(tx==1&amp;&amp;ty==0)return true; else if(tx==0&amp;&amp;ty==1)return true; else return false;&#125;bool guard(int x1,int y1,int x2,int y2,int from,int to)&#123; int tx=abs(x1-x2),ty=abs(y1-y2); if(tx==1&amp;&amp;ty==1) return true; else return false;&#125;bool elephant(int x1,int y1,int x2,int y2,int from,int to)&#123; int aimx[4]=&#123;-2,-2,2,2&#125;,aimy[4]=&#123;-2,2,-2,2&#125;; int stx[4]=&#123;-1,-1,1,1,&#125;,sty[4]=&#123;-1,1,-1,1&#125;; for(int i=0;i&lt;4;i++)&#123; int tx=x1+aimx[i],ty=y1+aimy[i]; if(tx==x2&amp;&amp;ty==y2)&#123; int ttx=x1+stx[i],tty=y1+sty[i]; if(mapp[ttx][tty][0]==0&amp;&amp;mapp[ttx][tty][1]==0)&#123; return true; &#125; &#125; &#125; return false;&#125;bool horse(int x1,int y1,int x2,int y2,int from,int to)&#123; int aimx[8]=&#123;-2,-2,-1,1,2,2,1,-1&#125;,aimy[8]=&#123;-1,1,2,2,1,-1,-2,-2&#125;; int stx[8]=&#123;-1,-1,0,0,1,1,0,0&#125;,sty[8]=&#123;0,0,1,1,0,0,-1,-1&#125;; for(int i=0;i&lt;8;i++)&#123; int tx=x1+aimx[i],ty=y1+aimy[i]; if(tx==x2&amp;&amp;ty==y2)&#123; int ttx=x1+stx[i],tty=y1+sty[i]; if(mapp[ttx][tty][0]==0&amp;&amp;mapp[ttx][tty][1]==0)&#123; return true; &#125; &#125; &#125; return false;&#125;bool car(int x1,int y1,int x2,int y2,int from,int to)&#123; if(x1!=x2&amp;&amp;y1!=y2)return false; if(x1==x2)&#123; for(int i=min(y1,y2)+1;i&lt;=max(y1,y2)-1;i++)&#123; if(mapp[x1][i][0]||mapp[x1][i][1]) return false; &#125; &#125; if(y1==y2)&#123; for(int i=min(x1,x2)+1;i&lt;=max(x1,x2)-1;i++)&#123; if(mapp[i][y1][0]||mapp[i][y1][1])&#123; return false; &#125; &#125; &#125; return true;&#125;bool duck(int x1,int y1,int x2,int y2,int from,int to)&#123; int aimx[8]=&#123;-3,-3,-2,2,3,3,2,-2&#125;,aimy[8]=&#123;-2,2,3,3,2,-2,-3,-3&#125;; int stx[8]=&#123;-2,-2,-1,1,2,2,1,-1&#125;,sty[8]=&#123;-1,1,2,2,1,-1,-2,-2&#125;; int subx[8]=&#123;-1,-1,0,0,1,1,0,0&#125;,suby[8]=&#123;0,0,1,1,0,0,-1,-1&#125;; for(int i=0;i&lt;8;i++)&#123; int tx=x1+aimx[i],ty=y1+aimy[i]; if(tx==x2&amp;&amp;ty==y2)&#123; int ttx=x1+stx[i],tty=y1+sty[i]; int tttx=x1+subx[i],ttty=y1+suby[i]; if(mapp[ttx][tty][0]==0&amp;&amp;mapp[ttx][tty][1]==0&amp;&amp;mapp[tttx][ttty][0]==0&amp;&amp;mapp[tttx][ttty][1]==0)&#123; return true; &#125; &#125; &#125; return false;&#125;bool soldier(int x1,int y1,int x2,int y2,int from,int to)&#123; if(captain(x1,y1,x2,y2,from,to))return true; if(guard(x1,y1,x2,y2,from,to))return true; return false;&#125;bool cankill()&#123; Node blue,red; blue=getcaptain(0),red=getcaptain(1); for(int i=1;i&lt;=10;i++)&#123; for(int j=1;j&lt;=9;j++)&#123; if(mapp[i][j][0])&#123; if(mapp[i][j][0]==1) if(captain(i,j,red.x,red.y,0,1)) return true; if(mapp[i][j][0]==2) if(guard(i,j,red.x,red.y,0,1)) return true; if(mapp[i][j][0]==3) if(elephant(i,j,red.x,red.y,0,1)) return true; if(mapp[i][j][0]==4) if(horse(i,j,red.x,red.y,0,1)) return true; if(mapp[i][j][0]==5) if(car(i,j,red.x,red.y,0,1)) return true; if(mapp[i][j][0]==6) if(duck(i,j,red.x,red.y,0,1)) return true; if(mapp[i][j][0]==7) if(soldier(i,j,red.x,red.y,0,1)) return true; &#125; if(mapp[i][j][1])&#123; if(mapp[i][j][1]==1) if(captain(i,j,blue.x,blue.y,1,0)) return true; if(mapp[i][j][1]==2) if(guard(i,j,blue.x,blue.y,1,0)) return true; if(mapp[i][j][1]==3) if(elephant(i,j,blue.x,blue.y,1,0)) return true; if(mapp[i][j][1]==4) if(horse(i,j,blue.x,blue.y,1,0)) return true; if(mapp[i][j][1]==5) if(car(i,j,blue.x,blue.y,1,0)) return true; if(mapp[i][j][1]==6) if(duck(i,j,blue.x,blue.y,1,0)) return true; if(mapp[i][j][1]==7) if(soldier(i,j,blue.x,blue.y,1,0)) return true; &#125; &#125; &#125; return false;&#125;bool isend()&#123; int t=0; for(int k=0;k&lt;=1;k++)&#123; for(int i=1;i&lt;=10;i++)&#123; for(int j=1;j&lt;=9;j++)&#123; if(mapp[i][j][k]==1)t++; &#125; &#125; &#125; if(t&lt;2)&#123; flg=1; return true; &#125; else return false; &#125;void print(int M_C,int M_G,int K_C,int K_G,int canmove)&#123; //canmove? if(canmove==1)&#123; cout&lt;&lt;&quot;Invalid command&quot;&lt;&lt;endl; return; &#125; roun=1-roun; //End? if(isend())&#123; cout&lt;&lt;&quot;no;yes&quot;&lt;&lt;endl; &#125; else &#123; if(cankill())cout&lt;&lt;&quot;yes;&quot;; else cout&lt;&lt;&quot;no;&quot;; cout&lt;&lt;&quot;no&quot;&lt;&lt;endl; &#125;&#125;void move(int x1,int y1,int x2,int y2,int from,int to)&#123; //nowgame(); if(from!=roun)&#123; cout&lt;&lt;&quot;Invalid command&quot;&lt;&lt;endl; return; &#125; //check the size if(x1&lt;1||x2&lt;1||x1&gt;10||x2&gt;10||y1&lt;1||y2&lt;1||y1&gt;9||y2&gt;9)&#123; cout&lt;&lt;&quot;Invalid command&quot;&lt;&lt;endl; return; &#125; //check the gruops if(from==to)&#123; cout&lt;&lt;&quot;Invalid command&quot;&lt;&lt;endl; return; &#125; //check the from if(from==-1)&#123; cout&lt;&lt;&quot;Invalid command&quot;&lt;&lt;endl; return; &#125; //check if the game is over if(flg==1)&#123; cout&lt;&lt;&quot;Invalid command&quot;&lt;&lt;endl; return; &#125; //captain if(mapp[x1][y1][from]==1)&#123; if(captain(x1,y1,x2,y2,from,to))&#123; int ta=mapp[x1][y1][from]; int tb=mapp[x2][y2][to]; cout&lt;&lt;group[from]&lt;&lt;&#x27; &#x27;&lt;&lt;name[ta]&lt;&lt;&#x27;;&#x27;; if(to==-1)cout&lt;&lt;&quot;NA;&quot;; else cout&lt;&lt;group[to]&lt;&lt;&#x27; &#x27;&lt;&lt;name[tb]&lt;&lt;&#x27;;&#x27;; attack(x1,y1,x2,y2,from,to); print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,0); &#125; else print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,1); &#125; //guard if(mapp[x1][y1][from]==2)&#123; if(guard(x1,y1,x2,y2,from,to))&#123; int ta=mapp[x1][y1][from]; int tb=mapp[x2][y2][to]; cout&lt;&lt;group[from]&lt;&lt;&#x27; &#x27;&lt;&lt;name[ta]&lt;&lt;&#x27;;&#x27;; if(to==-1)cout&lt;&lt;&quot;NA;&quot;; else cout&lt;&lt;group[to]&lt;&lt;&#x27; &#x27;&lt;&lt;name[tb]&lt;&lt;&#x27;;&#x27;; attack(x1,y1,x2,y2,from,to); print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,0); &#125; else print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,1); &#125; //elephant if(mapp[x1][y1][from]==3)&#123; if(elephant(x1,y1,x2,y2,from,to))&#123; int ta=mapp[x1][y1][from]; int tb=mapp[x2][y2][to]; cout&lt;&lt;group[from]&lt;&lt;&#x27; &#x27;&lt;&lt;name[ta]&lt;&lt;&#x27;;&#x27;; if(to==-1)cout&lt;&lt;&quot;NA;&quot;; else cout&lt;&lt;group[to]&lt;&lt;&#x27; &#x27;&lt;&lt;name[tb]&lt;&lt;&#x27;;&#x27;; attack(x1,y1,x2,y2,from,to); print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,0); &#125; else print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,1); &#125; //horse if(mapp[x1][y1][from]==4)&#123; if(horse(x1,y1,x2,y2,from,to))&#123; int ta=mapp[x1][y1][from]; int tb=mapp[x2][y2][to]; cout&lt;&lt;group[from]&lt;&lt;&#x27; &#x27;&lt;&lt;name[ta]&lt;&lt;&#x27;;&#x27;; if(to==-1)cout&lt;&lt;&quot;NA;&quot;; else cout&lt;&lt;group[to]&lt;&lt;&#x27; &#x27;&lt;&lt;name[tb]&lt;&lt;&#x27;;&#x27;; attack(x1,y1,x2,y2,from,to); print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,0); &#125; else print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,1); &#125; //car if(mapp[x1][y1][from]==5)&#123; if(car(x1,y1,x2,y2,from,to))&#123; int ta=mapp[x1][y1][from]; int tb=mapp[x2][y2][to]; cout&lt;&lt;group[from]&lt;&lt;&#x27; &#x27;&lt;&lt;name[ta]&lt;&lt;&#x27;;&#x27;; if(to==-1)cout&lt;&lt;&quot;NA;&quot;; else cout&lt;&lt;group[to]&lt;&lt;&#x27; &#x27;&lt;&lt;name[tb]&lt;&lt;&#x27;;&#x27;; attack(x1,y1,x2,y2,from,to); print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,0); &#125; else print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,1); &#125; //duck if(mapp[x1][y1][from]==6)&#123; if(duck(x1,y1,x2,y2,from,to))&#123; int ta=mapp[x1][y1][from]; int tb=mapp[x2][y2][to]; cout&lt;&lt;group[from]&lt;&lt;&#x27; &#x27;&lt;&lt;name[ta]&lt;&lt;&#x27;;&#x27;; if(to==-1)cout&lt;&lt;&quot;NA;&quot;; else cout&lt;&lt;group[to]&lt;&lt;&#x27; &#x27;&lt;&lt;name[tb]&lt;&lt;&#x27;;&#x27;; attack(x1,y1,x2,y2,from,to); print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,0); &#125; else print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,1); &#125; //soldier if(mapp[x1][y1][from]==7)&#123; if(soldier(x1,y1,x2,y2,from,to))&#123; int ta=mapp[x1][y1][from]; int tb=mapp[x2][y2][to]; cout&lt;&lt;group[from]&lt;&lt;&#x27; &#x27;&lt;&lt;name[ta]&lt;&lt;&#x27;;&#x27;; if(to==-1)cout&lt;&lt;&quot;NA;&quot;; else cout&lt;&lt;group[to]&lt;&lt;&#x27; &#x27;&lt;&lt;name[tb]&lt;&lt;&#x27;;&#x27;; attack(x1,y1,x2,y2,from,to); print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,0); &#125; else print(mapp[x1][y1][from],from,mapp[x2][y2][to],to,1); &#125; &#125;int main()&#123; begining(); cin&gt;&gt;Q; for(int i=1;i&lt;=Q;i++)&#123; int x1,y1,x2,y2; cin&gt;&gt;x1&gt;&gt;y1&gt;&gt;x2&gt;&gt;y2; x1++,y1++,x2++,y2++; move(x1,y1,x2,y2,getgroup(x1,y1),getgroup(x2,y2)); &#125; return 0;&#125;","categories":[{"name":"竞赛解法","slug":"竞赛解法","permalink":"https://billma.top/categories/%E7%AB%9E%E8%B5%9B%E8%A7%A3%E6%B3%95/"}],"tags":[]},{"title":"2021南航苏州附中第45届校运会","slug":"21sportsmeet","date":"2021-10-01T10:51:06.000Z","updated":"2021-10-05T03:21:30.000Z","comments":true,"path":"2021/10/01/21sportsmeet/","link":"","permalink":"https://billma.top/2021/10/01/21sportsmeet/","excerpt":"","text":"原地址：ClickHere","categories":[{"name":"南航苏州附中校园活动","slug":"南航苏州附中校园活动","permalink":"https://billma.top/categories/%E5%8D%97%E8%88%AA%E8%8B%8F%E5%B7%9E%E9%99%84%E4%B8%AD%E6%A0%A1%E5%9B%AD%E6%B4%BB%E5%8A%A8/"}],"tags":[]},{"title":"南航苏州附中建党百年朗诵活动","slug":"2109poemsay","date":"2021-09-12T10:51:37.000Z","updated":"2021-10-04T10:54:48.000Z","comments":true,"path":"2021/09/12/2109poemsay/","link":"","permalink":"https://billma.top/2021/09/12/2109poemsay/","excerpt":"","text":"1.十人集体诗歌朗诵感谢以下参与人员参与录制： 汤骏懿 姚远 顾天欣 崔可欣 曹艺舟 祝中翔 杨海佳 沈思遥 王韬越 张翌晨 导演：马泊宁 姚远 拍摄+后期剪辑：马泊宁 陈星宇 特别感谢后勤小组：何昊 金弈 蒯翔 顾俊贤 陈星宇 视频播放 三连地址点击这里给作者给予支持：点击这里 2.陈星宇讲故事主讲：陈星宇 导演：马泊宁 拍摄+后期剪辑：马泊宁 陈星宇 特别感谢后勤小组： 张祉珺 视频播放 三连地址点击这里给作者给予支持：点击这里 3.张祉珺讲故事主讲：张祉珺 导演：马泊宁 拍摄+后期剪辑：马泊宁 陈星宇 特别感谢后勤小组： 陈星宇 视频播放 三连地址点击这里给作者给予支持：点击这里 4.幕后花絮 点击这里给作者给予支持：点击这里 感谢观看！","categories":[{"name":"南航苏州附中校园活动","slug":"南航苏州附中校园活动","permalink":"https://billma.top/categories/%E5%8D%97%E8%88%AA%E8%8B%8F%E5%B7%9E%E9%99%84%E4%B8%AD%E6%A0%A1%E5%9B%AD%E6%B4%BB%E5%8A%A8/"}],"tags":[]},{"title":"如何科学上网？","slug":"vpn-how-to-open","date":"2021-09-04T12:32:35.000Z","updated":"2021-09-04T13:42:00.000Z","comments":true,"path":"2021/09/04/vpn-how-to-open/","link":"","permalink":"https://billma.top/2021/09/04/vpn-how-to-open/","excerpt":"","text":"相信很多同学都想科学上网，但是由于工 信 部的限制，很少有人能真正科学上网。我今天就介绍几个我长期摸索出来的科学上网工具。 1.Windows1.安装 Microsoft edge其实理论上Google Chrome更加适合，但是你想接下来的操作本身需要科学上网才能访问Google play，所以在这里使用Microsoft edge。 Windows7点这里下载 Windows10点这里下载 2.安装扩展打开edge，打开这个网页,点击安装即可。 3.配置点开这个科学上网工具，选择汉语，会跳出一个输入邀请码的东西，不要管他，下面有一个create new account，点击，然后三个协议全选择，跳出一个页面，选择美国即可。 2.iOS(iphone or ipad)1.获取Apple ID由于上述国家部门的要求，Apple Inc中国区下架了所有科学上网工具。所以，现在手机上点击这里注册一个新的Apple ID。 注意，在注册时会让你选择国家与地区，选择美国即可。 2.登录随后，点开App Store，登出后登陆你新注册的Apple ID，随后自动跳转到美国区，搜索V P N 3 6 0即可。","categories":[{"name":"日常经验","slug":"日常经验","permalink":"https://billma.top/categories/%E6%97%A5%E5%B8%B8%E7%BB%8F%E9%AA%8C/"}],"tags":[]},{"title":"今日编程发现--缩进问题","slug":"cpp-if-else-question-1","date":"2021-08-29T08:11:52.000Z","updated":"2021-08-29T08:17:16.000Z","comments":true,"path":"2021/08/29/cpp-if-else-question-1/","link":"","permalink":"https://billma.top/2021/08/29/cpp-if-else-question-1/","excerpt":"","text":"今天偶然看到一段代码是这么写的： 1234if(...) if(...) ... else ... 那么问题来了，这么缩进这个else跟的是谁呢？ 其实根据C++原则，else跟的是离他更近的那个if。但是，如果别欣赏这段代码的时候，那可真的难为人家了。 所以，严格按照语法编代码，保持KISS(Keep it simple,stupid)是最基本的原则。不要写容易混淆的代码。","categories":[],"tags":[]},{"title":"GitHub下载速度太慢怎么办？","slug":"github-speed-up-download","date":"2021-08-29T07:17:38.000Z","updated":"2021-09-04T13:42:22.000Z","comments":true,"path":"2021/08/29/github-speed-up-download/","link":"","permalink":"https://billma.top/2021/08/29/github-speed-up-download/","excerpt":"","text":"在本站中，有一些下载项目是我通过GitHub仓库上传的（下载地址：billmarepo.github.io）,但是GitHub在中国大陆地区访问较慢，下载速度更是令人感慨（但是亲测速度比百度网盘快）。那么，在下载本站资源时遇到GitHub下载太慢该如何处置？ 1.复制找到下载的资源，右击选择：复制目标链接（反正就这个意思，不同浏览器显示不同）。 2.GitHub文件加速利用 Cloudflare Workers 对 github release 、archive 以及项目文件进行加速，部署无需服务器且自带CDN.https://gh.api.99988866.xyzhttps://ghproxy.com/以上网站为演示站点，如无法打开可以查看开源项目：gh-proxy-GitHub 文件加速自行部署。 3.Github 加速下载将你复制的链接到以下网址就可以加速下载了！ 地址：http://toolwa.com/github/ 4.其他友情链接官网镜像（可以用来clone push等,但是不能登录）https://github.com.cnpmjs.org/ https://hub.fastgit.org/ （速度最快） https://github.wuyanzheshui.workers.dev/ API镜像（用来api操作）https://api.git.sdut.me/ https://v2.kkpp.cc/","categories":[{"name":"日常经验","slug":"日常经验","permalink":"https://billma.top/categories/%E6%97%A5%E5%B8%B8%E7%BB%8F%E9%AA%8C/"}],"tags":[{"name":"github","slug":"github","permalink":"https://billma.top/tags/github/"}]},{"title":"python之matplotlib详细教程","slug":"python-matplotlib","date":"2021-08-26T11:44:55.000Z","updated":"2021-08-29T07:46:48.000Z","comments":true,"path":"2021/08/26/python-matplotlib/","link":"","permalink":"https://billma.top/2021/08/26/python-matplotlib/","excerpt":"","text":"安装前提：你已经安装了python并且在安装时勾选了Add Python to PATH 打开cmd，输入如下指令：（不要复制粘贴） 12pip install matplotlibpip install numpy 安装完后打开python，就可以开始了！ 头文件12import matplotlib.pyplot as pltimport numpy as np 1请求一个新的figure对象1plt.figure() 1.2Axes在拥有Figure对象之后，在作画前我们还需要轴，没有轴的话就没有绘图基准，所以需要添加Axes。也可以理解成为真正可以作画的纸。 12345fig = plt.figure()ax = fig.add_subplot(111)ax.set(xlim=[0.5, 4.5], ylim=[-2, 8], title=&#x27;An Example Axes&#x27;, ylabel=&#x27;Y-Axis&#x27;, xlabel=&#x27;X-Axis&#x27;)plt.show() 上的代码，在一幅图上添加了一个Axes，然后设置了这个Axes的X轴以及Y轴的取值范围（这些设置并不是强制的，后面会再谈到关于这些设置） 对于上面的fig.add_subplot(111)就是添加Axes的，参数的解释的在画板的第1行第1列的第一个位置生成一个Axes对象来准备作画。也可以通过fig.add_subplot(2, 2, 1)的方式生成Axes，前面两个参数确定了面板的划分，例如 2， 2会将整个面板划分成 2 * 2 的方格，第三个参数取值范围是 [1, 2*2] 表示第几个Axes。如下面的例子： 1234fig = plt.figure()ax1 = fig.add_subplot(221)ax2 = fig.add_subplot(222)ax3 = fig.add_subplot(224) 1.3 Multiple Axes可以发现我们上面添加 Axes 似乎有点弱鸡，所以提供了下面的方式一次性生成所有 Axes： 12345fig, axes = plt.subplots(nrows=2, ncols=2)axes[0,0].set(title=&#x27;Upper Left&#x27;)axes[0,1].set(title=&#x27;Upper Right&#x27;)axes[1,0].set(title=&#x27;Lower Left&#x27;)axes[1,1].set(title=&#x27;Lower Right&#x27;) fig 还是我们熟悉的画板， axes 成了我们常用二维数组的形式访问，这在循环绘图时，额外好用。 1.4 Axes Vs .pyplot相信不少人看过下面的代码，很简单并易懂，但是下面的作画方式只适合简单的绘图，快速的将图绘出。在处理复杂的绘图工作时，我们还是需要使用 Axes 来完成作画的。 123plt.plot([1, 2, 3, 4], [10, 20, 25, 30], color=&#x27;lightblue&#x27;, linewidth=3)plt.xlim(0.5, 4.5)plt.show() 2. 基本绘图2D2.1 线plot()函数画出一系列的点，并且用线将它们连接起来。看下例子： 1234567x = np.linspace(0, np.pi)y_sin = np.sin(x)y_cos = np.cos(x)ax1.plot(x, y_sin)ax2.plot(x, y_sin, &#x27;go--&#x27;, linewidth=2, markersize=12)ax3.plot(x, y_cos, color=&#x27;red&#x27;, marker=&#x27;+&#x27;, linestyle=&#x27;dashed&#x27;) 在上面的三个Axes上作画。plot，前面两个参数为x轴、y轴数据。ax2的第三个参数是 MATLAB风格的绘图，对应ax3上的颜色，marker，线型。 另外，我们可以通过关键字参数的方式绘图，如下例： 123456789101112131415x = np.linspace(0, 10, 200)data_obj = &#123;&#x27;x&#x27;: x, &#x27;y1&#x27;: 2 * x + 1, &#x27;y2&#x27;: 3 * x + 1.2, &#x27;mean&#x27;: 0.5 * x * np.cos(2*x) + 2.5 * x + 1.1&#125;fig, ax = plt.subplots()#填充两条线之间的颜色ax.fill_between(&#x27;x&#x27;, &#x27;y1&#x27;, &#x27;y2&#x27;, color=&#x27;yellow&#x27;, data=data_obj)# Plot the &quot;centerline&quot; with `plot`ax.plot(&#x27;x&#x27;, &#x27;mean&#x27;, color=&#x27;black&#x27;, data=data_obj)plt.show() 发现上面的作图，在数据部分只传入了字符串，这些字符串对一个这 data_obj 中的关键字，当以这种方式作画时，将会在传入给 data 中寻找对应关键字的数据来绘图。 2.2 散点图只画点，但是不用线连接起来。 1234x = np.arange(10)y = np.random.randn(10)plt.scatter(x, y, color=&#x27;red&#x27;, marker=&#x27;+&#x27;)plt.show() 2.3 条形图条形图分两种，一种是水平的，一种是垂直的，见下例子： 123456789101112np.random.seed(1)x = np.arange(5)y = np.random.randn(5)fig, axes = plt.subplots(ncols=2, figsize=plt.figaspect(1./2))vert_bars = axes[0].bar(x, y, color=&#x27;lightblue&#x27;, align=&#x27;center&#x27;)horiz_bars = axes[1].barh(x, y, color=&#x27;lightblue&#x27;, align=&#x27;center&#x27;)#在水平或者垂直方向上画线axes[0].axhline(0, color=&#x27;gray&#x27;, linewidth=2)axes[1].axvline(0, color=&#x27;gray&#x27;, linewidth=2)plt.show() 条形图还返回了一个Artists 数组，对应着每个条形，例如上图 Artists 数组的大小为5，我们可以通过这些 Artists 对条形图的样式进行更改，如下例： 123456789fig, ax = plt.subplots()vert_bars = ax.bar(x, y, color=&#x27;lightblue&#x27;, align=&#x27;center&#x27;)# We could have also done this with two separate calls to `ax.bar` and numpy boolean indexing.for bar, height in zip(vert_bars, y): if height &lt; 0: bar.set(edgecolor=&#x27;darkred&#x27;, color=&#x27;salmon&#x27;, linewidth=3)plt.show() 2.4 直方图直方图用于统计数据出现的次数或者频率，有多种参数可以调整，见下例： 1234567891011121314151617181920212223np.random.seed(19680801)n_bins = 10x = np.random.randn(1000, 3)fig, axes = plt.subplots(nrows=2, ncols=2)ax0, ax1, ax2, ax3 = axes.flatten()colors = [&#x27;red&#x27;, &#x27;tan&#x27;, &#x27;lime&#x27;]ax0.hist(x, n_bins, density=True, histtype=&#x27;bar&#x27;, color=colors, label=colors)ax0.legend(prop=&#123;&#x27;size&#x27;: 10&#125;)ax0.set_title(&#x27;bars with legend&#x27;)ax1.hist(x, n_bins, density=True, histtype=&#x27;barstacked&#x27;)ax1.set_title(&#x27;stacked bar&#x27;)ax2.hist(x, histtype=&#x27;barstacked&#x27;, rwidth=0.9)ax3.hist(x[:, 0], rwidth=0.9)ax3.set_title(&#x27;different sample sizes&#x27;)fig.tight_layout()plt.show() 参数中density控制Y轴是概率还是数量，与返回的第一个的变量对应。histtype控制着直方图的样式，默认是 ‘bar’，对于多个条形时就相邻的方式呈现如子图1， ‘barstacked’ 就是叠在一起，如子图2、3。 rwidth 控制着宽度，这样可以空出一些间隙，比较图2、3. 图4是只有一条数据时。 2.5 饼图12345678910111213labels = &#x27;Frogs&#x27;, &#x27;Hogs&#x27;, &#x27;Dogs&#x27;, &#x27;Logs&#x27;sizes = [15, 30, 45, 10]explode = (0, 0.1, 0, 0) # only &quot;explode&quot; the 2nd slice (i.e. &#x27;Hogs&#x27;)fig1, (ax1, ax2) = plt.subplots(2)ax1.pie(sizes, labels=labels, autopct=&#x27;%1.1f%%&#x27;, shadow=True)ax1.axis(&#x27;equal&#x27;)ax2.pie(sizes, autopct=&#x27;%1.2f%%&#x27;, shadow=True, startangle=90, explode=explode, pctdistance=1.12)ax2.axis(&#x27;equal&#x27;)ax2.legend(labels=labels, loc=&#x27;upper right&#x27;)plt.show() 饼图自动根据数据的百分比画饼.。labels是各个块的标签，如子图一。autopct=%1.1f%%表示格式化百分比精确输出，explode，突出某些块，不同的值突出的效果不一样。pctdistance=1.12百分比距离圆心的距离，默认是0.6. 2.6 箱形图为了专注于如何画图，省去数据的处理部分。 data 的 shape 为 (n, )， data2 的 shape 为 (n, 3)。 123fig, (ax1, ax2) = plt.subplots(2)ax1.boxplot(data)ax2.boxplot(data2, vert=False) #控制方向 2.7 泡泡图散点图的一种，加入了第三个值 s 可以理解成普通散点，画的是二维，泡泡图体现了Z的大小，如下例： 1234567891011np.random.seed(19680801)N = 50x = np.random.rand(N)y = np.random.rand(N)colors = np.random.rand(N)area = (30 * np.random.rand(N))**2 # 0 to 15 point radiiplt.scatter(x, y, s=area, c=colors, alpha=0.5)plt.show() 2.8 等高线（轮廓图）有时候需要描绘边界的时候，就会用到轮廓图，机器学习用的决策边界也常用轮廓图来绘画，见下例： 1234567fig, (ax1, ax2) = plt.subplots(2)x = np.arange(-5, 5, 0.1)y = np.arange(-5, 5, 0.1)xx, yy = np.meshgrid(x, y, sparse=True)z = np.sin(xx**2 + yy**2) / (xx**2 + yy**2)ax1.contourf(x, y, z)ax2.contour(x, y, z) 上面画了两个一样的轮廓图，contourf会填充轮廓线之间的颜色。数据x, y, z通常是具有相同 shape 的二维矩阵。x, y 可以为一维向量，但是必需有 z.shape = (y.n, x.n) ，这里 y.n 和 x.n 分别表示x、y的长度。Z通常表示的是距离X-Y平面的距离，传入X、Y则是控制了绘制等高线的范围。 3 布局、图例说明、边界等3.1区间上下限当绘画完成后，会发现X、Y轴的区间是会自动调整的，并不是跟我们传入的X、Y轴数据中的最值相同。为了调整区间我们使用下面的方式： 12345ax.set_xlim([xmin, xmax]) #设置X轴的区间ax.set_ylim([ymin, ymax]) #Y轴区间ax.axis([xmin, xmax, ymin, ymax]) #X、Y轴区间ax.set_ylim(bottom=-10) #Y轴下限ax.set_xlim(right=25) #X轴上限 12345678x = np.linspace(0, 2*np.pi)y = np.sin(x)fig, (ax1, ax2) = plt.subplots(2)ax1.plot(x, y)ax2.plot(x, y)ax2.set_xlim([-1, 6])ax2.set_ylim([-1, 3])plt.show() 可以看出修改了区间之后影响了图片显示的效果。 3.2 图例说明我们如果我们在一个Axes上做多次绘画，那么可能出现分不清哪条线或点所代表的意思。这个时间添加图例说明，就可以解决这个问题了，见下例： 1234567fig, ax = plt.subplots()ax.plot([1, 2, 3, 4], [10, 20, 25, 30], label=&#x27;Philadelphia&#x27;)ax.plot([1, 2, 3, 4], [30, 23, 13, 4], label=&#x27;Boston&#x27;)ax.scatter([1, 2, 3, 4], [20, 10, 30, 15], label=&#x27;Point&#x27;)ax.set(ylabel=&#x27;Temperature (deg C)&#x27;, xlabel=&#x27;Time&#x27;, title=&#x27;A tale of two cities&#x27;)ax.legend()plt.show() 在绘图时传入 label 参数，并最后调用ax.legend()显示体力说明，对于 legend 还是传入参数，控制图例说明显示的位置： 123456789101112Location String Location Code‘best’ 0‘upper right’ 1‘upper left’ 2‘lower left’ 3‘lower right’ 4‘right’ 5‘center left’ 6‘center right’ 7‘lower center’ 8‘upper center’ 9‘center’ 10 3.3 区间分段默认情况下，绘图结束之后，Axes 会自动的控制区间的分段。见下例： 123456789101112data = [(&#x27;apples&#x27;, 2), (&#x27;oranges&#x27;, 3), (&#x27;peaches&#x27;, 1)]fruit, value = zip(*data)fig, (ax1, ax2) = plt.subplots(2)x = np.arange(len(fruit))ax1.bar(x, value, align=&#x27;center&#x27;, color=&#x27;gray&#x27;)ax2.bar(x, value, align=&#x27;center&#x27;, color=&#x27;gray&#x27;)ax2.set(xticks=x, xticklabels=fruit)#ax.tick_params(axis=&#x27;y&#x27;, direction=&#x27;inout&#x27;, length=10) #修改 ticks 的方向以及长度plt.show() 上面不仅修改了X轴的区间段，并且修改了显示的信息为文本。 3.4 布局当我们绘画多个子图时，就会有一些美观的问题存在，例如子图之间的间隔，子图与画板的外边间距以及子图的内边距，下面说明这个问题： 1234567fig, axes = plt.subplots(2, 2, figsize=(9, 9))fig.subplots_adjust(wspace=0.5, hspace=0.3, left=0.125, right=0.9, top=0.9, bottom=0.1)#fig.tight_layout() #自动调整布局，使标题之间不重叠plt.show() 通过fig.subplots_adjust()我们修改了子图水平之间的间隔wspace=0.5，垂直方向上的间距hspace=0.3，左边距left=0.125 等等，这里数值都是百分比的。以 [0, 1] 为区间，选择left、right、bottom、top 注意 top 和 right 是 0.9 表示上、右边距为百分之10。不确定如果调整的时候，fig.tight_layout()是一个很好的选择。之前说到了内边距，内边距是子图的，也就是 Axes 对象，所以这样使用 ax.margins(x=0.1, y=0.1)，当值传入一个值时，表示同时修改水平和垂直方向的内边距。 调整使他们使用一样的X、Y轴： 1234fig, (ax1, ax2) = plt.subplots(1, 2, sharex=True, sharey=True)ax1.plot([1, 2, 3, 4], [1, 2, 3, 4])ax2.plot([3, 4, 5, 6], [6, 5, 4, 3])plt.show() 3.5 轴相关改变边界的位置，去掉四周的边框： 1234567891011121314151617181920212223fig, ax = plt.subplots()ax.plot([-2, 2, 3, 4], [-10, 20, 25, 5])ax.spines[&#x27;top&#x27;].set_visible(False) #顶边界不可见ax.xaxis.set_ticks_position(&#x27;bottom&#x27;) # ticks 的位置为下方，分上下的。ax.spines[&#x27;right&#x27;].set_visible(False) #右边界不可见ax.yaxis.set_ticks_position(&#x27;left&#x27;) # &quot;outward&quot;# 移动左、下边界离 Axes 10 个距离#ax.spines[&#x27;bottom&#x27;].set_position((&#x27;outward&#x27;, 10))#ax.spines[&#x27;left&#x27;].set_position((&#x27;outward&#x27;, 10))# &quot;data&quot;# 移动左、下边界到 (0, 0) 处相交ax.spines[&#x27;bottom&#x27;].set_position((&#x27;data&#x27;, 0))ax.spines[&#x27;left&#x27;].set_position((&#x27;data&#x27;, 0))# &quot;axes&quot;# 移动边界，按 Axes 的百分比位置#ax.spines[&#x27;bottom&#x27;].set_position((&#x27;axes&#x27;, 0.75))#ax.spines[&#x27;left&#x27;].set_position((&#x27;axes&#x27;, 0.3))plt.show()","categories":[],"tags":[{"name":"python","slug":"python","permalink":"https://billma.top/tags/python/"}]},{"title":"从零开始C++——1","slug":"cpp-begin-1","date":"2021-08-26T08:23:43.000Z","updated":"2021-10-01T06:52:00.000Z","comments":true,"path":"2021/08/26/cpp-begin-1/","link":"","permalink":"https://billma.top/2021/08/26/cpp-begin-1/","excerpt":"","text":"本文为原创文章，请转载时一定要注明作者：Bill Ma，网址https://billma.top 1This blog is licensed under CC BY-NC-SA 4.0 unless stating additionally. 一.准备工作看到这篇文章，说明你已经有了这个想法。那么，想要编程，总得要一个软件吧。如果你已经有一定的其他的语言基础，知道了编程软件的基本架构，建议你使用Microsoft的Visual Studio Code。如果你对编程一无所知，你可以使用小白软件Dev C++。 点此下载DevC++ 点此下载MicrosoftVisualStudioCode 本教程就以Dev C++为实例。 1.启动界面启动界面，发现该界面分为四部分。上面是菜单栏和一堆按钮，右侧是一块大空白，左侧是“项目管理，查看类和调试”，下面是调试。 接下来，按Ctrl+N，新建一个源代码。 2.了解C++基本构造a.头文件头文件以 #include 开头。你在C++中所用到的所有函数都包含在各种各样的头文件中。比如说，最常见的输出函数printf()就在cstdio头文件中。再比如说，输入输出流cin和cout就在iostream中。如果你懒得记哪个函数在哪个函数库头文件里，你可以偷懒，只写一个： 1#include &lt;bits/stdc++.h&gt; 这个头文件包含了C++大多数常用头文件。你写了这个就不用再写其它头文件了。但是注意，bits/stdc++.h不包含所有头文件。比如说，比较常用的#include&lt;conio.h&gt;和#include &lt;windows.h&gt;就不在其中。 b.函数函数有很多种，现在讲为时过早，日后再议。现在要知道的是主函数。主函数是C++代码的核心部分。C++所有代码都包含在主函数内。在主函数的最后，需要以return 0;为结尾。 c.变量C++提供了许多变量。其中包含 123456789101112//整形变量(存放整数)int //浮点型函数float//单精度double//双精度//字符/字符串char//单个字符string//字符串wchar_t//单个宽字符，即非英文或数字wstring//宽字符串 注意，上图的//代表注释，不参与主要运算。 变量声明方法： 123int a;char b;string c; 哦，差点忘了，你想要运行你的程序，只需要按F11或者选择编译即可。 2.你的第一个程序先从一个例子开始： 123456#include &lt;iostream&gt;using namespace std;int main()&#123; cout&lt;&lt;&quot;Hello World!&quot;&lt;&lt;endl; return 0;&#125; 1.标准输入输出```包含了cout,cin,endl等。cout表示输出，cin表示输入，endl是换行符。C++将键盘作为输入设备，屏幕等为输出设备。而且，C++将你输入的和输出的当作一个流，比如说以下两句话是等价的：1234```C++cout&lt;&lt;&quot;helloworld!&quot;&lt;&lt;endl;cout&lt;&lt;&quot;hello&quot;&lt;&lt;&quot;world!&quot;&lt;&lt;endl; 因为C++是输出流，所以先把hello流出来再把world流出来，和流出来helloworld是一样的。下面是cout和cin的具体用法： 123int a,b,c,dcin&gt;&gt;a&gt;&gt;b&gt;&gt;c&gt;&gt;d;//这里没有endlcout&lt;&lt;a&lt;&lt;b&lt;&lt;c&lt;&lt;endl&lt;&lt;d&lt;&lt;endl; 输入： 132 44 23 23 输出： 1232442323 为什么a和b和c中间没有空格呢？很简单，因为你没有加空格啊。a和b都是数字，没有空格。 那么，下面代码会输出什么呢？ 1234cout&lt;&lt;12&lt;&lt;34&lt;&lt;56&lt;&lt;endl;cout&lt;&lt; 12 &lt;&lt; 34 &lt;&lt; 56 &lt;&lt;endl;cout&lt;&lt;&quot;12&quot;&lt;&lt;&quot;34&quot;&lt;&lt;&quot;56&quot;&lt;&lt;endl;cout&lt;&lt;&quot; 12 &quot;&lt;&lt;&quot; 34 &quot;&lt;&lt;&quot; 56 &quot;&lt;&lt;endl; 输出： 123412345612345612345612 34 56 有人会问，为什么2也是123456？因为在每两个 &lt;&lt; 中，只能有一个量（变量和常量），你用双引号引起来的叫字符串，只有在变量或者字符串里的才能被输出。 3.你的第二个程序这个程序要稍微复杂一点了： 123456789#include&lt;iostream&gt;using namespace std;int main()&#123; int a; cin&gt;&gt;a; a=a+1; cout&lt;&lt;a; return 0;&#125; 输入：1，输出：2 这个a=a+1不是非法语句，而是正确的。这句话翻译成中文就是：a在你原来a的基础上再+1 4.你的第三个程序1234567891011121314151617181920212223#include &lt;iostream&gt;using namespace std;int main()&#123; for(int a=1;a&lt;=7;a++) &#123; if(a==1||a&gt;=6) &#123; cout&lt;&lt;&quot;1&quot;&lt;&lt;endl; &#125; else if(a&lt;=3) &#123; cout&lt;&lt;&quot;2&quot;&lt;&lt;endl; &#125; else if(a&lt;5&amp;&amp;a&gt;3) &#123; cout&lt;&lt;&quot;3&quot;&lt;&lt;endl; &#125; else &#123; cout&lt;&lt;&quot;4&quot;&lt;&lt;endl; &#125; &#125;&#125; 输出： 12345671223311 什么意思呢？首先来看for(int a=1;a&lt;=7;a++),这句话意思是a从1开始技术 未完待续……","categories":[],"tags":[{"name":"teach，computer，cpp","slug":"teach，computer，cpp","permalink":"https://billma.top/tags/teach%EF%BC%8Ccomputer%EF%BC%8Ccpp/"}]},{"title":"C++ 中如何处理错误和异常？","slug":"cpp-constructor-exception","date":"2021-08-26T08:13:08.000Z","updated":"2021-09-04T13:03:22.000Z","comments":true,"path":"2021/08/26/cpp-constructor-exception/","link":"","permalink":"https://billma.top/2021/08/26/cpp-constructor-exception/","excerpt":"","text":"1.前言用C++写代码的时候总是避免不了处理错误，一般来说有两种方式，通过函数的返回值或者抛出异常。C语言的错误处理一律是通过函数的返回值来判断的，一般是返回0、NULL或者-1表示错误，或者直接返回错误代码，具体是哪种方式没有统一的规定，各种API也各有各的偏好。譬如fopen函数，当成功时返回文件指针，失败时返回NULL，而POSIX标准的open函数则在成功时返回0或者正数，失败时返回-1，然后需要再通过全局变量errno来判断具体错误是什么，配套的还有一系列perror、strerror这样的函数。 2.C++的错误处理方式C++号称向下兼容C语言，于是就将C语言通过返回值的错误处理方式也搬了进来。但C++最大的不同是引入了异常机制，可以用throw产生一个异常，并通过try和catch来捕获。于是就混乱了，到底是什么时候使用返回值表示错误，什么时候使用异常呢？首先简单谈论一下异常和返回值的特点。 异常的优点错误信息丰富，便于获得错误现场 代码相对简短，不需要判断每个函数的返回值 异常的缺点使控制流变得复杂，难以追踪 开销相对较大 返回值的优点性能开销相对小 避免定义异常类 返回值的缺点程序员经常「忘记」处理错误返回值 每个可能产生错误的函数在调用后都需要判断是否有错误 与「真正的」返回值混用，需要规定一个错误代码（通常是0、-1或NULL）使用异常还是返回值 我的观点是，用异常来表示真正的、而且不太可能发生的错误。所谓不太可能发生的错误，指的是真正难以预料，但发生了却又不得不单独处理的，譬如内存耗尽、读文件发生故障。而在一个字符串中查找一个子串，如果没有找到显然应该是用一个特殊的返回值（如-1），而不应该抛出一个异常。 一句话来概况就是不要用异常代替正常的控制流，只有当程序真的「不正常」的时候，才使用异常。反过来说，当程序真正发生错误了，一定要使用异常而不是返回一个错误代码，因为错误代码总是倾向于被忽略。如果要保证一个以返回值来表示错误代码的函数的错误正确地向上传递，需要在每个调用了可能产生错误的函数后面都判断一下是否发生了错误，一旦发生了不可解决的错误，就要终止当前函数（并释放当前函数申请的资源），然后向上传递错误。这样一来错误处理代码会被重复地写好几遍，十分冗杂，譬如下面代码： 12345678910111213141516171819202122232425int func(int n) &#123; int fd = open(&quot;path/to/file&quot;, O_RDONLY); if (fd == -1) &#123; return ERROR_OPEN; &#125; int* array = new[n]; int err; err = do_something(fd, array); if (err != SUCCESS) &#123; delete[] array; return err; &#125; err = do_other_thing(); if (err != SUCCESS) &#123; delete[] array; return err; &#125; err = do_more_thing(); if (err != SUCCESS) &#123; delete[] array; return err; &#125; delete[] array; return SUCCESS;&#125; 对使用异常容易增加函数出口的指控其实是不成立的，因为即使使用返回值，这些出口也是免不了的，除非程序员有意或无意忽略掉，但异常是不可忽略的。如果你认为可以把判断错误的if语句缩写到一行使代码变得「更清晰」，那么我只能说是自欺欺人。 有些错误几乎总是可以被立即恢复（譬如前面所说的查找一个字符串不存在的子串，甚至都不能说这是一个「错误」），而且返回值本身就传递一定信息，就不需要使用异常了。 鉴于C++没有统一的ABI，并不建议在模块的接口上使用异常。如果要使用，就要把可能曝露给用户的异常全部声明出来，不要把其他类型的异常丢给用户去处理，尤其是内部状态——模块的使用者通常也不会关心模块内部具体是哪条语句发生错误了。 3.构造函数中的错误有一个相当实际的问题是，如何处理构造函数的错误？我们都知道构造函数是没有返回值的，怎么办呢？通常有三种常见的处理方法，标记错误状态、使用一个额外的initialize函数来初始化，或者直接抛出异常。 合格的C++程序员都知道C++的析构函数中不应该抛出异常，一旦析构函数中的异常没有被捕获，整个程序都要被中止掉。于是许多人就对在构造函数中抛出异常也产生了对等的恐惧，宁可使用一个额外的初始化函数在里面初始化对象的状态并抛出异常（或者返回错误代码）。这样做违背了对象产生和初始化要在一起的原则，强迫用户记住调用一个额外的初始化函数，一旦没有调用直接使用了其他函数，其行为很可能是未定义的。 使用初始化函数的惟一好处可能是避免了手动释放资源（释放资源的操作交给析构函数来做），因为C++的一个特点是构造函数抛出异常以后析构函数是不会被调用的，所以如果你在构造函数里面申请了内存或者打开了资源，需要在异常产生时关闭。但想想看其实并不能完全避免，因为有些资源可能是要在可能产生错误的函数调用过后才被申请的，还是无法完全避免手工的释放。 标记错误状态也是一种常见的形式，譬如STL中的ifstream类，当构造时传入一个无法访问的文件作为参数，它不会返回任何错误，而是标记的内部状态为不可用，用户需要手工通过is_open()函数来判断是否打开成功了。同时它还有good()、fail()两个函数，同时也重载了bool类型转换运算符用于在if语句中判断。标记状态的方法在实践中相当丑陋，因为在使用前总是需要判断它是否「真的创建成功了」。 最直接的方法还是在构造函数中抛出异常，它并不会向析构函数中抛出异常那样有严重的后果，只是需要注意的是抛出异常以后对象没有被创建成功，析构函数也不会被调用，所以应该自行把申请的资源全部都释放掉。 4.如何在构造函数中捕获异常构造函数与普通函数有一个很不一样特性，就是构造函数可以有初始化列表，例如下面的代码： 1234567891011121314151617class B &#123; public: B(int val) : val_(val * val) &#123; &#125; private: int val_;&#125;;class A &#123; public: A(int val) : b_(val) &#123; a_ = val; &#125; private: int a_; B b_;&#125;; 以上的代码中A的构造函数的函数体的语句在执行之前会先调用B的构造函数，这时候问题在于，如果B的构造函数抛出了异常，A该如何捕获呢？一个迂回的做法是在A中把B的实例声明为指针，在构造函数和析构函数中分别创建和删除，这样就能捕获到异常了。不过，实际上是有更简单的做法的。下面我要介绍一个C++的很不常见的语法：函数作用域级别的异常捕获。 123456789101112131415161718192021class B &#123; public: B(int val) : val_(val * val) &#123; throw runtime_error(&quot;wtf from B&quot;); &#125; private: int val_;&#125;;class A &#123; public: A(int val) try : b_(val) &#123; a_ = val; &#125; catch (runtime_error&amp; e) &#123; cerr &lt;&lt; e.what() &lt;&lt; endl; throw runtime_error(&quot;wtf from A&quot;); &#125; private: int a_; B b_;&#125;; 注意上面A的构造函数，在参数列表后和初始化列表前增加了try关键字，然后构造函数就被分割为了两部分，前面是初始化，后面是初始化时的错误处理。需要指出的是，catch块里面捕获到的异常不能被忽略，即catch块中必须有一个throw语句重新抛出异常，如果没有，则默认会将原来捕获到的异常重新抛出，这和一般的行为是不同的。例如下面代码运行可以发现A会将捕获到的异常原封不动抛出： 1234567891011class A &#123; public: A(int val) try : b_(val) &#123; a_ = val; &#125; catch (runtime_error&amp; e) &#123; cerr &lt;&lt; e.what() &lt;&lt; endl; &#125; private: int a_; B b_;&#125;; 这种语法是C++的标准，而且目前已经被所有的主流C++编译器支持（VS2010、g++ 4.2、clang 3.1），所以几乎不存在兼容性问题，大可放心使用。 5.其他语言中的错误处理Java倾向于大量使用异常，而且还把异常分为了两类分别是检查型异常(Checked Exception)和非检查型异常(Unchecked Exception)，检查型异常就是java.lang.Exception的子类，用于报告需要检查的错误，也就是正常的业务逻辑，错误主要是由用户产生的，方便恢复或给出提示，譬如打开不存在的文件。而非检查型异常则是真正的系统异常，通常由软件缺陷导致，如数组下标越界、错误的类型转换等，这类异常继承于java.lang.RuntimeException或java.lang.Error。 Python和Java一样也倾向于使用异常，并不一定真的发生故障才抛出异常，譬如字符串转换为整数，如果字符串不合法，Python会抛出一个ValueError异常。甚至Python的迭代器在调用next()时没有更多的结果时会抛出StopIteration 异常。这是典型的用异常来处理正常控制流的方法，在Python中被广泛使用。按照优秀C++代码的标准来看，这是典型的对异常的滥用，既复杂又有额外开销，不推荐使用，但在Python中这是一个广泛遵循的约定。 相较于Java和Python，Go的错误处理是另一个极端，Go语言则根本没有异常的概念，而是普遍采用返回值的方式来表示错误，同时还提供了panic和recover语法。由于Go有多返回值的特性，避免了错误代码占用返回结果的弊端，所以你可以经常看到函数的最后一个返回值是error类型。由于总是用返回值传递错误，你可以看到Go代码中耦合了大量的错误处理，几乎再每条函数调用语句之后都有一个判断错误是否发生的语句。panic和recover机制十分类似于异常，程序在遇到panic时会一层一层退出调用栈，直到遇到recover。不过recover只在defer中定义，相当于一个函数只有一个recover，而且被recover恢复后会回到错误发生处继续向下执行代码。Go语言倾向于把一般错误都作为返回值传递，除非是非常可怕的、除了重置状态几乎无法恢复错误才会被panic语句抛出。 Go语言的recover机制和异常比起来，反倒更像Visual Basic语言中的On Error GoTo label及Resume语法。这是一种非结构化的错误处理方式，具体是当声明有On Error GoTo label的函数发生错误以后，会调转到对应的行号，如果再遇到了Resume语句就会返回发生错误的语句后面的一条继续执行，例如下面这段代码： 1234567891011Sub ErrorDemo On Error GoTo ErrorHandler Dim a as Integer a = 1/0 &#x27; An error occurs. Print a &#x27; Go back here Exit SubErrorHandler: &#x27; Code that handles errors. ResumeEnd Sub Visual Basic中还有On Error Resume Next这样的万能错误处理语句，即遇到错误以后直接忽略并继续执行，这是一种非常危险而且不负责任的做法，但却可以在早期的Visual Basic代码中到处看到。事实上用返回值传递错误代码的时候许多人也并不处理而是直接忽略，这跟On Error Resume Next本质上没有什么区别，却比On Error Resume Next危害更大——因为On Error Resume Next至少还有个标记说明「老子就是这么不负责任」，但忽略错误返回值就难以被一眼发现了。","categories":[{"name":"编程算法","slug":"编程算法","permalink":"https://billma.top/categories/%E7%BC%96%E7%A8%8B%E7%AE%97%E6%B3%95/"}],"tags":[]},{"title":"最长公共子串问题的后缀数组","slug":"lcs-suffix-array","date":"2021-08-26T07:57:30.000Z","updated":"2021-09-04T13:04:14.000Z","comments":true,"path":"2021/08/26/lcs-suffix-array/","link":"","permalink":"https://billma.top/2021/08/26/lcs-suffix-array/","excerpt":"","text":"最长公共子串最长公共子串(Longest Common Substring ,简称LCS)问题，是指求给定的一组字符串长度最大的共有的子串的问题。例如字符串”abcb”,“bca”,“acbc”的LCS就是”bc”。 求多串的LCS，显然穷举法是极端低效的算法。改进一些的算法是用一个串的每个后缀对其他所有串进行部分匹配，用KMP算法，时间复杂度为O(NL^2)，其中N为字符串个数，L为每个串的长度。更优秀的有广义后缀树的方法，时间可以达到 O(NL)。本文介绍一种基于后缀数组的LCS解法，利用二分查找技术，时间复杂度可以达到O(NLlogL)。 最长公共子串问题的后缀数组解法关于后缀数组的构建方法以及Height数组的性质，本文不再具体介绍，可以参阅IOI国家集训队2004年论文《后缀数组》(许智磊)和IOI国家集训队2009年论文《后缀数组——处理字符串的有力工具》(罗穗骞)。 回顾一下后缀数组，SA[i]表示排名第i的后缀的位置，Height[i]表示后缀SA[i]和SA[i-1]的最长公共前缀(Longest Common Prefix,LCP)，简记为Height[i]=LCP(SA[i],SA[i-1])。连续的一段后缀SA[i..j]的最长公共前缀，就是H[i-1..j]的最小值，即LCP(SA[i..j])=Min(H[i-1..j])。 求N个串的最长公共子串，可以转化为求一些后缀的最长公共前缀的最大值，这些后缀应分属于N个串。具体方法如下： 设N个串分别为S1,S2,S3,…,SN，首先建立一个串S，把这N个串用不同的分隔符连接起来。S=S1[P1]S2[P2]S3…SN-1[PN-1]SN，P1,P2,…PN-1应为不同的N-1个不在字符集中的字符，作为分隔符(后面会解释为什么)。 接下来，求出字符串S的后缀数组和Height数组，可以用倍增算法，或DC3算法。 然后二分枚举答案A，假设N个串可以有长度为A的公共字串，并对A的可行性进行验证。如果验证A可行，A’(A’&lt; A)也一定可行，尝试增大A，反之尝试缩小A。最终可以取得A的最大可行值，就是这N个串的最长公共子串的长度。可以证明，尝试次数是O(logL)的。 于是问题就集中到了，如何验证给定的长度A是否为可行解。方法是，找出在Height数组中找出连续的一段Height[i..j]，使得i&lt;=k&lt;=j均满足Height[k]&gt;=A，并且i-1&lt;=k&lt;=j中，SA[k]分属于原有N个串S1..SN。如果能找到这样的一段，那么A就是可行解，否则A不是可行解。 具体查找i..j时，可以先从前到后枚举i的位置，如果发现Height[i]&gt;=A，则开始从i向后枚举j的位置，直到找到了Height[j+1] &lt; A，判断[i..j]这个区间内SA是否分属于S1..SN。如果满足，则A为可行解，然后直接返回，否则令i=j+1继续向后枚举。S中每个字符被访问了O(1)次，S的长度为NL+N-1，所以验证的时间复杂度为O(NL)。 到这里，我们就可以理解为什么分隔符P1..PN-1必须是不同的N-1个不在字符集中的字符了，因为这样才能保证S的后缀的公共前缀不会跨出一个原有串的范围。 后缀数组是一种处理字符串的强大的数据结构，配合LCP函数与Height数组的性质，后缀数组更是如虎添翼。利用后缀数组，容易地求出了多个串的LCS，而且时空复杂度也相当优秀了。虽然比起后缀树的解法有所不如，但其简明的思路和容易编程的特点却在实际的应用中并不输于后缀树。","categories":[{"name":"编程算法","slug":"编程算法","permalink":"https://billma.top/categories/%E7%BC%96%E7%A8%8B%E7%AE%97%E6%B3%95/"}],"tags":[]},{"title":"C语言中跨文件的全局变量","slug":"c-global-variables-in-multiple-files","date":"2021-08-19T08:07:04.000Z","updated":"2021-09-04T13:03:12.000Z","comments":true,"path":"2021/08/19/c-global-variables-in-multiple-files/","link":"","permalink":"https://billma.top/2021/08/19/c-global-variables-in-multiple-files/","excerpt":"","text":"首先看一段代码 func.c 123456int buf = 0;void func() &#123; buf = 2; /*Do something else*/&#125; main.c 1234567891011# include &lt;stdio.h&gt;int buf;void func();int main() &#123; buf = 1; func(); printf(&quot;%d\\n&quot;, buf); return 0;&#125; 编译两个文件，输出的结果是怎样的呢？一眼看上去，可能会输出1，因为两个全局变量buf在不同文件中，又没有extern声明，显然是两个嘛。然而实际上它的运行结果却是2，这说明了这两个文件中引用到的其实是一个变量！ 这是为什么呢？原因是在编译时，C语言编译器将全局符号标记为strong和weak两类： 函数和初始化的全局符号被标记为strong未初始化的全局符号被标记为weak连接时，连接器对多重定义的全局符号的解析原则如下： 同一个符号不允许有多个strong定义；假如一个符号有一个strong定义和多个weak定义，那么采用该符号的strong定义；假如一个符号有多个weak定义，那么选取任意一个weak定义由于两个变量一个初始化了，一个没有初始化，所以一个是strong，一个是weak，所以连接器在符号解析时会把他们当成一个。 如果我们把main.c中的buf也初始化了： 1234567891011# include &lt;stdio.h&gt;int buf = 0;void func();int main() &#123; buf = 1; func(); printf(&quot;%d\\n&quot;, buf); return 0;&#125; 再次编译就会发现 12345duplicate symbol _buf in: /var/folders/44/_cc501qx1jd1p5bfrjbk6b100000gn/T//ccZ87C6g.o /var/folders/44/_cc501qx1jd1p5bfrjbk6b100000gn/T//ccZlES8n.old: 1 duplicate symbol for architecture x86_64collect2: ld returned 1 exit status 这是因为两个全局变量都是strong的。","categories":[{"name":"编程算法","slug":"编程算法","permalink":"https://billma.top/categories/%E7%BC%96%E7%A8%8B%E7%AE%97%E6%B3%95/"}],"tags":[{"name":"computer,cpp","slug":"computer-cpp","permalink":"https://billma.top/tags/computer-cpp/"}]},{"title":"世界最大同性交友网站七夕再搞事————remote  ：Support for password authentication was removed on August 13, 2021.","slug":"github-tokenerror","date":"2021-08-15T07:39:00.000Z","updated":"2021-09-04T13:42:14.000Z","comments":true,"path":"2021/08/15/github-tokenerror/","link":"","permalink":"https://billma.top/2021/08/15/github-tokenerror/","excerpt":"","text":"原创文章，转载注明出处！ 1.问题背景-background如果你在七夕（没错就是2021年8月14日）的这一天去访问了全球最大的同性交友网站，又刚好去更新提交代码，或者你创建了一个新的仓库送给自己，又刚好想把这个仓库送给github，你就刚好会遇到这个问题：remote: Support for password authentication was removed on August 13, 2021. Please use a personal access token instead.大概意思就是你原先的密码凭证从2021年8月13日开始就不能用了，必须使用个人访问令牌（personal access token），就是把你的密码替换成token！ 滚！我tm懒得弄！ Github 官方解释 We described our motivation as we announced similar changes to authenticating with the API as follows: In recent years, GitHub customers have benefited from a number of security enhancements to GitHub.com, such as two-factor authentication, sign-in alerts, verified devices, preventing the use of compromised passwords, and WebAuthn support. These features make it more difficult for an attacker to take a password that’s been reused across multiple websites and use it to try to gain access to your GitHub account. Despite these improvements, for historical reasons customers without two-factor authentication enabled have been able to continue to authenticate Git and API operations using only their GitHub username and password. Beginning August 13, 2021, we will no longer accept account passwords when authenticating Git operations and will require the use of token-based authentication, such as a personal access token (for developers) or an OAuth or GitHub App installation token (for integrators) for all authenticated Git operations on GitHub.com. You may also continue using SSH keys where you prefer. Tokens offer a number of security benefits over password-based authentication: 1.Unique – tokens are specific to GitHub and can be generated per use or per device 2.Revocable – tokens can can be individually revoked at any time without needing to update unaffected credentials 3.Limited – tokens can be narrowly scoped to allow only the access necessary for the use case 4.Random – tokens are not subject to the types of dictionary or brute force attempts that simpler passwords that you need to remember or enter regularly might be 大概意思就是：为了保证各位程序员的账户安全，我们已于2021年7月14日禁止大家在git及第三方应用上通过密码授权GitHub。以后将使用token令牌代替密码。（话说能活跃在全球最大同性交友网站的程序猿能有什么秘密值得如此加密。。。） 2.什么是token令牌？token令牌相当于在第三方接口代替你密码的一个玩意，有点像强密码。但是，token令牌并不是只能有唯一一个的。你可以拥有多个令牌，给不同的第三方接口不同的令牌，而每个令牌都被赋予了不同的权限和使用期限。也就是说，在令牌没赋予的权利将不会给第三方接口和git。当然，token令牌在你设定的期限之后，对应的第三方接口和git就需要你重新给一个令牌，否则也无法使用。令牌也可以随时更改权限和删除。 3.如何申请token令牌？登陆你的GitHub（注意，在github.com登录你的账户时还是用你的密码，不是令牌) 点击头像。随后点击settings。 往下拉，你会在左侧看到一个Developer settings。点击它。 左侧有Personal access tokens。点击它。 点击右侧generate new token。 Note是你令牌的名称（不是令牌密码），随便填一个。 expiration是令牌有效期限。No expiration代表永久令牌。 下面是选择相应的权限。一般就选择repo 和delete_repo，其他按需勾选。 拉到最下面，点击generate token，随后跳出来一个界面，有一串绿底字符串即为你的token令牌。 警告！！在这里你一定要将其复制并保存好！建议新建一个txt文件将令牌放入其中！因为这个令牌只会出现一次，你关闭了这个网页，以后GitHub就再也不会告诉你这个令牌了！妥善保管！（妥善保管！两情若是久长时，又岂在朝朝暮暮？） 返回刚才的界面，你可以查看已经创建的token和给予的权限与有效期。你可以随时更改，管理，删除它们（但是不会显示该令牌）。 随后回到你的git或第三方接口，账号还是输入你的username(用户名)，password就输入你复制的令牌。随后登陆就成功了。 果然，全球最大的同性交流网站不是吹的，大七夕节非得找个伴侣，它要过七夕谁也拦不住呀！","categories":[{"name":"日常经验","slug":"日常经验","permalink":"https://billma.top/categories/%E6%97%A5%E5%B8%B8%E7%BB%8F%E9%AA%8C/"}],"tags":[]},{"title":"不同的C++中求解A+B的方法","slug":"a-b-problem","date":"2021-08-12T11:59:56.000Z","updated":"2021-09-04T13:03:02.000Z","comments":true,"path":"2021/08/12/a-b-problem/","link":"","permalink":"https://billma.top/2021/08/12/a-b-problem/","excerpt":"","text":"1.基础算法12345678910#include&lt;iostream&gt;using namespace std;int main()&#123; int a,b; cin&gt;&gt;a; cin&gt;&gt;b; cout&lt;&lt;a+b&lt;&lt;endl; return 0;&#125; 1234567#include &lt;stdio.h&gt;int main()&#123; int a,b; scanf(&quot;%d%d&quot;,&amp;a,&amp;b); printf(&quot;%d&quot;,a+b); return 0;&#125; 2.Link-Cut Tree123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114#include&lt;iostream&gt;#include&lt;cstring&gt;#include&lt;cstdio&gt;#include&lt;cstring&gt;using namespace std;struct node &#123; int data,rev,sum; node *son[2],*pre; bool judge(); bool isroot(); void pushdown(); void update(); void setson(node *child,int lr);&#125;lct[233];int top,a,b;node *getnew(int x)&#123; node *now=lct+ ++top; now-&gt;data=x; now-&gt;pre=now-&gt;son[1]=now-&gt;son[0]=lct; now-&gt;sum=0; now-&gt;rev=0; return now;&#125;bool node::judge()&#123;return pre-&gt;son[1]==this;&#125;bool node::isroot()&#123; if(pre==lct)return true; return !(pre-&gt;son[1]==this||pre-&gt;son[0]==this);&#125;void node::pushdown()&#123; if(this==lct||!rev)return; swap(son[0],son[1]); son[0]-&gt;rev^=1; son[1]-&gt;rev^=1; rev=0;&#125;void node::update()&#123;sum=son[1]-&gt;sum+son[0]-&gt;sum+data;&#125;void node::setson(node *child,int lr)&#123; this-&gt;pushdown(); child-&gt;pre=this; son[lr]=child; this-&gt;update();&#125;void rotate(node *now)&#123; node *father=now-&gt;pre,*grandfa=father-&gt;pre; if(!father-&gt;isroot()) grandfa-&gt;pushdown(); father-&gt;pushdown();now-&gt;pushdown(); int lr=now-&gt;judge(); father-&gt;setson(now-&gt;son[lr^1],lr); if(father-&gt;isroot()) now-&gt;pre=grandfa; else grandfa-&gt;setson(now,father-&gt;judge()); now-&gt;setson(father,lr^1); father-&gt;update();now-&gt;update(); if(grandfa!=lct) grandfa-&gt;update();&#125;void splay(node *now)&#123; if(now-&gt;isroot())return; for(;!now-&gt;isroot();rotate(now)) if(!now-&gt;pre-&gt;isroot()) now-&gt;judge()==now-&gt;pre-&gt;judge()?rotate(now-&gt;pre):rotate(now);&#125;node *access(node *now)&#123; node *last=lct; for(;now!=lct;last=now,now=now-&gt;pre) &#123; splay(now); now-&gt;setson(last,1); &#125; return last;&#125;void changeroot(node *now)&#123; access(now)-&gt;rev^=1; splay(now);&#125;void connect(node *x,node *y)&#123; changeroot(x); x-&gt;pre=y; access(x);&#125;void cut(node *x,node *y)&#123; changeroot(x); access(y); splay(x); x-&gt;pushdown(); x-&gt;son[1]=y-&gt;pre=lct; x-&gt;update();&#125;int query(node *x,node *y)&#123; changeroot(x); node *now=access(y); return now-&gt;sum;&#125;int main()&#123; scanf(&quot;%d%d&quot;,&amp;a,&amp;b); node *A=getnew(a); node *B=getnew(b); connect(A,B); cut(A,B); connect(A,B); printf(&quot;%d\\n&quot;,query(A,B)); return 0;&#125; 3.SFPA12345678910111213141516171819202122232425262728293031323334353637383940#include&lt;cstdio&gt;using namespace std;int n,m,a,b,op,head[200009],next[200009],dis[200009],len[200009],v[200009],l,r,team[200009],pd[100009],u,v1,e;int lt(int x,int y,int z)&#123; op++,v[op]=y; next[op]=head[x],head[x]=op,len[op]=z;&#125;int SPFA(int s,int f)//SPFA……&#123; for(int i=1;i&lt;=200009;i++)&#123;dis[i]=999999999;&#125; l=0,r=1,team[1]=s,pd[s]=1,dis[s]=0; while(l!=r) &#123; l=(l+1)%90000,u=team[l],pd[u]=0,e=head[u]; while(e!=0) &#123; v1=v[e]; if(dis[v1]&gt;dis[u]+len[e]) &#123; dis[v1]=dis[u]+len[e]; if(!pd[v1]) &#123; r=(r+1)%90000, team[r]=v1, pd[v1]=1; &#125; &#125; e=next[e]; &#125; &#125; return dis[f];&#125;int main()&#123; scanf(&quot;%d%d&quot;,&amp;a,&amp;b); lt(1,2,a);lt(2,3,b); printf(&quot;%d&quot;,SPFA(1,3)); return 0;&#125; 4.Floyed123456789101112131415161718192021222324252627#include&lt;iostream&gt;#include&lt;cstring&gt;using namespace std;long long n=3,a,b,dis[4][4];int main()&#123; cin&gt;&gt;a&gt;&gt;b; for(int i=1;i&lt;=n;i++) &#123; for(int j=1;j&lt;=n;j++) &#123; dis[i][j]=2147483647; &#125; &#125; dis[1][2]=a,dis[2][3]=b; for(int k=1;k&lt;=n;k++) &#123; for(int i=1;i&lt;=n;i++) &#123; for(int j=1;j&lt;=n;j++) &#123; dis[i][j]=min(dis[i][j],dis[i][k]+dis[k][j]); &#125; &#125; &#125; cout&lt;&lt;dis[1][3];&#125; 5.递归算法1234567891011121314#include&lt;iostream&gt;using namespace std;long long a,b,c;long long dg(long long a)&#123; if(a&lt;=5)&#123;return a;&#125; return (dg(a/2)+dg(a-a/2));&#125;int main()&#123; cin&gt;&gt;a&gt;&gt;b; c=dg(a)+dg(b); cout&lt;&lt;c;&#125; 6.高精度计算1234567891011121314151617181920#include&lt;iostream&gt;#include&lt;cstring&gt;using namespace std;int main()&#123; char a1[1000],b1[1000]; int a[1000]=&#123;0&#125;,b[1000]=&#123;0&#125;,c[1000]=&#123;0&#125;,la,lb,lc,i,x; cin&gt;&gt;a1&gt;&gt;b1; la=strlen(a1); lb=strlen(b1); for(i=0;i&lt;=la-1;i++)&#123;a[la-i]=a1[i]-48;&#125; for(i=0;i&lt;=lb-1;i++)&#123;b[lb-i]=b1[i]-48;&#125; lc=1,x=0; while(lc&lt;=la||lc&lt;=lb)&#123;c[lc]=a[lc]+b[lc]+x,x=c[lc]/10,c[lc]%=10,lc++;&#125; c[lc]=x; if(c[lc]==0)&#123;lc--;&#125; for(i=lc;i&gt;=1;i--)&#123;cout&lt;&lt;c[i];&#125; cout&lt;&lt;endl; return 0;&#125; 7.压位高精12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455#include &lt;cstdio&gt; #include &lt;cstring&gt; #include &lt;cstdlib&gt; #include &lt;iostream&gt; #define p 8#define carry 100000000using namespace std; const int Maxn=50001; char s1[Maxn],s2[Maxn]; int a[Maxn],b[Maxn],ans[Maxn]; int change(char s[],int n[]) &#123; char temp[Maxn]; int len=strlen(s+1),cur=0; while(len/p) &#123; strncpy(temp,s+len-p+1,p); n[++cur]=atoi(temp); len-=p; &#125; if(len) &#123; memset(temp,0,sizeof(temp)); strncpy(temp,s+1,len); n[++cur]=atoi(temp); &#125; return cur;&#125; int add(int a[],int b[],int c[],int l1,int l2) &#123; int x=0,l3=max(l1,l2); for(int i=1;i&lt;=l3;i++) &#123; c[i]=a[i]+b[i]+x; x=c[i]/carry; c[i]%=carry; &#125; while(x&gt;0)&#123;c[++l3]=x%10;x/=10;&#125; return l3;&#125; void print(int a[],int len) &#123; printf(&quot;%d&quot;,a[len]); for(int i=len-1;i&gt;=1;i--)printf(&quot;%0*d&quot;,p,a[i]); printf(&quot;\\n&quot;); &#125; int main() &#123; scanf(&quot;%s%s&quot;,s1+1,s2+1); int la=change(s1,a); int lb=change(s2,b); int len=add(a,b,ans,la,lb); print(ans,len);&#125; 8.树状数组12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758#include&lt;iostream&gt;#include&lt;cstring&gt;using namespace std;int lowbit(int a)&#123; return a&amp;(-a);&#125;int main()&#123; int n=2,m=1; int ans[m+1]; int a[n+1],c[n+1],s[n+1]; int o=0; memset(c,0,sizeof(c)); s[0]=0; for(int i=1;i&lt;=n;i++) &#123; cin&gt;&gt;a[i]; s[i]=s[i-1]+a[i]; c[i]=s[i]-s[i-lowbit(i)];//树状数组创建前缀和优化 &#125; for(int i=1;i&lt;=m;i++) &#123; int q=2; if(q==1) &#123; int x,y; cin&gt;&gt;x&gt;&gt;y; int j=x; while(j&lt;=n) &#123; c[j]+=y; j+=lowbit(j); &#125; &#125; else &#123; int x=1,y=2; int s1=0,s2=0,p=x-1; while(p&gt;0) &#123; s1+=c[p]; p-=lowbit(p); &#125; p=y; while(p&gt;0) &#123; s2+=c[p]; p-=lowbit(p); &#125; o++; ans[o]=s2-s1; &#125; &#125; for(int i=1;i&lt;=o;i++) cout&lt;&lt;ans[i]&lt;&lt;endl; return 0;&#125; 9.粗暴模拟人工运算123456789101112131415161718192021222324#include &lt;iostream&gt; #include &lt;cmath&gt;using namespace std;int fu=1,f=1,a,b,c=0;int main()&#123; cin&gt;&gt;a&gt;&gt;b; if(a&lt;0&amp;&amp;b&gt;0)fu=2; if(a&gt;0&amp;&amp;b&lt;0)fu=3; if(a&lt;0&amp;&amp;b&lt;0)f=-1; if(a==0)&#123;cout&lt;&lt;b;return 0;&#125; if(b==0)&#123;cout&lt;&lt;a;return 0;&#125; a=abs(a); b=abs(b); if(a&gt;b&amp;&amp;fu==3)f=1; if(b&gt;a&amp;&amp;fu==3)f=-1; if(b&gt;a&amp;&amp;fu==2)f=1; if(b&lt;a&amp;&amp;fu==2)f=-1; if(fu==1)c=a+b; if(fu&gt;1)c=max(a,b)-min(a,b); c*=f; cout&lt;&lt;c; return 0;&#125; 10.Dijkstra+STL的优先队列优化12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstdlib&gt;#include &lt;cmath&gt;#include &lt;cctype&gt;#include &lt;climits&gt;#include &lt;algorithm&gt;#include &lt;map&gt;#include &lt;queue&gt;#include &lt;vector&gt;#include &lt;ctime&gt;#include &lt;string&gt;#include &lt;cstring&gt;using namespace std;const int N=405;struct Edge &#123; int v,w;&#125;;vector&lt;Edge&gt; edge[N*N];int n;int dis[N*N];bool vis[N*N];struct cmp &#123; bool operator()(int a,int b) &#123; return dis[a]&gt;dis[b]; &#125;&#125;;int Dijkstra(int start,int end)&#123; priority_queue&lt;int,vector&lt;int&gt;,cmp&gt; dijQue; memset(dis,-1,sizeof(dis)); memset(vis,0,sizeof(vis)); dijQue.push(start); dis[start]=0; while(!dijQue.empty()) &#123; int u=dijQue.top(); dijQue.pop(); vis[u]=0; if(u==end) break; for(int i=0; i&lt;edge[u].size(); i++) &#123; int v=edge[u][i].v; if(dis[v]==-1 || dis[v]&gt;dis[u]+edge[u][i].w) &#123; dis[v]=dis[u]+edge[u][i].w; if(!vis[v]) &#123; vis[v]=true; dijQue.push(v); &#125; &#125; &#125; &#125; return dis[end];&#125;int main()&#123; int a,b; scanf(&quot;%d%d&quot;,&amp;a,&amp;b); Edge Qpush; Qpush.v=1; Qpush.w=a; edge[0].push_back(Qpush); Qpush.v=2; Qpush.w=b; edge[1].push_back(Qpush); printf(&quot;%d&quot;,Dijkstra(0,2)); return 0;&#125; 11.分治算法（二分法）1234567891011#include&lt;cstdio&gt;using namespace std;int a,b,c; int main()&#123;long long l=-int(1e9)&lt;&lt;1,r=int(1e9)&lt;&lt;1; scanf(&quot;%d%d&quot;,&amp;a,&amp;b); while(r-l&gt;1)&#123;c=(l+r)&gt;&gt;1; if(c-b&lt;a)l=c; else if(c-b&gt;a)r=c; else return printf(&quot;%d\\n&quot;,c),0; &#125;if(l!=r)return printf(&quot;%d\\n&quot;,r),0; &#125; 12.位运算123456789101112131415#include &lt;cstdio&gt;int m, n;int main()&#123; scanf(&quot;%d%d&quot;, &amp;m, &amp;n); int u = m &amp; n; int v = m ^ n; while (u) &#123; int s = v; int t = u &lt;&lt; 1; u = s &amp; t; v = s ^ t; &#125; printf(&quot;%d\\n&quot;, v);&#125; 13.线段树1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465#include&lt;cstdio&gt;#include&lt;algorithm&gt;#include&lt;cstdlib&gt;#include&lt;cmath&gt;#include&lt;cstring&gt;#include&lt;iostream&gt;using namespace std;struct node&#123; int val,l,r;&#125;;node t[5];int a[5],f[5];int n,m;void init()&#123; for(int i=1;i&lt;=2;i++)&#123; scanf(&quot;%d&quot;,&amp;a[i]); &#125;&#125;void build(int l,int r,int node)&#123; t[node].l=l;t[node].r=r;t[node].val=0; if(l==r)&#123; f[l]=node; t[node].val=a[l]; return; &#125; int mid=(l+r)&gt;&gt;1; build(l,mid,node*2); build(mid+1,r,node*2+1); t[node].val=t[node*2].val+t[node*2+1].val;&#125;void update(int node)&#123; if(node==1)return; int fa=node&gt;&gt;1; t[fa].val=t[fa*2].val+t[fa*2+1].val; update(fa);&#125;int find(int l,int r,int node)&#123; if(t[node].l==l&amp;&amp;t[node].r==r)&#123; return t[node].val; &#125; int sum=0; int lc=node*2;int rc=lc+1; if(t[lc].r&gt;=l)&#123; if(t[lc].r&gt;=r)&#123; sum+=find(l,r,lc); &#125; else&#123; sum+=find(l,t[lc].r,lc); &#125; &#125; if(t[rc].l&lt;=r)&#123; if(t[rc].l&lt;=l)&#123; sum+=find(l,r,rc); &#125; else&#123; sum+=find(t[rc].l,r,rc); &#125; &#125; return sum;&#125;int main()&#123; init(); build(1,2,1); printf(&quot;%d&quot;,find(1,2,1));&#125; 14.快读12345678910111213#include &lt;cstdio&gt;int read()&#123; int f=1,x=0;char ch=getchar(); while(ch&lt;&#x27;0&#x27;||ch&gt;&#x27;9&#x27;) &#123;if(ch==&#x27;-&#x27;)f=-1;ch=getchar();&#125; while(ch&gt;=&#x27;0&#x27;&amp;&amp;ch&lt;=&#x27;9&#x27;) &#123;x=x*10+ch-&#x27;0&#x27;;ch=getchar();&#125; return f*x;&#125;int main()&#123; printf(&quot;%d&quot;,read()+read()); return 0;&#125;","categories":[{"name":"编程算法","slug":"编程算法","permalink":"https://billma.top/categories/%E7%BC%96%E7%A8%8B%E7%AE%97%E6%B3%95/"}],"tags":[{"name":"computer,cpp","slug":"computer-cpp","permalink":"https://billma.top/tags/computer-cpp/"}]},{"title":"C++中fstream的用法","slug":"cpp-fstream","date":"2021-08-04T06:48:06.000Z","updated":"2021-09-04T13:03:32.000Z","comments":true,"path":"2021/08/04/cpp-fstream/","link":"","permalink":"https://billma.top/2021/08/04/cpp-fstream/","excerpt":"","text":"写在前面：啥是fstreamofstream是从内存到硬盘，ifstream是从硬盘到内存，其实所谓的流缓冲就是内存空间; 在C++中，有一个stream这个类，所有的I/O都以这个“流”类为基础的，包括我们要认识的文件I/O，stream这个类有两个重要的运算符： 1、插入器(&lt;&lt;) 向流输出数据比如说系统有一个默认的标准输出流(cout)，一般情况下就是指的显示器，所以，cout&lt;&lt;“Write Stdout”&lt;&lt;’\\n’;就表示把字符串”Write Stdout”和换行字符(‘\\n’)输出到标准输出流。 2、析取器(&gt;&gt;) 从流中输入数据比如说系统有一个默认的标准输入流(cin)，一般情况下就是指的键盘，所以，cin&gt;&gt;x;就表示从标准输入流中读取一个指定类型(即变量x的类型)的数据。 在C++中，对文件的操作是通过stream的子类fstream(file stream)来实现的，所以，要用这种方式操作文件，就必须加入头文件fstream.h。下面就把此类的文件操作过程一一道来。 一、打开文件在fstream类中，有一个成员函数open()，就是用来打开文件的，其原型是： 1void open(const char* filename,int mode,int access); 参数： 12345678910111213filename： 要打开的文件名mode： 要打开文件的方式access： 打开文件的属性打开文件的方式在类ios(是所有流式I/O类的基类)中定义，常用的值如下：ios::app： 以追加的方式打开文件ios::ate： 文件打开后定位到文件尾，ios:app就包含有此属性ios::binary： 以二进制方式打开文件，缺省的方式是文本方式。两种方式的区别见前文ios::in： 文件以输入方式打开（文件数据输入到内存）ios::out： 文件以输出方式打开（内存数据输出到文件）ios::nocreate： 不建立文件，所以文件不存在时打开失败ios::noreplace：不覆盖文件，所以打开文件时如果文件存在失败ios::trunc： 如果文件存在，把文件长度设为0 可以用“或”把以上属性连接起来，如ios::out|ios::binary 打开文件的属性取值是： 0：普通文件，打开访问 1：只读文件 2：隐含文件 4：系统文件 可以用“或”或者“+”把以上属性连接起来，如3或1|2就是以只读和隐含属性打开文件。 例如：以二进制输入方式打开文件c:\\config.sys 1fstream file1; file1.open(“c:\\config.sys”,ios::binary|ios::in,0); 如果open函数只有文件名一个参数，则是以读/写普通文件打开，即： 123file1.open(“c:\\config.sys”);/*等价于*/file1.open(“c:\\config.sys”,ios::in|ios::out,0); 另外，fstream还有和open()一样的构造函数，对于上例，在定义的时侯就可以打开文件了： 1fstream file1(“c:\\config.sys”); 特别提出的是，fstream有两个子类：ifstream(input file stream)和ofstream(outpu file stream)，ifstream默认以输入方式打开文件，而ofstream默认以输出方式打开文件。 12ifstream file2(“c:\\pdos.def”);//以输入方式打开文件 ofstream file3(“c:\\x.123”);//以输出方式打开文件 所以，在实际应用中，根据需要的不同，选择不同的类来定义：如果想以输入方式打开，就用ifstream来定义；如果想以输出方式打开，就用ofstream来定义；如果想以输入/输出方式来打开，就用fstream来定义。 二、关闭文件打开的文件使用完成后一定要关闭，fstream提供了成员函数close()来完成此操作，如：file1.close();就把file1相连的文件关闭。 三、读写文件 读写文件分为文本文件和二进制文件的读取，对于文本文件的读取比较简单，用插入器和析取器就可以了；而对于二进制的读取就要复杂些，下要就详细的介绍这两种方式 1、文本文件的读写 文本文件的读写很简单：用插入器(&lt;&lt;)向文件输出；用析取器(&gt;&gt;)从文件输入。假设file1是以输入方式打开，file2以输出打开。示例如下： 12file2&lt;&lt;“I Love You”;//向文件写入字符串&quot;I Love You&quot; int i; file1&gt;&gt;i;//从文件输入一个整数值。 这种方式还有一种简单的格式化能力，比如可以指定输出为16进制等等，具体的格式有以下一些 操纵符 功能 输入/输出 dec 格式化为十进制数值数据 输入和输出 endl 输出一个换行符并刷新此流 输出 ends 输出一个空字符 输出 hex 格式化为十六进制数值数据 输入和输出 oct 格式化为八进制数值数据 输入和输出 setpxecision(int p) 设置浮点数的精度位数 输出 比如要把123当作十六进制输出： 1file1&lt;&lt;hex&lt;&lt;123; 要把3.1415926以5位精度输出： 1file1&lt;&lt;setpxecision(5)&lt;&lt;3.1415926。 2、二进制文件的读写put()put()函数向流写入一个字符，其原型是 1ofstream &amp;put(char ch) 使用也比较简单，如 1file1.put(‘c’); 就是向流写一个字符’c’。 get()get()函数比较灵活，有3种常用的重载形式： 一种就是和put()对应的形式： 1ifstream &amp;get(char &amp;ch); 功能是从流中读取一个字符，结果保存在引用ch中，如果到文件尾，返回空字符。如 1file2.get(x); 表示从文件中读取一个字符，并把读取的字符保存在x中。 另一种重载形式的原型是： 1int get(); 这种形式是从流中返回一个字符，如果到达文件尾，返回EOF，如 1x=file2.get(); 和上例功能是一样的。 还有一种形式的原型是： 1ifstream &amp;get(char *buf,int num,char delim=&#x27;\\n&#x27;); 这种形式把字符读入由 buf 指向的数组，直到读入了 num 个字符或遇到了由 delim 指定的字符，如果没使用 delim 这个参数，将使用缺省值换行符’\\n’。例如： 1file2.get(str1,127,‘A’); //从文件中读取字符到字符串str1，当遇到字符’A’或读取了127个字符时终止。 读写数据块要读写二进制数据块，使用成员函数read()和write()成员函数，它们原型如下： 1read(unsigned char *buf,int num); write(const unsigned char*buf,int num); num 个字符到 buf 指向的缓存中，如果在还未读入 num 个字符时就到了文件尾，可以用成员函数 int gcount();来取得实际读取的字符数；而``` write() ```从buf 指向的缓存写 num 个字符到文件中，值得注意的是缓存的类型是 ```unsigned char *```，有时可能需要类型转换。123456789101112例：```C++unsigned char str1[]=“I Love You”;int n[5];ifstream in(“xxx.xxx”); ofstream out(“yyy.yyy”);out.write(str1,strlen(str1));//把字符串str1全部写到yyy.yyy中 in.read((unsigned char*)n,sizeof(n));//从xxx.xxx中读取指定个整数，注意类型转换 in.close();out.close(); 四、检测EOF成员函数eof()用来检测是否到达文件尾，如果到达文件尾返回非0值，否则返回0。原型是int eof(); 例： 1if(in.eof()) ShowMessage(&quot;已经到达文件尾！&quot;); 五、文件定位和C的文件操作方式不同的是，C++ I/O系统管理两个与一个文件相联系的指针。一个是读指针，它说明输入操作在文件中的位置；另一个是写指针，它下次写操作的位置。每次执行输入或输出时，相应的指针自动变化。所以，C++的文件定位分为读位置和写位置的定位，对应的成员函数是seekg()和seekp()。seekg()是设置读位置， seekp是设置写位置。它们最通用的形式如下： 1istream &amp;seekg(streamoff offset,seek_dir origin); ostream &amp;seekp(streamoff offset,seek_dir origin); streamoff定义于 iostream.h 中，定义有偏移量 offset 所能取得的最大值，seek_dir 表示移动的基准位置，是一个有以下值的枚举： 123ios::beg //文件开头ios::cur //文件当前位置 ios::end //文件结尾 这两个函数一般用于二进制文件，因为文本文件会因为系统对字符的解释而可能与预想的值不同。例： 1file1.seekg(1234,ios::cur); //把文件的读指针从当前位置向后移1234个字节 file2.seekp(1234,ios::beg); //把文件的写指针从文件开头向后移1234个字节 六.fstream的用法开一个文件1234fstream f; f.open(“1.txt”, ios::in | ios::binary); if (!f.is_open()) // 检查文件是否成功打开 cout &lt;&lt; “cannot open file.” &lt;&lt; endl; ios::in与ios::bianry均为int型，定义文件打开的方式。ios::in – 打开文件用于读。ios::out – 打开文件用于写，如果文件不存在，则新建一个；存在则清空其内容。ios::binary – 以二进制bit流方式进行读写，默认是ios::text，但最好指定这种读写方式，即使要读写的是文本。因为在ios::text模式下，在写入时’\\ n’字符将转换成两个字符：回车+换行（HEX: 0D 0A) 写入，读入时作逆转换，这容易引起不必要的麻烦。ios::app – 打开文件在文件尾进行写入，即使使用了seekp改变了写入位置，仍将在文件尾写入。ios::ate – 打开文件在文件尾进行写入，但seekp有效。 读写位置的改变f.seekg(0, ios::beg); // 改变读入位置g mean Get f.seekp(0, ios::end); // 改变写入位置 p mean Put 第一个参数是偏移量offset(long)，第二个参数是offset相对的位置，三个值： ios::beg – 文件头 ios::end – 文件尾 ios::cur – 当前位置 文件读写12char s[50]; f.read(s, 49); s[50] = ‘\\0’; // 注意要自己加上字符串结束符char *s = “hello”; f.write(s, strlen(s)); 七、补充记得读写完成后用f.close()关闭文件。 例子 下面的程序用于删除带有行号的源程序中的行号。 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455#include &lt;iostream&gt;#include &lt;fstream&gt;using namespace std;//定义要删除的行号格式，下面定义的是型如: #0001 的行号const int LINE_NUM_LENGTH = 5;const char LINE_NUM_START = &#x27;#&#x27;;int main(int argc, char *argv[])&#123; fstream f; char *s = NULL; int n; for (int i = 1; i &lt; argc; i++) &#123; cout &lt;&lt; &quot;Processing file &quot; &lt;&lt; argv[i] &lt;&lt; &quot;......&quot;; f.open(argv[i], ios::in | ios::binary); if (!f.is_open()) &#123; cout &lt;&lt; &quot;CANNOT OPEN&quot;&lt;&lt; endl; continue; &#125; f.seekg(0, ios::end); n = f.tellg(); // 文件大小 s = new char[n+1]; f.seekg(0, ios::beg); f.read(s, n); s[n] = &#x27;\\0&#x27;; f.close(); // 采用一种简单的判断，遇到LINE_NUM_START后接一个数字， // 则认为它是一个行号. for (int j = 0; j &lt; n; j++) &#123; if (s[j] == LINE_NUM_START &amp;&amp; (s[j+1] &gt;= &#x27;0&#x27; &amp;&amp; s[j+1] &lt;= &#x27;9&#x27;)) &#123; for (int k = j; k &lt; j + LINE_NUM_LENGTH; k++) s[k] = &#x27; &#x27;; &#125; &#125; f.open(argv[i], ios::out | ios::binary); if (!f.is_open()) &#123; cout &lt;&lt; &quot;CANNOT OPEN&quot; &lt;&lt; endl; delete[] s; continue; &#125; f.write(s, n); f.close(); cout &lt;&lt; &quot;OK&quot; &lt;&lt; endl; delete[] s; &#125; return 0;&#125;","categories":[{"name":"编程算法","slug":"编程算法","permalink":"https://billma.top/categories/%E7%BC%96%E7%A8%8B%E7%AE%97%E6%B3%95/"}],"tags":[]},{"title":"C++ 中string用法详解","slug":"cpp-string","date":"2021-07-31T23:26:08.000Z","updated":"2021-09-04T13:03:46.000Z","comments":true,"path":"2021/08/01/cpp-string/","link":"","permalink":"https://billma.top/2021/08/01/cpp-string/","excerpt":"","text":"本文根据 CC BY-NC-SA 4.0 许可协议参考Nicolai M.Josuttis的文章并进行小部分转载 C++ 语言是个十分优秀的语言，但优秀并不表示完美。还是有许多人不愿意使用C或者C++，为什么？原因众多，其中之一就是C/C++的文本处理功能太麻烦，用起来很不方便。 举例来说，如果文本格式是：用户名 电话号码，文件名name.txt 12345Tom 23245332 Jenny 22231231 Heny 22183942 Tom 23245332 … 现在我们需要对用户名排序，且只输出不同的姓名。 那么在shell 编程中，可以这样用： 1awk &#x27;&#123;print $1&#125;&#x27; name.txt | sort | uniq 如果使用C/C++ 就麻烦了，他需要做以下工作： 先打开文件，检测文件是否打开，如果失败，则退出。 声明一个足够大得二维字符数组或者一个字符指针数组 读入一行到字符空间 然后分析一行的结构，找到空格，存入字符数组中。 关闭文件 写一个排序函数，或者使用写一个比较函数，使用sort()排序 遍历数组，比较是否有相同的，如果有，则要删除，copy… 输出信息 你可以用C++或者C语言去实现这个流程。如果一个人的主要工作就是处理这种类似的文本(例如做apache的日志统计和分析),你说他会喜欢C/C++么？ 当然，有了STL，这些处理会得到很大的简化。我们可以使用 fstream来代替麻烦的fopen fread fclose, 用vector来代替数组。最重要的是用 string来代替char * 数组，使用sort排序算法来排序，用unique 函数来去重。听起来好像很不错。看看下面代码(例程1）： 123456789101112131415161718#include &lt;string&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;vector&gt;#include &lt;fstream&gt;using namespace std;int main()&#123; ifstream in(&quot;name.txt&quot;); string strtmp; vector&lt;string&gt; vect; while(getline(in, strtmp, &#x27;\\n&#x27;)) vect.push_back(strtmp.substr(0, strtmp.find(&#x27; &#x27;))); sort(vect.begin(), vect.end()); vector&lt;string&gt;::iterator it=unique(vect.begin(), vect.end()); copy(vect.begin(), it, ostream_iterator&lt;string&gt;(cout, &quot;\\n&quot;)); return 0;&#125; 也还不错吧，至少会比想象得要简单得多！（代码里面没有对错误进行处理，只是为了说明问题，不要效仿). 当然，在这个文本格式中，不用vector而使用map会更有扩充性，例如，还可通过人名找电话号码等等，但是使用了map就不那么好用sort了。你可以用map试一试。 这里string的作用不只是可以存储字符串，还可以提供字符串的比较，查找等。在sort和unique函数中就默认使用了less 和equal_to函数, 上面的一段代码，其实使用了string的以下功能： 存储功能，在getline() 函数中 查找功能，在find() 函数中 子串功能，在substr() 函数中 string operator &lt; , 默认在sort() 函数中调用 string operator == , 默认在unique() 函数中调用 总之，有了string 后，C++的字符文本处理功能总算得到了一定补充，加上配合STL其他容器使用，其在文本处理上的功能已经与perl, shell, php的距离缩小很多了。 因此掌握string 会让你的工作事半功倍。 1.string使用其实，string并不是一个单独的容器，只是basic_string 模板类的一个typedef 而已，相对应的还有wstring, 你在string 头文件中你会发现下面的代码: 1234extern &quot;C++&quot; &#123;typedef basic_string &lt;char&gt; string;typedef basic_string &lt;wchar_t&gt; wstring;&#125; // extern &quot;C++&quot; 由于只是解释string的用法，如果没有特殊的说明，本文并不区分string 和 basic_string的区别。 string 其实相当于一个保存字符的序列容器，因此除了有字符串的一些常用操作以外，还有包含了所有的序列容器的操作。字符串的常用操作包括：增加、删除、修改、查找比较、链接、输入、输出等。详细函数列表参看附录。不要害怕这么多函数，其实有许多是序列容器带有的，平时不一定用的上。 如果你要想了解所有函数的详细用法，你需要查看basic_string，或者下载STL编程手册。这里通过实例介绍一些常用函数。 1.1 充分使用string 操作符string 重载了许多操作符，包括 +, +=, &lt;, =, , [], «, »等，正式这些操作符，对字符串操作非常方便。先看看下面这个例子： 123456789101112131415161718192021222324252627282930313233#include &lt;string&gt;#include &lt;iostream&gt;using namespace std;int main()&#123; string strinfo=&quot;Please input your name:&quot;; cout &lt;&lt; strinfo ; cin &gt;&gt; strinfo; if( strinfo == &quot;winter&quot; ) cout &lt;&lt; &quot;you are winter!&quot;&lt;&lt;endl; else if( strinfo != &quot;wende&quot; ) cout &lt;&lt; &quot;you are not wende!&quot;&lt;&lt;endl; else if( strinfo &lt; &quot;winter&quot;) cout &lt;&lt; &quot;your name should be ahead of winter&quot;&lt;&lt;endl; else cout &lt;&lt; &quot;your name should be after of winter&quot;&lt;&lt;endl; strinfo += &quot; , Welcome to China!&quot;; cout &lt;&lt; strinfo&lt;&lt;endl; cout &lt;&lt;&quot;Your name is :&quot;&lt;&lt;endl; string strtmp = &quot;How are you? &quot; + strinfo; for(int i = 0 ; i &lt; strtmp.size(); i ++) cout&lt;&lt;strtmp[i]; return 0;&#125;/*下面是程序的输出Please input your name:Heroyou are not wende!Hero , Welcome to China!How are you? Hero , Welcome to China!*/ 有了这些操作符，在STL中仿函数都可以直接使用string作为参数，例如 less, great, equal_to 等，因此在把string作为参数传递的时候，它的使用和int 或者float等已经没有什么区别了。例如，你可以使用： 1map&lt;string, int&gt; mymap; //以上默认使用了 less&lt;string&gt; 有了 operator + 以后，你可以直接连加，例如： 123string strinfo=&quot;Winter&quot;;string strlast=&quot;Hello &quot; + strinfo + &quot;!&quot;;string strtest=&quot;Hello &quot; + strinfo + &quot; Welcome&quot; + &quot; to China&quot; + &quot; !&quot;; 看见其中的特点了吗？只要你的等式里面有一个 string 对象，你就可以一直连续”+”，但有一点需要保证的是，在开始的两项中，必须有一项是 string 对象。其原理很简单： 系统遇到”+“号，发现有一项是string 对象。 系统把另一项转化为一个临时 string 对象。 执行 operator + 操作，返回新的临时string 对象。 如果又发现”+“号，继续第一步操作。 由于这个等式是由左到右开始检测执行，如果开始两项都是const char，程序自己并没有定义两个const char 的加法，编译的时候肯定就有问题了。 有了操作符以后，assign(), append(), compare(), at()等函数，除非有一些特殊的需求时，一般是用不上。当然at()函数还有一个功能，那就是检查下标是否合法，如果是使用： 123string str=&quot;winter&quot;;//下面一行有可能会引起程序中断错误str[100]=&#x27;!&#x27;;//下面会抛出异常:throws: out_of_rangecout&lt;&lt;str.at(100)&lt;&lt;endl; 了解了吗？如果你希望效率高，还是使用[]来访问，如果你希望稳定性好，最好使用at()来访问。 1.2 眼花缭乱的string find 函数由于查找是使用最为频繁的功能之一，string 提供了非常丰富的查找函数。其列表如下： 函数名 描述 find 查找 rfind 反向查找 find_first_of 查找包含子串中的任何字符，返回第一个位置 find_first_not_of 查找不包含子串中的任何字符，返回第一个位置 find_last_of 查找包含子串中的任何字符，返回最后一个位置 find_last_not_of 查找不包含子串中的任何字符，返回最后一个位置以上函数都是被重载了4次，以下是以find_first_of 函数为例说明他们的参数，其他函数和其参数一样，也就是说总共有24个函数 ： 1234size_type find_first_of(const basic_string&amp; s, size_type pos = 0)size_type find_first_of(const charT* s, size_type pos, size_type n)size_type find_first_of(const charT* s, size_type pos = 0)size_type find_first_of(charT c, size_type pos = 0) 所有的查找函数都返回一个size_type类型，这个返回值一般都是所找到字符串的位置，如果没有找到，则返回string::npos。有一点需要特别注意，所有和string::npos的比较一定要用string::size_type来使用，不要直接使用int 或者unsigned int等类型。其实string::npos表示的是-1, 看看头文件： 1234template &lt;class _CharT, class _Traits, class _Alloc&gt;const basic_string&lt;_CharT,_Traits,_Alloc&gt;::size_typebasic_string&lt;_CharT,_Traits,_Alloc&gt;::npos= basic_string&lt;_CharT,_Traits,_Alloc&gt;::size_type) -1; find 和 rfind 都还比较容易理解，一个是正向匹配，一个是逆向匹配，后面的参数pos都是用来指定起始查找位置。对于find_first_of 和find_last_of 就不是那么好理解。 find_first_of 是给定一个要查找的字符集，找到这个字符集中任何一个字符所在字符串中第一个位置。或许看一个例子更容易明白。 有这样一个需求：过滤一行开头和结尾的所有非英文字符。看看用string 如何实现： 12345678910111213141516171819202122#include &lt;string&gt;#include &lt;iostream&gt;using namespace std;int main()&#123; string strinfo=&quot; //*---Hello Word!......------&quot;; string strset=&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz&quot;; int first = strinfo.find_first_of(strset); if(first == string::npos) &#123; cout&lt;&lt;&quot;not find any characters&quot;&lt;&lt;endl; return -1; &#125; int last = strinfo.find_last_of(strset); if(last == string::npos) &#123; cout&lt;&lt;&quot;not find any characters&quot;&lt;&lt;endl; return -1; &#125; cout &lt;&lt; strinfo.substr(first, last - first + 1)&lt;&lt;endl; return 0;&#125; 这里把所有的英文字母大小写作为了需要查找的字符集，先查找第一个英文字母的位置，然后查找最后一个英文字母的位置，然后用substr 来的到中间的一部分，用于输出结果。下面就是其结果：Hello Word前面的符号和后面的符号都没有了。像这种用法可以用来查找分隔符，从而把一个连续的字符串分割成为几部分，达到 shell 命令中的 awk 的用法。特别是当分隔符有多个的时候，可以一次指定。例如有这样的需求： 1234张三|3456123, 湖南李四,4564234| 湖北王小二, 4433253|北京... 我们需要以 “|” “,“为分隔符，同时又要过滤空格，把每行分成相应的字段。 1.3 string insert, replace, erase 了解了string 的操作符，查找函数和substr，其实就已经了解了string的80%的操作了。insert函数, replace函数和erase函数在使用起来相对简单。下面以一个例子来说明其应用。 string只是提供了按照位置和区间的replace函数，而不能用一个string字串来替换指定string中的另一个字串。这里写一个函数来实现这个功能： 1234567891011void string_replace(string &amp; strBig, const string &amp; strsrc, const string &amp;strdst)&#123; string::size_type pos=0; string::size_type srclen=strsrc.size(); string::size_type dstlen=strdst.size(); while( (pos=strBig.find(strsrc, pos)) != string::npos) &#123; strBig.replace(pos, srclen, strdst); pos += dstlen; &#125;&#125; 看看如何调用： 1234567891011#include &lt;string&gt;#include &lt;iostream&gt;using namespace std;int main()&#123; string strinfo=&quot;This is Winter, Winter is a programmer. Do you know Winter?&quot;; cout&lt;&lt;&quot;Orign string is :\\n&quot;&lt;&lt;strinfo&lt;&lt;endl; string_replace(strinfo, &quot;Winter&quot;, &quot;wende&quot;); cout&lt;&lt;&quot;After replace Winter with wende, the string is :\\n&quot;&lt;&lt;strinfo&lt;&lt;endl; return 0;&#125; 其输出结果： 1234Orign string is :This is Winter, Winter is a programmer. Do you know Winter?After replace Winter with wende, the string is :This is wende, wende is a programmer. Do you know wende? 如果不用replace函数，则可以使用erase和insert来替换，也能实现string_replace函数的功能： 123456789101112void string_replace(string &amp; strBig, const string &amp; strsrc, const string &amp;strdst)&#123; string::size_type pos=0; string::size_type srclen=strsrc.size(); string::size_type dstlen=strdst.size(); while( (pos=strBig.find(strsrc, pos)) != string::npos) &#123; strBig.erase(pos, srclen); strBig.insert(pos, strdst); pos += dstlen; &#125;&#125; 当然，这种方法没有使用replace来得直接. 2 string 和C-style字符串现在看了这么多例子，发现const char* 可以和string 直接转换，例如我们在上面的例子中，使用 string_replace(strinfo, &quot;Winter&quot;, &quot;wende&quot;);来代用void string_replace(string &amp; strBig, const string &amp; strsrc, const string &amp;strdst)在C语言中只有char* 和 const char*，为了使用起来方便，string提供了三个函数满足其要求： const charTc_str() constconst charT data() constsize_type copy(charT* buf, size_type n, size_type pos = 0) const其中： c_str 直接返回一个以\\0结尾的字符串。 data 直接以数组方式返回string的内容，其大小为size()的返回值，结尾并没有\\0字符。 copy 把string的内容拷贝到buf空间中。 你或许会问，c_str()的功能包含data()，那还需要data()函数干什么？看看源码： 12345678const charT* c_str() const&#123; if (length () == 0) return &quot;&quot;; terminate (); return data ();&#125; 原来c_str()的流程是：先调用terminate()，然后在返回data()。因此如果你对效率要求比较高，而且你的处理又不一定需要以\\0的方式结束，你最好选择data()。但是对于一般的C函数中，需要以const char*为输入参数，你就要使用c_str()函数。 对于c_str() data()函数，返回的数组都是由string本身拥有，千万不可修改其内容。其原因是许多string实现的时候采用了引用机制，也就是说，有可能几个string使用同一个字符存储空间。而且你不能使用sizeof(string)来查看其大小。详细的解释和实现查看Effective STL的条款15：小心string实现的多样性。 另外在你的程序中，只在需要时才使用c_str()或者data()得到字符串，每调用一次，下次再使用就会失效，如： 1234567891011string strinfo(&quot;this is Winter&quot;);...//最好的方式是:foo(strinfo.c_str());//也可以这么用:const char* pstr=strinfo.c_str();foo(pstr);//不要再使用了pstr了, 下面的操作已经使pstr无效了。strinfo += &quot; Hello!&quot;;foo(pstr);//错误！ 会遇到什么错误？当你幸运的时候pstr可能只是指向&quot;this is Winter Hello!“的字符串，如果不幸运，就会导致程序出现其他问题，总会有一些不可遇见的错误。总之不会是你预期的那个结果。 3 string 和 Charactor Traits 了解了string的用法，该详细看看string的真相了前面提到string 只是basic_string的一个typedef。看看basic_string 的参数： 123456789101112131415161718192021222324252627282930313233template &lt;class charT, class traits = char_traits&lt;charT&gt;,class Allocator = allocator&lt;charT&gt; &gt;class basic_string&#123;//...&#125;char_traits不仅是在basic_string 中有用，在basic_istream 和 basic_ostream中也需要用到。 就像Steve Donovan在过度使用C++模板中提到的，这些确实有些过头了，要不是系统自己定义了相关的一些属性，而且用了个typedef，否则还真不知道如何使用。但复杂总有复杂道理。有了char_traits，你可以定义自己的字符串类型。当然，有了char_traits &lt; char &gt; 和char_traits &lt; wchar_t &gt; 你的需求使用已经足够了，为了更好的理解string ，咱们来看看char_traits都有哪些要求。如果你希望使用你自己定义的字符，你必须定义包含下列成员的结构： 表达式 描述```C++char_type 字符类型int_type int 类型pos_type 位置类型off_type 表示位置之间距离的类型state_type 表示状态的类型assign(c1,c2) 把字符c2赋值给c1eq(c1,c2) 判断c1,c2 是否相等lt(c1,c2) 判断c1是否小于c2length(str) 判断str的长度compare(s1,s2,n) 比较s1和s2的前n个字符copy(s1,s2, n) 把s2的前n个字符拷贝到s1中move(s1,s2, n) 把s2中的前n个字符移动到s1中assign(s,n,c) 把s中的前n个字符赋值为cfind(s,n,c) 在s的前n个字符内查找ceof() 返回end-of-fileto_int_type(c) 将c转换成int_typeto_char_type(i) 将i转换成char_typenot_eof(i) 判断i是否为EOFeq_int_type(i1,i2) 判断i1和i2是否相等 想看看实际的例子，你可以看看sgi STL的char_traits结构源码. 现在默认的string版本中，并不支持忽略大小写的比较函数和查找函数，如果你想练练手，你可以试试改写一个char_traits , 然后生成一个case_string类, 也可以在string 上做继承，然后派生一个新的类，例如：ext_string，提供一些常用的功能，例如： 定义分隔符。给定分隔符，把string分为几个字段。 提供替换功能。例如，用winter, 替换字符串中的wende 大小写处理。例如，忽略大小写比较，转换等 整形转换。例如把”123”字符串转换为123数字。 这些都是常用的功能，如果你有兴趣可以试试。其实有人已经实现了，看看Extended STL string。如果你想偷懒，下载一个头文件就可以用，有了它确实方便了很多。要是有人能提供一个支持正则表达式的string，我会非常乐意用。 4.string 建议使用string 的方便性就不用再说了，这里要重点强调的是string的安全性。 string并不是万能的，如果你在一个大工程中需要频繁处理字符串，而且有可能是多线程，那么你一定要慎重(当然，在多线程下你使用任何STL容器都要慎重)。 string的实现和效率并不一定是你想象的那样，如果你对大量的字符串操作，而且特别关心其效率，那么你有两个选择，首先，你可以看看你使用的STL版本中string实现的源码；另一选择是你自己写一个只提供你需要的功能的类。 string的c_str()函数是用来得到C语言风格的字符串，其返回的指针不能修改其空间。而且在下一次使用时重新调用获得新的指针。 string的data()函数返回的字符串指针不会以’\\0’结束，千万不可忽视。 尽量去使用操作符，这样可以让程序更加易懂 5 小结 难怪有人说：string 使用方便功能强，我们一直用它！ 6 附录1234567891011121314151617181920212223242526272829303132333435363738394041string 函数列表 函数名 描述begin 得到指向字符串开头的Iteratorend 得到指向字符串结尾的Iteratorrbegin 得到指向反向字符串开头的Iteratorrend 得到指向反向字符串结尾的Iteratorsize 得到字符串的大小length 和size函数功能相同max_size 字符串可能的最大大小capacity 在不重新分配内存的情况下，字符串可能的大小empty 判断是否为空operator[] 取第几个元素，相当于数组c_str 取得C风格的const char* 字符串data 取得字符串内容地址operator= 赋值操作符reserve 预留空间swap 交换函数insert 插入字符append 追加字符push_back 追加字符operator+= += 操作符erase 删除字符串clear 清空字符容器中所有内容resize 重新分配空间assign 和赋值操作符一样replace 替代copy 字符串到空间find 查找rfind 反向查找find_first_of 查找包含子串中的任何字符，返回第一个位置find_first_not_of 查找不包含子串中的任何字符，返回第一个位置find_last_of 查找包含子串中的任何字符，返回最后一个位置find_last_not_of 查找不包含子串中的任何字符，返回最后一个位置substr 得到字串compare 比较字符串operator+ 字符串链接operator== 判断是否相等operator!= 判断是否不等于operator&lt; 判断是否小于operator&gt;&gt; 从输入流中读入字符串operator&lt;&lt; 字符串写入输出流getline 从输入流中读入一行 之所以抛弃char*的字符串而选用C++标准程序库中的string类，是因为他和前者比较起来，不必担心内存是否足够、字符串长度等等，而且作为一个类出现，他集成的操作函数足以完成我们大多数情况下(甚至是100%)的需要。我们可以用 = 进行赋值操作，== 进行比较，+ 做串联（是不是很简单?）。我们尽可以把它看成是C++的基本数据类型。 好了，进入正题……… 首先，为了在我们的程序中使用string类型，我们必须包含头文件&lt;cstring&gt;。 1．声明一个C++字符串声明一个字符串变量很简单：string Str;这样我们就声明了一个字符串变量，但既然是一个类，就有构造函数和析构函数。上面的声明没有传入参数，所以就直接使用了string的默认的构造函数，这个函数所作的就是把Str初始化为一个空字符串。String类的构造函数和析构函数如下： 12345678910a) string s; //生成一个空字符串sb) string s(str) //拷贝构造函数 生成str的复制品c) string s(str,stridx) //将字符串str内“始于位置stridx”的部分当作字符串的初值d) string s(str,stridx,strlen) //将字符串str内“始于stridx且长度顶多strlen”的部分作为字符串的初值e) string s(cstr) //将C字符串作为s的初值f) string s(chars,chars_len) //将C字符串前chars_len个字符作为字符串s的初值。g) string s(num,c) //生成一个字符串，包含num个c字符h) string s(beg,end) //以区间beg;end(不包含end)内的字符作为字符串s的初值i) s.~string() //销毁所有字符，释放内存 都很简单，我就不解释了。 2．字符串操作函数这里是C++字符串的重点，我先把各种操作函数罗列出来，不喜欢把所有函数都看完的人可以在这里找自己喜欢的函数，再到后面看他的详细解释。 12345678910111213141516171819202122232425a) =,assign() //赋以新值b) swap() //交换两个字符串的内容c) +=,append(),push_back() //在尾部添加字符d) insert() //插入字符e) erase() //删除字符f) clear() //删除全部字符g) replace() //替换字符h) + //串联字符串i) ==,!=,&lt;,&lt;=,&gt;,&gt;=,compare() //比较字符串j) size(),length() //返回字符数量k) max_size() //返回字符的可能最大个数l) empty() //判断字符串是否为空m) capacity() //返回重新分配之前的字符容量n) reserve() //保留一定量内存以容纳一定数量的字符o) [ ], at() //存取单一字符p) &gt;&gt;,getline() //从stream读取某值q) &lt;&lt; //将谋值写入streamr) copy() //将某值赋值为一个C_strings) c_str() //将内容以C_string返回t) data() //将内容以字符数组形式返回u) substr() //返回某个子字符串v)查找函数w)begin() end() //提供类似STL的迭代器支持x) rbegin() rend() //逆向迭代器y) get_allocator() //返回配置器 2．1 C++字符串和C字符串的转换C++提供的由C++字符串得到对应的C_string的方法是使用data()、c_str()和copy()，其中，data()以字符数组的形式返回字符串内容，但并不添加’\\0’。c_str()返回一个以‘\\0’结尾的字符数组，而copy()则把字符串的内容复制或写入既有的c_string 或字符数组内。C++字符串并不以’\\0’结尾。我的建议是在程序中能使用C++字符串就使用，除非万不得已不选用c_string。由于只是简单介绍，详细介绍掠过，谁想进一步了解使用中的注意事项可以给我留言(到我的收件箱)。我详细解释。 2．2 大小和容量函数 一个C++字符串存在三种大小：a)现有的字符数，函数是size()和length()，他们等效。Empty()用来检查字符串是否为空。 b)max_size() 这个大小是指当前C++字符串最多能包含的字符数，很可能和机器本身的限制或者字符串所在位置连续内存的大小有关系。我们一般情况下不用关心他，应该大小足够我们用的。但是不够用的话，会抛出length_error异常c)capacity()重新分配内存之前 string所能包含的最大字符数。这里另一个需要指出的是reserve()函数，这个函数为string重新分配内存。重新分配的大小由其参数决定，默认参数为0，这时候会对string进行非强制性缩减。 还有必要再重复一下C++字符串和C字符串转换的问题，许多人会遇到这样的问题，自己做的程序要调用别人的函数、类什么的（比如数据库连接函数 Connect(char*,char*)），但别人的函数参数用的是char形式的，而我们知道，c_str()、data()返回的字符数组由该字符串拥有，所以是一种const char,要想作为上面提及的函数的参数，还必须拷贝到一个char*,而我们的原则是能不使用C字符串就不使用。那么，这时候我们的处理方式是：如果此函数对参数(也就是char*)的内容不修改的话，我们可以这样Connect((char*)UserID.c_str(), (char*)PassWD.c_str()),但是这时候是存在危险的，因为这样转换后的字符串其实是可以修改的（有兴趣地可以自己试一试），所以我强调除非函数调用的时候不对参数进行修改，否则必须拷贝到一个char上去。当然，更稳妥的办法是无论什么情况都拷贝到一个char上去。同时我们也祈祷现在仍然使用C字符串进行编程的高手们（说他们是高手一点儿也不为过，也许在我们还穿开裆裤的时候他们就开始编程了，哈哈…）写的函数都比较规范，那样我们就不必进行强制转换了。 2．3元素存取 我们可以使用下标操作符[] 和函数at()对元素包含的字符进行访问。但是应该注意的是操作符[]并不检查索引是否有效（有效索引 0~str.length()），如果索引失效，会引起未定义的行为。而at()会检查，如果使用at()的时候索引无效，会抛出 out_of_range异常。 有一个例外不得不说，const string a;的操作符[]对索引值是a.length()仍然有效，其返回值是’\\0’。其他的各种情况，a.length()索引都是无效的。举例如下： 12345678910111213const string Cstr(“const string”);string Str(“string”);Str[3]; //okStr.at(3); //okStr[100]; //未定义的行为Str.at(100); //throw out_of_rangeStr[Str.length()] //未定义行为Cstr[Cstr.length()] //返回 ‘\\0’Str.at(Str.length());//throw out_of_rangeCstr.at(Cstr.length()) ////throw out_of_range 我不赞成类似于下面的引用或指针赋值： char&amp; r=s[2]; char* p= &amp;s[3]; 因为一旦发生重新分配，r,p立即失效。避免的方法就是不使用。 2．4比较函数 C++字符串支持常见的比较操作符（&gt;,&gt;=,&lt;,&lt;=,==,!=），甚至支持string与C-string的比较(如 str&lt;”hello”)。在使用&gt;,&gt;=,&lt;,&lt;=这些操作符的时候是根据“当前字符特性”将字符按字典顺序进行逐一得比较。字典排序靠前的字符小，比较的顺序是从前向后比较，遇到不相等的字符就按这个位置上的两个字符的比较结果确定两个字符串的大小。同时，string(“aaaa”) &lt;string(aaaaa)。 另一个功能强大的比较函数是成员函数compare()。他支持多参数处理，支持用索引值和长度定位子串来进行比较。他返回一个整数来表示比较结果，返回值意义如下：0-相等 〉0-大于 &lt;0-小于。举例如下： 1234567string s(“abcd”);s.compare(“abcd”); //返回0s.compare(“dcba”); //返回一个小于0的值s.compare(“ab”); //返回大于0的值s.compare(s); //相等s.compare(0,2,s,2,2); //用”ab”和”cd”进行比较 小于零s.compare(1,2,”bcx”,2); //用”bc”和”bc”比较。 怎么样？功能够全的吧！什么？还不能满足你的胃口？好吧，那等着，后面有更个性化的比较算法。先给个提示，使用的是STL的比较算法。什么？对STL一窍不通？你重修吧！ 2．5 更改内容 这在字符串的操作中占了很大一部分。 首先讲赋值，第一个赋值方法当然是使用操作符=，新值可以是string(如：s=ns) 、c_string(如：s=”gaint”)甚至单一字符（如：s=’j’）。还可以使用成员函数assign()，这个成员函数可以使你更灵活的对字符串赋值。还是举例说明吧： 123456s.assign(str); //直接s.assign(str,1,3);//如果str是”iamangel” 就是把”ama”赋给字符串s.assign(str,2,string::npos);//把字符串str从索引值2开始到结尾赋给ss.assign(“gaint”); //不说s.assign(“nico”,5);//把’n’ ‘I’ ‘c’ ‘o’ ‘\\0’赋给字符串s.assign(5,’x’);//把五个x赋给字符串 把字符串清空的方法有三个：s=””;s.clear();s.erase();(我越来越觉得举例比说话让别人容易懂！)。 string提供了很多函数用于插入（insert）、删除（erase）、替换（replace）、增加字符。 先说增加字符（这里说的增加是在尾巴上），函数有 +=、append()、push_back()。举例如下： 12345678910111213s+=str;//加个字符串s+=”my name is jiayp”;//加个C字符串s+=’a’;//加个字符s.append(str);s.append(str,1,3);//不解释了 同前面的函数参数assign的解释s.append(str,2,string::npos)//不解释了s.append(“my name is jiayp”);s.append(“nico”,5);s.append(5,’x’);s.push_back(‘a’);//这个函数只能增加单个字符 对STL熟悉的理解起来很简单 也许你需要在string中间的某个位置插入字符串，这时候你可以用insert()函数，这个函数需要你指定一个安插位置的索引，被插入的字符串将放在这个索引的后面。 12s.insert(0,”my name”);s.insert(1,str); 这种形式的insert()函数不支持传入单个字符，这时的单个字符必须写成字符串形式(让人恶心)。既然你觉得恶心，那就不得不继续读下面一段话：为了插入单个字符，insert()函数提供了两个对插入单个字符操作的重载函数：insert(size_type index,size_type num,chart c)和insert(iterator pos,size_type num,chart c)。其中size_type是无符号整数，iterator是char*,所以，你这么调用insert函数是不行的：insert(0,1,’j’);这时候第一个参数将转换成哪一个呢？所以你必须这么写：insert((string::size_type)0,1,’j’)！第二种形式指出了使用迭代器安插字符的形式，在后面会提及。顺便提一下，string有很多操作是使用STL的迭代器的，他也尽量做得和STL靠近。 删除函数erase()的形式也有好几种（真烦！），替换函数replace()也有好几个。举例吧： 1234string s=”il8n”;s.replace(1,2,”nternationalizatio”);//从索引1开始的2个替换成后面的C_strings.erase(13);//从索引13开始往后全删除s.erase(7,5);//从索引7开始往后删5个 2．6提取子串和字符串连接 题取子串的函数是：substr(),形式如下： 123s.substr();//返回s的全部内容s.substr(11);//从索引11往后的子串s.substr(5,6);//从索引5开始6个字符 把两个字符串结合起来的函数是+。（谁不明白请致电120） 2．7输入输出操作 1．» 从输入流读取一个string。 2．« 把一个string写入输出流。 另一个函数就是getline(),他从输入流读取一行内容，直到遇到分行符或到了文件尾。 2．8搜索与查找 查找函数很多，功能也很强大，包括了： 123456find()rfind()find_first_of()find_last_of()find_first_not_of()find_last_not_of() 这些函数返回符合搜索条件的字符区间内的第一个字符的索引，没找到目标就返回npos。所有的函数的参数说明如下： 第一个参数是被搜寻的对象。第二个参数（可有可无）指出string内的搜寻起点索引，第三个参数（可有可无）指出搜寻的字符个数。比较简单，不多说 不理解的可以向我提出，我再仔细的解答。当然，更加强大的STL搜寻在后面会有提及。 最后再说说npos的含义，string::npos的类型是string::size_type,所以，一旦需要把一个索引与npos相比，这个索引值必须是string::size)type类型的，更多的情况下，我们可以直接把函数和npos进行比较（如：if(s.find(“jia”)==string::npos)）。","categories":[{"name":"编程算法","slug":"编程算法","permalink":"https://billma.top/categories/%E7%BC%96%E7%A8%8B%E7%AE%97%E6%B3%95/"}],"tags":[]},{"title":"C++中如何使用struct和STL创建链表结构","slug":"stl_use","date":"2021-07-21T07:39:00.000Z","updated":"2021-09-04T13:04:04.000Z","comments":true,"path":"2021/07/21/stl_use/","link":"","permalink":"https://billma.top/2021/07/21/stl_use/","excerpt":"","text":"一.链表结构的使用1.创建12345struct node&#123; int data;//该链数据 node *next;//指向链表下一个数据&#125;node *p;//链表所在的地址 2.新增存储单元1p = new node; 3.其他所需的操作符123node *head;//指向头节点node *p;//用来申请新的数据单元node *r;//用来指向末节点(最后一个数据) 4.输入一个链表12345678910int x;//每次输入的数据scanf(&quot;%d&quot;,&amp;x);while (/*输入链条的终止条件*/)&#123; p=new node;//申请一个新节点 p-&gt;data=x;//录入数据 p-&gt;next=NULL;//初始化下一个节点避免闪退 r-&gt;next=p;//将新节点接到前面链表中 r=p;//末节点后移 scanf(&quot;%d&quot;,&amp;x);//输入下一个数据&#125; 5.输出链表123456p=head-&gt;next;//p指针回到链表开头while(p-&gt;next != NULL)&#123; printf(&quot;%d&quot;,p-&gt;data); p=p-&gt;next;//到下一个节点&#125;printf(&quot;%d&quot;,p-&gt;data);//把最后一个数据也输出 6.查找某个条件的数据a.查找满足一定条件的节点12345p=head-&gt;next;while((p-&gt;data !=(满足的条件))&amp;&amp;(p-&gt;next !=NULL))p=p-&gt;next;if(p-&gt;data ==(满足的条件))处理该数据;else 输出不存在; b.查找所有满足条件的点1234567p=head-&gt;next;while(p-&gt;next != NULL)&#123; if(p-&gt;data==(满足的条件))&#123; /*处理该数据*/ &#125; p=p-&gt;next;&#125; 二.使用STL容器进行a.set1.特点无序，随机，类似于指针（但其实不是指针，STL容器过于强大） 2.头文件12#include &lt;set&gt;using namespace std; 3.定义容器12set&lt;kind&gt;name/*例：*/set&lt;string&gt;class_set;//类中的一个学生列表 4.添加元素12345while(/*满足条件*/)&#123; string str; cin&gt;&gt;str; class_set.insert(str);&#125; 5.输出学生集合（无序的）[1]创建迭代器123set&lt;kind&gt;::const_iterator cur_name;//cur_name为迭代器/*example*/set&lt;string&gt;::const_iterator cur_student; [2]遍历输出123for(cur_student = class_set.begin(); cur_student !=class_set.end(); cur_student++)cout&lt;&lt;*cur_student&lt;&lt;endl; cur_student被定义成string类型的迭代器，类似于指针地址 初始条件：cur_student指针指向class_set.begin()的地址 终止条件：cur_student指针指向class_set.end()的地址 注意：不能将for循环里面的！=改成&lt;或者其他符号，因为列表是无序的。++指的是地址后移一位，而不是数字+1 [3]使用foreach函数进行遍历输出12345678/*1.头文件*/#include &lt;algorithm&gt;/*2.创建输出指令*/static void write(set&lt;string&gt;::const_iterator cur_student)&#123; cout&lt;&lt;*cur_student&lt;&lt;endl;&#125;/*3.使用foreach进行遍历*/foreach(class_set.begin(),class_set.end(),write); 6.其它set容器当中不能有重复的元素，否则程序会意外终止。如果你想要存放重复元素，你可以将上述set换成multiset即可。 b.map1.特点不同于set，map有两个值，第一个可以称为关键字(key)，每个关键字只能在map中出现一次；第二个可能称为该关键字的值(value)； key在一个map只能出现一次，但是value可以出现多次。 key和value是一对一(one-to-one)的，而不同于set，map是有序对。 2.头文件12#include &lt;map&gt;using namespace std; 3.声明map12std:map&lt;type1,type2&gt; variable;/*example*/std:map&lt;int,string&gt; person; 当然，如果你觉得每次都定义一个map太烦了，你可以使用typedef 1234typedef map&lt;int,string&gt; mapp;mapp variable1;mapp variable2;... 4.加入元素现在，我们已经声明了一个叫做variable的map容器(你自己随便声明一个也无所谓)。插入有几种方法： 123456789101112//First Kind:INSERT function//1.insert+pairvaribale.insert(pair&lt;type1,type2&gt;(key,value));/*example*/variable.insert(pair&lt;int,string&gt;(1,&quot;Bill Gates&quot;));//2.insert+value_typevariable.insert(map&lt;type1,type2&gt;::value_type(key,value));/*example*/variable.insert(map&lt;int,string&gt;::value_type(2,&quot;Jeff Bezos&quot;));//Second Kind:Array[]variable[key]=value;/*example*/variable[3]=&quot;Michael Dell&quot;; 为什么我要分为两种呢？因为使用insert+pair和insert+value_type组合效果是相同的。他俩都是通过insert函数插入数据。但是，如果某key已经有了一个value，insert函数是会自动跳过不执行指令的。如果使用array数组进行插入，新输入的数据就会把原有的数据覆盖住。 5.查找元素这个时候又要用到迭代器了。先声明一个迭代器iterate，随后循环查找： 1234iterate = variable.find(key);while(iterate != variable.end())&#123; /*处理该数据*/&#125; 6.删除元素1234567891011121314//1.iterateiterate =variable.find(key);int del =variable.erase(iterate);//erase函数删除成功返回1，否则返回0，下同//2.keyint del =variable.erase(key);//3.delete key1~key2int del =variable.erase(key1,key2);//把key1到key2之间所有的数据全部删除//如果想删除某map所有数据，有以下两种办法：/*1*/int del =variable.erase(variable.begin(),variable.end());/*2*/int del =variable.clear(); 7.map大小我怎么知道map里面目前有多少数据呢？ 1int num =variable.size(); 未完待续。。。","categories":[{"name":"编程算法","slug":"编程算法","permalink":"https://billma.top/categories/%E7%BC%96%E7%A8%8B%E7%AE%97%E6%B3%95/"}],"tags":[]},{"title":"我的第一篇博客","slug":"myfirstblog","date":"2021-07-09T20:23:52.000Z","updated":"2021-08-25T13:40:50.000Z","comments":true,"path":"2021/07/10/myfirstblog/","link":"","permalink":"https://billma.top/2021/07/10/myfirstblog/","excerpt":"","text":"首先,欢迎各位到访我的空间一直没时间打理这个博客,时至今日,终于在凌晨从百忙中完成了我的第一篇博客.这就算我的第一篇博客吧.","categories":[],"tags":[]}],"categories":[{"name":"编程算法","slug":"编程算法","permalink":"https://billma.top/categories/%E7%BC%96%E7%A8%8B%E7%AE%97%E6%B3%95/"},{"name":"精华转载","slug":"精华转载","permalink":"https://billma.top/categories/%E7%B2%BE%E5%8D%8E%E8%BD%AC%E8%BD%BD/"},{"name":"日常经验","slug":"日常经验","permalink":"https://billma.top/categories/%E6%97%A5%E5%B8%B8%E7%BB%8F%E9%AA%8C/"},{"name":"竞赛解法","slug":"竞赛解法","permalink":"https://billma.top/categories/%E7%AB%9E%E8%B5%9B%E8%A7%A3%E6%B3%95/"},{"name":"南航苏州附中校园活动","slug":"南航苏州附中校园活动","permalink":"https://billma.top/categories/%E5%8D%97%E8%88%AA%E8%8B%8F%E5%B7%9E%E9%99%84%E4%B8%AD%E6%A0%A1%E5%9B%AD%E6%B4%BB%E5%8A%A8/"}],"tags":[{"name":"github","slug":"github","permalink":"https://billma.top/tags/github/"},{"name":"python","slug":"python","permalink":"https://billma.top/tags/python/"},{"name":"teach，computer，cpp","slug":"teach，computer，cpp","permalink":"https://billma.top/tags/teach%EF%BC%8Ccomputer%EF%BC%8Ccpp/"},{"name":"computer,cpp","slug":"computer-cpp","permalink":"https://billma.top/tags/computer-cpp/"}]}